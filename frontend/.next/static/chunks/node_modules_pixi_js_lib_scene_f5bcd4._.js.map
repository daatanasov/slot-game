{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"file":"assignWithIgnore.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/utils/assignWithIgnore.ts"],"sourcesContent":["/**\n * Assigns properties from one object to another, using an optional array of property names to ignore.\n * @param target - The target object to assign properties to.\n * @param options - The object to assign properties from.\n * @param ignore - An object of property names to ignore ({ propToIgnore: true }).\n */\nexport function assignWithIgnore<T extends Record<string, any>>(\n    target: T,\n    options: T,\n    ignore: Record<string, boolean> = {}\n)\n{\n    for (const key in options)\n    {\n        if (!ignore[key] && options[key] !== undefined)\n        {\n            target[key] = options[key];\n        }\n    }\n}\n"],"names":[],"mappings":";;;;AAMO,SAAS,gBACZ,CAAA,MAAA,EACA,OACA,EAAA,MAAA,GAAkC,CAAA,CAEtC,EAAA;IACI,IAAA,MAAW,OAAO,OAClB,CAAA;QACI,IAAI,CAAC,MAAO,CAAA,GAAG,CAAA,IAAK,OAAQ,CAAA,GAAG,CAAA,KAAM,KACrC,CAAA,EAAA;YACW,MAAA,CAAA,GAAG,CAAI,GAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;QAAA,CAC7B;IAAA,CACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"file":"definedProps.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/utils/definedProps.ts"],"sourcesContent":["/**\n * Returns a new object with all properties from the input object that have defined values.\n * @template T - The type of the input object.\n * @param {T} obj - The input object.\n * @returns {T} - A new object with only the defined properties from the input object.\n * @memberof utils\n * @ignore\n */\nexport function definedProps<T extends Record<string, any>>(obj: T): T\n{\n    const result: Partial<T> = {};\n\n    for (const key in obj)\n    {\n        if (obj[key] !== undefined)\n        {\n            result[key] = obj[key];\n        }\n    }\n\n    return result as T;\n}\n"],"names":[],"mappings":";;;;AAQO,SAAS,aAA4C,GAC5D,EAAA;IACI,MAAM,SAAqB,CAAA,CAAC,CAAA;IAE5B,IAAA,MAAW,OAAO,GAClB,CAAA;QACQ,IAAA,GAAA,CAAI,GAAG,CAAA,KAAM,KACjB,CAAA,EAAA;YACW,MAAA,CAAA,GAAG,CAAI,GAAA,GAAA,CAAI,GAAG,CAAA,CAAA;QAAA,CACzB;IAAA,CACJ;IAEO,OAAA,MAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"file":"RenderGroup.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/RenderGroup.ts"],"sourcesContent":["import { Matrix } from '../../maths/matrix/Matrix';\nimport { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport { TexturePool } from '../../rendering/renderers/shared/texture/TexturePool';\n\nimport type { Instruction } from '../../rendering/renderers/shared/instructions/Instruction';\nimport type { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport type { BatchableSprite } from '../sprite/BatchableSprite';\nimport type { ViewContainer } from '../view/ViewContainer';\nimport type { Bounds } from './bounds/Bounds';\nimport type { Container } from './Container';\n\n/**\n * Options for caching a container as a texture.\n * @memberof rendering\n * @see {@link RenderGroup#textureOptions}\n */\nexport interface CacheAsTextureOptions\n{\n    /**\n     * If true, the texture will be antialiased. This smooths out the edges of the texture.\n     * @default false\n     */\n    antialias?: boolean;\n    /**\n     * The resolution of the texture. A higher resolution means a sharper texture but uses more memory.\n     * By default the resolution is 1 which is the same as the rendererers resolution.\n     */\n    resolution?: number;\n}\n\n/**\n * A RenderGroup is a class that is responsible for I generating a set of instructions that are used to render the\n * root container and its children. It also watches for any changes in that container or its children,\n * these changes are analysed and either the instruction set is rebuild or the instructions data is updated.\n * @memberof rendering\n */\nexport class RenderGroup implements Instruction\n{\n    public renderPipeId = 'renderGroup';\n    public root: Container = null;\n\n    public canBundle = false;\n\n    public renderGroupParent: RenderGroup = null;\n    public renderGroupChildren: RenderGroup[] = [];\n\n    public worldTransform: Matrix = new Matrix();\n    public worldColorAlpha = 0xffffffff;\n    public worldColor = 0xffffff;\n    public worldAlpha = 1;\n\n    // these updates are transform changes..\n    public readonly childrenToUpdate: Record<number, { list: Container[]; index: number; }> = Object.create(null);\n    public updateTick = 0;\n\n    // these update are renderable changes..\n    public readonly childrenRenderablesToUpdate: { list: Container[]; index: number; } = { list: [], index: 0 };\n\n    // other\n    public structureDidChange = true;\n\n    public instructionSet: InstructionSet = new InstructionSet();\n\n    private readonly _onRenderContainers: Container[] = [];\n\n    /**\n     * Indicates if the cached texture needs to be updated.\n     * @default true\n     */\n    public textureNeedsUpdate = true;\n\n    /**\n     * Indicates if the container should be cached as a texture.\n     * @default false\n     */\n    public isCachedAsTexture = false;\n\n    /**\n     * The texture used for caching the container. this is only set if isCachedAsTexture is true.\n     * It can only be accessed after a render pass.\n     * @type {Texture | undefined}\n     */\n    public texture?: Texture;\n\n    /**\n     * The bounds of the cached texture.\n     * @type {Bounds | undefined}\n     * @ignore\n     */\n    public _textureBounds?: Bounds;\n\n    /**\n     * The options for caching the container as a texture.\n     * @type {CacheAsTextureOptions}\n     */\n    public textureOptions: CacheAsTextureOptions;\n\n    /**\n     *  holds a reference to the batchable render sprite\n     *  @ignore\n     */\n    public _batchableRenderGroup: BatchableSprite;\n\n    /**\n     * Holds a reference to the closest parent RenderGroup that has isCachedAsTexture enabled.\n     * This is used to properly transform coordinates when rendering into cached textures.\n     * @type {RenderGroup | null}\n     * @ignore\n     */\n    public _parentCacheAsTextureRenderGroup: RenderGroup;\n\n    private _inverseWorldTransform: Matrix;\n    private _textureOffsetInverseTransform: Matrix;\n    private _inverseParentTextureTransform: Matrix;\n\n    private _matrixDirty = 0b111;\n\n    public init(root: Container)\n    {\n        this.root = root;\n\n        if (root._onRender) this.addOnRender(root);\n\n        root.didChange = true;\n\n        const children = root.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            this.addChild(children[i]);\n        }\n    }\n\n    public enableCacheAsTexture(options: CacheAsTextureOptions = {}): void\n    {\n        this.textureOptions = options;\n        this.isCachedAsTexture = true;\n        this.textureNeedsUpdate = true;\n    }\n\n    public disableCacheAsTexture(): void\n    {\n        this.isCachedAsTexture = false;\n        if (this.texture)\n        {\n            TexturePool.returnTexture(this.texture);\n            this.texture = null;\n        }\n    }\n\n    public updateCacheTexture(): void\n    {\n        this.textureNeedsUpdate = true;\n    }\n\n    public reset()\n    {\n        this.renderGroupChildren.length = 0;\n\n        for (const i in this.childrenToUpdate)\n        {\n            const childrenAtDepth = this.childrenToUpdate[i];\n\n            childrenAtDepth.list.fill(null);\n            childrenAtDepth.index = 0;\n        }\n\n        this.childrenRenderablesToUpdate.index = 0;\n        this.childrenRenderablesToUpdate.list.fill(null);\n\n        this.root = null;\n        this.updateTick = 0;\n        this.structureDidChange = true;\n\n        this._onRenderContainers.length = 0;\n        this.renderGroupParent = null;\n\n        this.disableCacheAsTexture();\n    }\n\n    get localTransform()\n    {\n        return this.root.localTransform;\n    }\n\n    public addRenderGroupChild(renderGroupChild: RenderGroup)\n    {\n        if (renderGroupChild.renderGroupParent)\n        {\n            renderGroupChild.renderGroupParent._removeRenderGroupChild(renderGroupChild);\n        }\n\n        renderGroupChild.renderGroupParent = this;\n\n        this.renderGroupChildren.push(renderGroupChild);\n    }\n\n    private _removeRenderGroupChild(renderGroupChild: RenderGroup)\n    {\n        const index = this.renderGroupChildren.indexOf(renderGroupChild);\n\n        if (index > -1)\n        {\n            this.renderGroupChildren.splice(index, 1);\n        }\n\n        renderGroupChild.renderGroupParent = null;\n    }\n\n    public addChild(child: Container)\n    {\n        this.structureDidChange = true;\n\n        child.parentRenderGroup = this;\n\n        child.updateTick = -1;\n\n        if (child.parent === this.root)\n        {\n            child.relativeRenderGroupDepth = 1;\n        }\n        else\n        {\n            child.relativeRenderGroupDepth = child.parent.relativeRenderGroupDepth + 1;\n        }\n\n        child.didChange = true;\n        this.onChildUpdate(child);\n\n        if (child.renderGroup)\n        {\n            this.addRenderGroupChild(child.renderGroup);\n\n            return;\n        }\n\n        if (child._onRender) this.addOnRender(child);\n\n        const children = child.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            this.addChild(children[i]);\n        }\n    }\n\n    public removeChild(child: Container)\n    {\n        // remove all the children...\n        this.structureDidChange = true;\n\n        if (child._onRender)\n        {\n            // Remove the child to the onRender list under the following conditions:\n            // 1. If the child is not a render group.\n            // 2. If the child is a render group root of this render group - which it can't be removed from in this case.\n            if (!child.renderGroup)\n            {\n                this.removeOnRender(child);\n            }\n        }\n\n        child.parentRenderGroup = null;\n\n        if (child.renderGroup)\n        {\n            this._removeRenderGroupChild(child.renderGroup);\n\n            return;\n        }\n\n        const children = child.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            this.removeChild(children[i]);\n        }\n    }\n\n    public removeChildren(children: Container[])\n    {\n        for (let i = 0; i < children.length; i++)\n        {\n            this.removeChild(children[i]);\n        }\n    }\n\n    public onChildUpdate(child: Container)\n    {\n        let childrenToUpdate = this.childrenToUpdate[child.relativeRenderGroupDepth];\n\n        if (!childrenToUpdate)\n        {\n            childrenToUpdate = this.childrenToUpdate[child.relativeRenderGroupDepth] = {\n                index: 0,\n                list: [],\n            };\n        }\n\n        childrenToUpdate.list[childrenToUpdate.index++] = child;\n    }\n\n    public updateRenderable(renderable: ViewContainer)\n    {\n        if (renderable.globalDisplayStatus < 0b111) return;\n        this.instructionSet.renderPipes[renderable.renderPipeId].updateRenderable(renderable);\n        renderable.didViewUpdate = false;\n    }\n\n    public onChildViewUpdate(child: Container)\n    {\n        this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++] = child;\n    }\n\n    get isRenderable(): boolean\n    {\n        return (this.root.localDisplayStatus === 0b111 && this.worldAlpha > 0);\n    }\n\n    /**\n     * adding a container to the onRender list will make sure the user function\n     * passed in to the user defined 'onRender` callBack\n     * @param container - the container to add to the onRender list\n     */\n    public addOnRender(container: Container)\n    {\n        this._onRenderContainers.push(container);\n    }\n\n    public removeOnRender(container: Container)\n    {\n        this._onRenderContainers.splice(this._onRenderContainers.indexOf(container), 1);\n    }\n\n    public runOnRender()\n    {\n        for (let i = 0; i < this._onRenderContainers.length; i++)\n        {\n            this._onRenderContainers[i]._onRender();\n        }\n    }\n\n    public destroy()\n    {\n        this.disableCacheAsTexture();\n\n        this.renderGroupParent = null;\n        this.root = null;\n        (this.childrenRenderablesToUpdate as any) = null;\n        (this.childrenToUpdate as any) = null;\n        (this.renderGroupChildren as any) = null;\n        (this._onRenderContainers as any) = null;\n        this.instructionSet = null;\n    }\n\n    public getChildren(out: Container[] = []): Container[]\n    {\n        const children = this.root.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            this._getChildren(children[i], out);\n        }\n\n        return out;\n    }\n\n    private _getChildren(container: Container, out: Container[] = []): Container[]\n    {\n        out.push(container);\n\n        if (container.renderGroup) return out;\n\n        const children = container.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            this._getChildren(children[i], out);\n        }\n\n        return out;\n    }\n\n    public invalidateMatrices()\n    {\n        this._matrixDirty = 0b111;\n    }\n\n    /**\n     * Returns the inverse of the world transform matrix.\n     * @returns {Matrix} The inverse of the world transform matrix.\n     */\n    public get inverseWorldTransform()\n    {\n        if ((this._matrixDirty & 0b001) === 0) return this._inverseWorldTransform;\n\n        this._matrixDirty &= ~0b001;\n\n        // TODO - add dirty flag\n        this._inverseWorldTransform ||= new Matrix();\n\n        return this._inverseWorldTransform\n            .copyFrom(this.worldTransform)\n            .invert();\n    }\n\n    /**\n     * Returns the inverse of the texture offset transform matrix.\n     * @returns {Matrix} The inverse of the texture offset transform matrix.\n     */\n    public get textureOffsetInverseTransform()\n    {\n        if ((this._matrixDirty & 0b010) === 0) return this._textureOffsetInverseTransform;\n\n        this._matrixDirty &= ~0b010;\n\n        this._textureOffsetInverseTransform ||= new Matrix();\n\n        // TODO shared.. bad!\n        return this._textureOffsetInverseTransform\n            .copyFrom(this.inverseWorldTransform)\n            .translate(\n                -this._textureBounds.x,\n                -this._textureBounds.y\n            );\n    }\n\n    /**\n     * Returns the inverse of the parent texture transform matrix.\n     * This is used to properly transform coordinates when rendering into cached textures.\n     * @returns {Matrix} The inverse of the parent texture transform matrix.\n     */\n    public get inverseParentTextureTransform()\n    {\n        if ((this._matrixDirty & 0b100) === 0) return this._inverseParentTextureTransform;\n\n        this._matrixDirty &= ~0b100;\n\n        const parentCacheAsTexture = this._parentCacheAsTextureRenderGroup;\n\n        if (parentCacheAsTexture)\n        {\n            this._inverseParentTextureTransform ||= new Matrix();\n\n            // Get relative transform by removing parent's world transform\n            return this._inverseParentTextureTransform\n                .copyFrom(this.worldTransform)\n                .prepend(parentCacheAsTexture.inverseWorldTransform)\n                // Offset by texture bounds\n                .translate(\n                    -parentCacheAsTexture._textureBounds.x,\n                    -parentCacheAsTexture._textureBounds.y\n                );\n        }\n\n        return this.worldTransform;\n    }\n\n    /**\n     * Returns a matrix that transforms coordinates to the correct coordinate space of the texture being rendered to.\n     * This is the texture offset inverse transform of the closest parent RenderGroup that is cached as a texture.\n     * @returns {Matrix | null} The transform matrix for the cached texture coordinate space,\n     * or null if no parent is cached as texture.\n     */\n    public get cacheToLocalTransform()\n    {\n        if (!this._parentCacheAsTextureRenderGroup) return null;\n\n        return this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 299, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"file":"Bounds.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/bounds/Bounds.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { Rectangle } from '../../../maths/shapes/Rectangle';\n\n/**\n * Simple bounds implementation instead of more ambiguous [number, number, number, number]\n * @memberof rendering\n */\nexport interface BoundsData\n{\n    minX: number;\n    minY: number;\n    maxX: number;\n    maxY: number;\n}\n\nconst defaultMatrix = new Matrix();\n\n// TODO optimisations\n// 1 - get rectangle could use a dirty flag, rather than setting the data each time is called\n// 2- getFrame ALWAYS assumes a matrix, could be optimised to avoid the matrix calculation if not needed\n\n/**\n * A representation of an AABB bounding box.\n * @memberof rendering\n */\nexport class Bounds\n{\n    /** @default Infinity */\n    public minX = Infinity;\n\n    /** @default Infinity */\n    public minY = Infinity;\n\n    /** @default -Infinity */\n    public maxX = -Infinity;\n\n    /** @default -Infinity */\n    public maxY = -Infinity;\n\n    public matrix = defaultMatrix;\n\n    private _rectangle: Rectangle;\n\n    constructor(minX = Infinity, minY = Infinity, maxX = -Infinity, maxY = -Infinity)\n    {\n        this.minX = minX;\n        this.minY = minY;\n        this.maxX = maxX;\n        this.maxY = maxY;\n    }\n\n    /**\n     * Checks if bounds are empty.\n     * @returns - True if empty.\n     */\n    public isEmpty(): boolean\n    {\n        return this.minX > this.maxX || this.minY > this.maxY;\n    }\n\n    /** The bounding rectangle of the bounds. */\n    get rectangle(): Rectangle\n    {\n        if (!this._rectangle)\n        {\n            this._rectangle = new Rectangle();\n        }\n\n        const rectangle = this._rectangle;\n\n        if (this.minX > this.maxX || this.minY > this.maxY)\n        {\n            rectangle.x = 0;\n            rectangle.y = 0;\n            rectangle.width = 0;\n            rectangle.height = 0;\n        }\n        else\n        {\n            rectangle.copyFromBounds(this);\n        }\n\n        return rectangle;\n    }\n\n    /** Clears the bounds and resets. */\n    public clear(): this\n    {\n        this.minX = Infinity;\n        this.minY = Infinity;\n        this.maxX = -Infinity;\n        this.maxY = -Infinity;\n\n        this.matrix = defaultMatrix;\n\n        return this;\n    }\n\n    /**\n     * Sets the bounds.\n     * @param x0 - left X of frame\n     * @param y0 - top Y of frame\n     * @param x1 - right X of frame\n     * @param y1 - bottom Y of frame\n     */\n    public set(x0: number, y0: number, x1: number, y1: number)\n    {\n        this.minX = x0;\n        this.minY = y0;\n        this.maxX = x1;\n        this.maxY = y1;\n    }\n\n    /**\n     * Adds sprite frame\n     * @param x0 - left X of frame\n     * @param y0 - top Y of frame\n     * @param x1 - right X of frame\n     * @param y1 - bottom Y of frame\n     * @param matrix\n     */\n    public addFrame(x0: number, y0: number, x1: number, y1: number, matrix?: Matrix): void\n    {\n        matrix ||= this.matrix;\n\n        const a = matrix.a;\n        const b = matrix.b;\n        const c = matrix.c;\n        const d = matrix.d;\n        const tx = matrix.tx;\n        const ty = matrix.ty;\n\n        let minX = this.minX;\n        let minY = this.minY;\n        let maxX = this.maxX;\n        let maxY = this.maxY;\n\n        let x = (a * x0) + (c * y0) + tx;\n        let y = (b * x0) + (d * y0) + ty;\n\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n\n        x = (a * x1) + (c * y0) + tx;\n        y = (b * x1) + (d * y0) + ty;\n\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n\n        x = (a * x0) + (c * y1) + tx;\n        y = (b * x0) + (d * y1) + ty;\n\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n\n        x = (a * x1) + (c * y1) + tx;\n        y = (b * x1) + (d * y1) + ty;\n\n        if (x < minX) minX = x;\n        if (y < minY) minY = y;\n        if (x > maxX) maxX = x;\n        if (y > maxY) maxY = y;\n\n        this.minX = minX;\n        this.minY = minY;\n        this.maxX = maxX;\n        this.maxY = maxY;\n    }\n\n    /**\n     * Adds a rectangle to the bounds.\n     * @param rect - The rectangle to be added.\n     * @param matrix - The matrix to apply to the bounds.\n     */\n    public addRect(rect: Rectangle, matrix?: Matrix)\n    {\n        this.addFrame(rect.x, rect.y, rect.x + rect.width, rect.y + rect.height, matrix);\n    }\n\n    /**\n     * Adds other {@link Bounds}.\n     * @param bounds - The Bounds to be added\n     * @param matrix\n     */\n    public addBounds(bounds: BoundsData, matrix?: Matrix)\n    {\n        this.addFrame(bounds.minX, bounds.minY, bounds.maxX, bounds.maxY, matrix);\n    }\n\n    /**\n     * Adds other Bounds, masked with Bounds.\n     * @param mask - The Bounds to be added.\n     */\n    public addBoundsMask(mask: Bounds): void\n    {\n        this.minX = this.minX > mask.minX ? this.minX : mask.minX;\n        this.minY = this.minY > mask.minY ? this.minY : mask.minY;\n        this.maxX = this.maxX < mask.maxX ? this.maxX : mask.maxX;\n        this.maxY = this.maxY < mask.maxY ? this.maxY : mask.maxY;\n    }\n\n    /**\n     * Adds other Bounds, multiplied with matrix.\n     * @param matrix - The matrix to apply to the bounds.\n     */\n    public applyMatrix(matrix: Matrix): void\n    {\n        const minX = this.minX;\n        const minY = this.minY;\n        const maxX = this.maxX;\n        const maxY = this.maxY;\n\n        // multiple bounds by matrix\n        const { a, b, c, d, tx, ty } = matrix;\n\n        let x = (a * minX) + (c * minY) + tx;\n        let y = (b * minX) + (d * minY) + ty;\n\n        this.minX = x;\n        this.minY = y;\n        this.maxX = x;\n        this.maxY = y;\n\n        x = (a * maxX) + (c * minY) + tx;\n        y = (b * maxX) + (d * minY) + ty;\n        this.minX = x < this.minX ? x : this.minX;\n        this.minY = y < this.minY ? y : this.minY;\n        this.maxX = x > this.maxX ? x : this.maxX;\n        this.maxY = y > this.maxY ? y : this.maxY;\n\n        x = (a * minX) + (c * maxY) + tx;\n        y = (b * minX) + (d * maxY) + ty;\n        this.minX = x < this.minX ? x : this.minX;\n        this.minY = y < this.minY ? y : this.minY;\n        this.maxX = x > this.maxX ? x : this.maxX;\n        this.maxY = y > this.maxY ? y : this.maxY;\n\n        x = (a * maxX) + (c * maxY) + tx;\n        y = (b * maxX) + (d * maxY) + ty;\n        this.minX = x < this.minX ? x : this.minX;\n        this.minY = y < this.minY ? y : this.minY;\n        this.maxX = x > this.maxX ? x : this.maxX;\n        this.maxY = y > this.maxY ? y : this.maxY;\n    }\n\n    /**\n     * Resizes the bounds object to include the given rectangle.\n     * @param rect - The rectangle to be included.\n     */\n    public fit(rect: Rectangle): this\n    {\n        if (this.minX < rect.left) this.minX = rect.left;\n        if (this.maxX > rect.right) this.maxX = rect.right;\n\n        if (this.minY < rect.top) this.minY = rect.top;\n        if (this.maxY > rect.bottom) this.maxY = rect.bottom;\n\n        return this;\n    }\n\n    /**\n     * Resizes the bounds object to include the given bounds.\n     * @param left - The left value of the bounds.\n     * @param right - The right value of the bounds.\n     * @param top - The top value of the bounds.\n     * @param bottom - The bottom value of the bounds.\n     */\n    public fitBounds(left: number, right: number, top: number, bottom: number): this\n    {\n        if (this.minX < left) this.minX = left;\n        if (this.maxX > right) this.maxX = right;\n\n        if (this.minY < top) this.minY = top;\n        if (this.maxY > bottom) this.maxY = bottom;\n\n        return this;\n    }\n\n    /**\n     * Pads bounds object, making it grow in all directions.\n     * If paddingY is omitted, both paddingX and paddingY will be set to paddingX.\n     * @param paddingX - The horizontal padding amount.\n     * @param paddingY - The vertical padding amount.\n     */\n    public pad(paddingX: number, paddingY: number = paddingX): this\n    {\n        this.minX -= paddingX;\n        this.maxX += paddingX;\n\n        this.minY -= paddingY;\n        this.maxY += paddingY;\n\n        return this;\n    }\n\n    /** Ceils the bounds. */\n    public ceil(): this\n    {\n        this.minX = Math.floor(this.minX);\n        this.minY = Math.floor(this.minY);\n        this.maxX = Math.ceil(this.maxX);\n        this.maxY = Math.ceil(this.maxY);\n\n        return this;\n    }\n\n    /** Clones the bounds. */\n    public clone(): Bounds\n    {\n        return new Bounds(this.minX, this.minY, this.maxX, this.maxY);\n    }\n\n    /**\n     * Scales the bounds by the given values\n     * @param x - The X value to scale by.\n     * @param y - The Y value to scale by.\n     */\n    public scale(x: number, y: number = x): this\n    {\n        this.minX *= x;\n        this.minY *= y;\n        this.maxX *= x;\n        this.maxY *= y;\n\n        return this;\n    }\n\n    /** the x value of the bounds. */\n    get x(): number\n    {\n        return this.minX;\n    }\n    set x(value: number)\n    {\n        const width = this.maxX - this.minX;\n\n        this.minX = value;\n        this.maxX = value + width;\n    }\n\n    /** the y value of the bounds. */\n    get y(): number\n    {\n        return this.minY;\n    }\n\n    set y(value: number)\n    {\n        const height = this.maxY - this.minY;\n\n        this.minY = value;\n        this.maxY = value + height;\n    }\n\n    /** the width value of the bounds. */\n    get width(): number\n    {\n        return this.maxX - this.minX;\n    }\n\n    set width(value: number)\n    {\n        this.maxX = this.minX + value;\n    }\n\n    /** the height value of the bounds. */\n    get height(): number\n    {\n        return this.maxY - this.minY;\n    }\n\n    set height(value: number)\n    {\n        this.maxY = this.minY + value;\n    }\n\n    /** the left value of the bounds. */\n    get left(): number\n    {\n        return this.minX;\n    }\n\n    /** the right value of the bounds. */\n    get right(): number\n    {\n        return this.maxX;\n    }\n\n    /** the top value of the bounds. */\n    get top(): number\n    {\n        return this.minY;\n    }\n\n    /** the bottom value of the bounds. */\n    get bottom(): number\n    {\n        return this.maxY;\n    }\n\n    /** Is the bounds positive. */\n    get isPositive(): boolean\n    {\n        return (this.maxX - this.minX > 0) && (this.maxY - this.minY > 0);\n    }\n\n    get isValid(): boolean\n    {\n        return (this.minX + this.minY !== Infinity);\n    }\n\n    /**\n     * Adds screen vertices from array\n     * @param vertexData - calculated vertices\n     * @param beginOffset - begin offset\n     * @param endOffset - end offset, excluded\n     * @param matrix\n     */\n    public addVertexData(vertexData: Float32Array, beginOffset: number, endOffset: number, matrix?: Matrix): void\n    {\n        let minX = this.minX;\n        let minY = this.minY;\n        let maxX = this.maxX;\n        let maxY = this.maxY;\n\n        matrix ||= this.matrix;\n\n        const a = matrix.a;\n        const b = matrix.b;\n        const c = matrix.c;\n        const d = matrix.d;\n        const tx = matrix.tx;\n        const ty = matrix.ty;\n\n        for (let i = beginOffset; i < endOffset; i += 2)\n        {\n            const localX = vertexData[i];\n            const localY = vertexData[i + 1];\n\n            const x = (a * localX) + (c * localY) + tx;\n            const y = (b * localX) + (d * localY) + ty;\n\n            minX = x < minX ? x : minX;\n            minY = y < minY ? y : minY;\n            maxX = x > maxX ? x : maxX;\n            maxY = y > maxY ? y : maxY;\n        }\n\n        this.minX = minX;\n        this.minY = minY;\n        this.maxX = maxX;\n        this.maxY = maxY;\n    }\n\n    /**\n     * Checks if the point is contained within the bounds.\n     * @param x - x coordinate\n     * @param y - y coordinate\n     */\n    public containsPoint(x: number, y: number): boolean\n    {\n        if (this.minX <= x && this.minY <= y && this.maxX >= x && this.maxY >= y)\n        {\n            return true;\n        }\n\n        return false;\n    }\n\n    public toString(): string\n    {\n        // eslint-disable-next-line max-len\n        return `[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`;\n    }\n\n    /**\n     * Copies the bounds from another bounds object.\n     * @param bounds - The bounds to copy from.\n     * @returns - This bounds object.\n     */\n    public copyFrom(bounds: Bounds): this\n    {\n        this.minX = bounds.minX;\n        this.minY = bounds.minY;\n        this.maxX = bounds.maxX;\n        this.maxY = bounds.maxY;\n\n        return this;\n    }\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 640, "column": 0}, "map": {"version":3,"file":"matrixAndBoundsPool.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/bounds/utils/matrixAndBoundsPool.ts"],"sourcesContent":["import { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Pool } from '../../../../utils/pool/Pool';\nimport { Bounds } from '../Bounds';\n\nimport type { PoolItem } from '../../../../utils/pool/Pool';\n\ntype MatrixPoolItem = Matrix & PoolItem;\ntype BoundsPoolItem = Bounds & PoolItem;\nexport const matrixPool = new Pool<MatrixPoolItem>(Matrix);\nexport const boundsPool = new Pool<BoundsPoolItem>(Bounds);\n"],"names":[],"mappings":";;;;;;;;;;;AAQa,MAAA,UAAA,GAAa,mKAAI,OAAA,oKAAqB,SAAM,EAAA;AAC5C,MAAA,UAAA,GAAa,mKAAI,OAAA,iLAAqB,SAAM","ignoreList":[0]}},
    {"offset": {"line": 655, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 661, "column": 0}, "map": {"version":3,"file":"getGlobalBounds.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/bounds/getGlobalBounds.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { boundsPool, matrixPool } from './utils/matrixAndBoundsPool';\n\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Container } from '../Container';\nimport type { Bounds } from './Bounds';\n\nexport function getGlobalBounds(target: Container, skipUpdateTransform: boolean, bounds: Bounds): Bounds\n{\n    bounds.clear();\n\n    let parentTransform;\n    let pooledMatrix;\n\n    if (target.parent)\n    {\n        if (!skipUpdateTransform)\n        {\n            pooledMatrix = matrixPool.get().identity();\n            parentTransform = updateTransformBackwards(target, pooledMatrix);\n        }\n        else\n        {\n            parentTransform = target.parent.worldTransform;\n        }\n    }\n    else\n    {\n        parentTransform = Matrix.IDENTITY;\n    }\n\n    // then collect them...\n\n    _getGlobalBounds(target, bounds, parentTransform, skipUpdateTransform);\n\n    if (pooledMatrix)\n    {\n        matrixPool.return(pooledMatrix);\n    }\n\n    if (!bounds.isValid)\n    {\n        bounds.set(0, 0, 0, 0);\n    }\n\n    return bounds;\n}\n\nexport function _getGlobalBounds(\n    target: Container,\n    bounds: Bounds,\n    parentTransform: Matrix,\n    skipUpdateTransform: boolean,\n): void\n{\n    if (!target.visible || !target.measurable) return;\n\n    let worldTransform: Matrix;\n\n    if (!skipUpdateTransform)\n    {\n        target.updateLocalTransform();\n\n        worldTransform = matrixPool.get();\n\n        worldTransform.appendFrom(target.localTransform, parentTransform);\n    }\n    else\n    {\n        worldTransform = target.worldTransform;\n    }\n\n    const parentBounds = bounds;\n    const preserveBounds = !!target.effects.length;\n\n    if (preserveBounds)\n    {\n        bounds = boundsPool.get().clear();\n    }\n\n    if (target.boundsArea)\n    {\n        bounds.addRect(target.boundsArea, worldTransform);\n    }\n    else\n    {\n        if ((target as Renderable).bounds)\n        {\n            // save a copy\n            bounds.matrix = worldTransform;\n            bounds.addBounds((target as Renderable).bounds);\n        }\n\n        for (let i = 0; i < target.children.length; i++)\n        {\n            _getGlobalBounds(target.children[i], bounds, worldTransform, skipUpdateTransform);\n        }\n    }\n\n    if (preserveBounds)\n    {\n        for (let i = 0; i < target.effects.length; i++)\n        {\n            target.effects[i].addBounds?.(bounds);\n        }\n\n        parentBounds.addBounds(bounds, Matrix.IDENTITY);\n\n        boundsPool.return(bounds);\n    }\n\n    if (!skipUpdateTransform)\n    {\n        matrixPool.return(worldTransform);\n    }\n}\n\nexport function updateTransformBackwards(target: Container, parentTransform: Matrix)\n{\n    const parent = target.parent;\n\n    if (parent)\n    {\n        updateTransformBackwards(parent, parentTransform);\n\n        parent.updateLocalTransform();\n\n        parentTransform.append(parent.localTransform);\n    }\n\n    return parentTransform;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 742, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 748, "column": 0}, "map": {"version":3,"file":"multiplyHexColors.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/utils/multiplyHexColors.ts"],"sourcesContent":["export function multiplyHexColors(color1: number, color2: number): number\n{\n    if (color1 === 0xFFFFFF || !color2) return color2;\n    if (color2 === 0xFFFFFF || !color1) return color1;\n\n    const r1 = (color1 >> 16) & 0xFF;\n    const g1 = (color1 >> 8) & 0xFF;\n    const b1 = color1 & 0xFF;\n\n    const r2 = (color2 >> 16) & 0xFF;\n    const g2 = (color2 >> 8) & 0xFF;\n    const b2 = color2 & 0xFF;\n\n    const r = ((r1 * r2) / 255) | 0;\n    const g = ((g1 * g2) / 255) | 0;\n    const b = ((b1 * b2) / 255) | 0;\n\n    return (r << 16) + (g << 8) + b;\n}\n"],"names":[],"mappings":";;;;AAAgB,SAAA,iBAAA,CAAkB,MAAA,EAAgB,MAClD,EAAA;IACQ,IAAA,MAAA,KAAW,YAAY,CAAC,MAAA,EAAe,OAAA,MAAA,CAAA;IACvC,IAAA,MAAA,KAAW,YAAY,CAAC,MAAA,EAAe,OAAA,MAAA,CAAA;IAErC,MAAA,EAAA,GAAM,UAAU,EAAM,GAAA,GAAA,CAAA;IACtB,MAAA,EAAA,GAAM,UAAU,CAAK,GAAA,GAAA,CAAA;IAC3B,MAAM,KAAK,MAAS,GAAA,GAAA,CAAA;IAEd,MAAA,EAAA,GAAM,UAAU,EAAM,GAAA,GAAA,CAAA;IACtB,MAAA,EAAA,GAAM,UAAU,CAAK,GAAA,GAAA,CAAA;IAC3B,MAAM,KAAK,MAAS,GAAA,GAAA,CAAA;IAEd,MAAA,CAAA,GAAM,EAAK,GAAA,EAAA,GAAM,GAAO,GAAA,CAAA,CAAA;IACxB,MAAA,CAAA,GAAM,EAAK,GAAA,EAAA,GAAM,GAAO,GAAA,CAAA,CAAA;IACxB,MAAA,CAAA,GAAM,EAAK,GAAA,EAAA,GAAM,GAAO,GAAA,CAAA,CAAA;IAEtB,OAAA,CAAA,CAAA,IAAK,EAAO,IAAA,CAAA,CAAA,IAAK,CAAK,CAAA,GAAA,CAAA,CAAA;AAClC","ignoreList":[0]}},
    {"offset": {"line": 768, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 774, "column": 0}, "map": {"version":3,"file":"multiplyColors.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/utils/multiplyColors.ts"],"sourcesContent":["import { multiplyHexColors } from './multiplyHexColors';\n\nconst WHITE_BGR = 0xFFFFFF;\n\nexport function multiplyColors(localBGRColor: number, parentBGRColor: number)\n{\n    if (localBGRColor === WHITE_BGR)\n    {\n        return parentBGRColor;\n    }\n\n    if (parentBGRColor === WHITE_BGR)\n    {\n        return localBGRColor;\n    }\n\n    return multiplyHexColors(localBGRColor, parentBGRColor);\n}\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,SAAY,GAAA,QAAA,CAAA;AAEF,SAAA,cAAA,CAAe,aAAA,EAAuB,cACtD,EAAA;IACI,IAAI,kBAAkB,SACtB,EAAA;QACW,OAAA,cAAA,CAAA;IAAA,CACX;IAEA,IAAI,mBAAmB,SACvB,EAAA;QACW,OAAA,aAAA,CAAA;IAAA,CACX;IAEO,qMAAA,oBAAA,EAAkB,eAAe,cAAc,CAAA,CAAA;AAC1D","ignoreList":[0]}},
    {"offset": {"line": 792, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 798, "column": 0}, "map": {"version":3,"file":"getGlobalMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/getGlobalMixin.ts"],"sourcesContent":["import { updateTransformBackwards } from '../bounds/getGlobalBounds';\nimport { matrixPool } from '../bounds/utils/matrixAndBoundsPool';\nimport { multiplyColors } from '../utils/multiplyColors';\n\nimport type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { Container } from '../Container';\n\nexport function bgr2rgb(color: number): number\n{\n    return ((color & 0xFF) << 16) + (color & 0xFF00) + ((color >> 16) & 0xFF);\n}\n\nexport interface GetGlobalMixin\n{\n    getGlobalAlpha(skipUpdate: boolean): number;\n    getGlobalTransform(matrix: Matrix, skipUpdate: boolean): Matrix;\n    getGlobalTint(skipUpdate?: boolean): number;\n}\n\nexport const getGlobalMixin: Partial<Container> = {\n    /**\n     * Returns the global (compound) alpha of the container within the scene.\n     * @param skipUpdate - Performance optimization flag:\n     *   - If false (default): Recalculates the entire alpha chain through parents for accuracy\n     *   - If true: Uses cached worldAlpha from the last render pass for better performance\n     * @returns The resulting alpha value (between 0 and 1)\n     * @example\n     * // Accurate but slower - recalculates entire alpha chain\n     * const preciseAlpha = container.getGlobalAlpha();\n     *\n     * // Faster but may be outdated - uses cached alpha\n     * const cachedAlpha = container.getGlobalAlpha(true);\n     */\n    getGlobalAlpha(skipUpdate: boolean): number\n    {\n        if (skipUpdate)\n        {\n            if (this.renderGroup)\n            {\n                return this.renderGroup.worldAlpha;\n            }\n\n            if (this.parentRenderGroup)\n            {\n                return this.parentRenderGroup.worldAlpha * this.alpha;\n            }\n\n            return this.alpha;\n        }\n\n        let alpha = this.alpha;\n        let current = this.parent;\n\n        while (current)\n        {\n            alpha *= current.alpha;\n            current = current.parent;\n        }\n\n        return alpha;\n    },\n\n    /**\n     * Returns the global transform matrix of the container within the scene.\n     * @param matrix - Optional matrix to store the result. If not provided, a new Matrix will be created.\n     * @param skipUpdate - Performance optimization flag:\n     *   - If false (default): Recalculates the entire transform chain for accuracy\n     *   - If true: Uses cached worldTransform from the last render pass for better performance\n     * @returns The resulting transformation matrix (either the input matrix or a new one)\n     * @example\n     * // Accurate but slower - recalculates entire transform chain\n     * const preciseTransform = container.getGlobalTransform();\n     *\n     * // Faster but may be outdated - uses cached transform\n     * const cachedTransform = container.getGlobalTransform(undefined, true);\n     *\n     * // Reuse existing matrix\n     * const existingMatrix = new Matrix();\n     * container.getGlobalTransform(existingMatrix);\n     */\n    getGlobalTransform(matrix: Matrix, skipUpdate: boolean): Matrix\n    {\n        if (skipUpdate)\n        {\n            return matrix.copyFrom(this.worldTransform);\n        }\n\n        this.updateLocalTransform();\n\n        const parentTransform = updateTransformBackwards(this, matrixPool.get().identity());\n\n        matrix.appendFrom(this.localTransform, parentTransform);\n        matrixPool.return(parentTransform);\n\n        return matrix;\n    },\n\n    /**\n     * Returns the global (compound) tint color of the container within the scene.\n     * @param skipUpdate - Performance optimization flag:\n     *   - If false (default): Recalculates the entire tint chain through parents for accuracy\n     *   - If true: Uses cached worldColor from the last render pass for better performance\n     * @returns The resulting tint color as a 24-bit RGB number (0xRRGGBB)\n     * @example\n     * // Accurate but slower - recalculates entire tint chain\n     * const preciseTint = container.getGlobalTint();\n     *\n     * // Faster but may be outdated - uses cached tint\n     * const cachedTint = container.getGlobalTint(true);\n     */\n    getGlobalTint(skipUpdate?: boolean): number\n    {\n        if (skipUpdate)\n        {\n            if (this.renderGroup)\n            {\n                return bgr2rgb(this.renderGroup.worldColor);\n            }\n\n            if (this.parentRenderGroup)\n            {\n                return bgr2rgb(\n                    multiplyColors(this.localColor, this.parentRenderGroup.worldColor)\n                );\n            }\n\n            return this.tint;\n        }\n\n        let color = this.localColor;\n        let parent = this.parent;\n\n        while (parent)\n        {\n            color = multiplyColors(color, parent.localColor);\n            parent = parent.parent;\n        }\n\n        return bgr2rgb(color);\n    }\n\n} as Container;\n"],"names":[],"mappings":";;;;;;;;;;;AAOO,SAAS,QAAQ,KACxB,EAAA;IACI,OAAA,CAAA,CAAS,QAAQ,GAAS,KAAA,EAAA,IAAA,CAAO,KAAQ,GAAA,KAAA,CAAA,GAAA,CAAY,SAAS,EAAM,GAAA,GAAA,CAAA,CAAA;AACxE,CAAA;AASO,MAAM,cAAqC,GAAA;IAAA;;;;;;;;;;;;GAAA,GAc9C,gBAAe,UACf,EAAA;QACI,IAAI,UACJ,EAAA;YACI,IAAI,IAAA,CAAK,WACT,EAAA;gBACI,OAAO,IAAA,CAAK,WAAY,CAAA,UAAA,CAAA;YAAA,CAC5B;YAEA,IAAI,IAAA,CAAK,iBACT,EAAA;gBACW,OAAA,IAAA,CAAK,iBAAkB,CAAA,UAAA,GAAa,IAAK,CAAA,KAAA,CAAA;YAAA,CACpD;YAEA,OAAO,IAAK,CAAA,KAAA,CAAA;QAAA,CAChB;QAEA,IAAI,QAAQ,IAAK,CAAA,KAAA,CAAA;QACjB,IAAI,UAAU,IAAK,CAAA,MAAA,CAAA;QAEnB,MAAO,OACP,CAAA;YACI,KAAA,IAAS,OAAQ,CAAA,KAAA,CAAA;YACjB,OAAA,GAAU,OAAQ,CAAA,MAAA,CAAA;QAAA,CACtB;QAEO,OAAA,KAAA,CAAA;IAAA,CACX;IAAA;;;;;;;;;;;;;;;;;GAAA,GAoBA,kBAAA,EAAmB,MAAA,EAAgB,UACnC,EAAA;QACI,IAAI,UACJ,EAAA;YACW,OAAA,MAAA,CAAO,QAAS,CAAA,IAAA,CAAK,cAAc,CAAA,CAAA;QAAA,CAC9C;QAEA,IAAA,CAAK,oBAAqB,EAAA,CAAA;QAE1B,MAAM,+MAAkB,2BAAA,AAAyB,EAAA,IAAA,wMAAM,aAAA,CAAW,GAAI,EAAA,CAAE,QAAA,EAAU,CAAA,CAAA;QAE3E,MAAA,CAAA,UAAA,CAAW,IAAK,CAAA,cAAA,EAAgB,eAAe,CAAA,CAAA;8MACtD,aAAA,CAAW,MAAA,CAAO,eAAe,CAAA,CAAA;QAE1B,OAAA,MAAA,CAAA;IAAA,CACX;IAAA;;;;;;;;;;;;GAAA,GAeA,eAAc,UACd,EAAA;QACI,IAAI,UACJ,EAAA;YACI,IAAI,IAAA,CAAK,WACT,EAAA;gBACW,OAAA,OAAA,CAAQ,IAAK,CAAA,WAAA,CAAY,UAAU,CAAA,CAAA;YAAA,CAC9C;YAEA,IAAI,IAAA,CAAK,iBACT,EAAA;gBACW,OAAA,OAAA,4LACH,iBAAA,AAAe,EAAA,IAAA,CAAK,UAAY,EAAA,IAAA,CAAK,iBAAA,CAAkB,UAAU,CAAA;YACrE,CACJ;YAEA,OAAO,IAAK,CAAA,IAAA,CAAA;QAAA,CAChB;QAEA,IAAI,QAAQ,IAAK,CAAA,UAAA,CAAA;QACjB,IAAI,SAAS,IAAK,CAAA,MAAA,CAAA;QAElB,MAAO,MACP,CAAA;YACY,KAAA,8LAAA,iBAAA,EAAe,KAAO,EAAA,MAAA,CAAO,UAAU,CAAA,CAAA;YAC/C,MAAA,GAAS,MAAO,CAAA,MAAA,CAAA;QAAA,CACpB;QAEA,OAAO,QAAQ,KAAK,CAAA,CAAA;IAAA,CACxB;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 903, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 909, "column": 0}, "map": {"version":3,"file":"childrenHelperMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/childrenHelperMixin.ts"],"sourcesContent":["import { removeItems } from '../../../utils/data/removeItems';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\n\nimport type { Container, ContainerChild } from '../Container';\n\nexport interface ChildrenHelperMixin<C = ContainerChild>\n{\n    allowChildren: boolean;\n    addChild<U extends C[]>(...children: U): U[0];\n    removeChild<U extends C[]>(...children: U): U[0];\n    removeChildren(beginIndex?: number, endIndex?: number): C[];\n    removeChildAt<U extends C>(index: number): U;\n    getChildAt<U extends C>(index: number): U;\n    setChildIndex(child: C, index: number): void;\n    getChildIndex(child: C): number;\n    addChildAt<U extends C>(child: U, index: number): U;\n    swapChildren<U extends C>(child: U, child2: U): void;\n    removeFromParent(): void;\n\n    reparentChild<U extends C[]>(...child: U): U[0];\n    reparentChildAt<U extends C>(child: U, index: number): U;\n}\n\nexport const childrenHelperMixin: Partial<Container> = {\n\n    allowChildren: true,\n\n    /**\n     * Removes all children from this container that are within the begin and end indexes.\n     * @param beginIndex - The beginning position.\n     * @param endIndex - The ending position. Default value is size of the container.\n     * @returns - List of removed children\n     * @memberof scene.Container#\n     */\n    removeChildren(beginIndex = 0, endIndex?: number): ContainerChild[]\n    {\n        const end = endIndex ?? this.children.length;\n        const range = end - beginIndex;\n        const removed: ContainerChild[] = [];\n\n        if (range > 0 && range <= end)\n        {\n            for (let i = end - 1; i >= beginIndex; i--)\n            {\n                const child = this.children[i];\n\n                if (!child) continue;\n                removed.push(child);\n                child.parent = null;\n            }\n\n            removeItems(this.children, beginIndex, end);\n\n            const renderGroup = this.renderGroup || this.parentRenderGroup;\n\n            if (renderGroup)\n            {\n                renderGroup.removeChildren(removed);\n            }\n\n            for (let i = 0; i < removed.length; ++i)\n            {\n                this.emit('childRemoved', removed[i], this, i);\n                removed[i].emit('removed', this);\n            }\n\n            return removed;\n        }\n        else if (range === 0 && this.children.length === 0)\n        {\n            return removed;\n        }\n\n        throw new RangeError('removeChildren: numeric values are outside the acceptable range.');\n    },\n\n    /**\n     * Removes a child from the specified index position.\n     * @param index - The index to get the child from\n     * @returns The child that was removed.\n     * @memberof scene.Container#\n     */\n    removeChildAt<U extends ContainerChild>(index: number): U\n    {\n        const child = this.getChildAt<U>(index);\n\n        return this.removeChild(child);\n    },\n\n    /**\n     * Returns the child at the specified index\n     * @param index - The index to get the child at\n     * @returns - The child at the given index, if any.\n     * @memberof scene.Container#\n     */\n    getChildAt<U extends ContainerChild>(index: number): U\n    {\n        if (index < 0 || index >= this.children.length)\n        {\n            throw new Error(`getChildAt: Index (${index}) does not exist.`);\n        }\n\n        return this.children[index] as U;\n    },\n\n    /**\n     * Changes the position of an existing child in the container\n     * @param child - The child Container instance for which you want to change the index number\n     * @param index - The resulting index number for the child container\n     * @memberof scene.Container#\n     */\n    setChildIndex(child: ContainerChild, index: number): void\n    {\n        if (index < 0 || index >= this.children.length)\n        {\n            throw new Error(`The index ${index} supplied is out of bounds ${this.children.length}`);\n        }\n\n        this.getChildIndex(child); // check if child exists\n        this.addChildAt(child, index);\n    },\n\n    /**\n     * Returns the index position of a child Container instance\n     * @param child - The Container instance to identify\n     * @returns - The index position of the child container to identify\n     * @memberof scene.Container#\n     */\n    getChildIndex(child: ContainerChild): number\n    {\n        const index = this.children.indexOf(child);\n\n        if (index === -1)\n        {\n            throw new Error('The supplied Container must be a child of the caller');\n        }\n\n        return index;\n    },\n\n    /**\n     * Adds a child to the container at a specified index. If the index is out of bounds an error will be thrown.\n     * If the child is already in this container, it will be moved to the specified index.\n     * @param {Container} child - The child to add.\n     * @param {number} index - The absolute index where the child will be positioned at the end of the operation.\n     * @returns {Container} The child that was added.\n     * @memberof scene.Container#\n     */\n    addChildAt<U extends ContainerChild>(child: U, index: number): U\n    {\n        // #if _DEBUG\n        if (!this.allowChildren)\n        {\n            deprecation(v8_0_0, 'addChildAt: Only Containers will be allowed to add children in v8.0.0');\n        }\n        // #endif\n\n        const { children } = this;\n\n        if (index < 0 || index > children.length)\n        {\n            throw new Error(`${child}addChildAt: The index ${index} supplied is out of bounds ${children.length}`);\n        }\n\n        // TODO - check if child is already in the list?\n        // we should be able to optimise this!\n\n        if (child.parent)\n        {\n            const currentIndex = child.parent.children.indexOf(child);\n\n            // If this child is in the container and in the same position, do nothing\n            if (child.parent === this && currentIndex === index)\n            {\n                return child;\n            }\n\n            if (currentIndex !== -1)\n            {\n                child.parent.children.splice(currentIndex, 1);\n            }\n        }\n\n        if (index === children.length)\n        {\n            children.push(child);\n        }\n        else\n        {\n            children.splice(index, 0, child);\n        }\n\n        child.parent = this;\n        child.didChange = true;\n        child._updateFlags = 0b1111;\n\n        const renderGroup = this.renderGroup || this.parentRenderGroup;\n\n        if (renderGroup)\n        {\n            renderGroup.addChild(child);\n        }\n\n        if (this.sortableChildren) this.sortDirty = true;\n\n        this.emit('childAdded', child, this, index);\n        child.emit('added', this);\n\n        return child;\n    },\n    /**\n     * Swaps the position of 2 Containers within this container.\n     * @param child - First container to swap\n     * @param child2 - Second container to swap\n     * @memberof scene.Container#\n     */\n    swapChildren<U extends ContainerChild>(child: U, child2: U): void\n    {\n        if (child === child2)\n        {\n            return;\n        }\n\n        const index1 = this.getChildIndex(child);\n        const index2 = this.getChildIndex(child2);\n\n        this.children[index1] = child2;\n        this.children[index2] = child;\n\n        const renderGroup = this.renderGroup || this.parentRenderGroup;\n\n        if (renderGroup)\n        {\n            renderGroup.structureDidChange = true;\n        }\n\n        this._didContainerChangeTick++;\n    },\n    /**\n     * Remove the Container from its parent Container. If the Container has no parent, do nothing.\n     * @memberof scene.Container#\n     */\n    removeFromParent()\n    {\n        this.parent?.removeChild(this);\n    },\n\n    /**\n     * Reparent the child to this container, keeping the same worldTransform.\n     * @param child - The child to reparent\n     * @returns The first child that was reparented.\n     * @memberof scene.Container#\n     */\n    reparentChild<U extends ContainerChild[]>(...child: U): U[0]\n    {\n        if (child.length === 1)\n        {\n            return this.reparentChildAt(child[0], this.children.length);\n        }\n\n        child.forEach((c) => this.reparentChildAt(c, this.children.length));\n\n        return child[0];\n    },\n\n    /**\n     * Reparent the child to this container at the specified index, keeping the same worldTransform.\n     * @param child - The child to reparent\n     * @param index - The index to reparent the child to\n     * @memberof scene.Container#\n     */\n    reparentChildAt<U extends ContainerChild>(child: U, index: number): U\n    {\n        if (child.parent === this)\n        {\n            this.setChildIndex(child, index);\n\n            return child;\n        }\n\n        const childMat = child.worldTransform.clone();\n\n        child.removeFromParent();\n        this.addChildAt(child, index);\n\n        const newMatrix = this.worldTransform.clone();\n\n        newMatrix.invert();\n        childMat.prepend(newMatrix);\n\n        child.setFromMatrix(childMat);\n\n        return child;\n    }\n} as Container;\n"],"names":[],"mappings":";;;;;;;;AAuBO,MAAM,mBAA0C,GAAA;IAEnD,aAAe,EAAA,IAAA;IAAA;;;;;;GAAA,GASf,cAAA,EAAe,UAAa,GAAA,CAAA,EAAG,QAC/B,EAAA;QACU,MAAA,GAAA,GAAM,QAAY,IAAA,IAAA,CAAK,QAAS,CAAA,MAAA,CAAA;QACtC,MAAM,QAAQ,GAAM,GAAA,UAAA,CAAA;QACpB,MAAM,UAA4B,EAAC,CAAA;QAE/B,IAAA,KAAA,GAAQ,CAAK,IAAA,KAAA,IAAS,GAC1B,EAAA;YACI,IAAA,IAAS,CAAI,GAAA,GAAA,GAAM,CAAG,EAAA,CAAA,IAAK,YAAY,CACvC,EAAA,CAAA;gBACU,MAAA,KAAA,GAAQ,IAAK,CAAA,QAAA,CAAS,CAAC,CAAA,CAAA;gBAE7B,IAAI,CAAC,KAAA,EAAO,SAAA;gBACZ,OAAA,CAAQ,IAAA,CAAK,KAAK,CAAA,CAAA;gBAClB,KAAA,CAAM,MAAS,GAAA,IAAA,CAAA;YAAA,CACnB;sLAEY,cAAA,EAAA,IAAA,CAAK,QAAU,EAAA,UAAA,EAAY,GAAG,CAAA,CAAA;YAEpC,MAAA,WAAA,GAAc,IAAK,CAAA,WAAA,IAAe,IAAK,CAAA,iBAAA,CAAA;YAE7C,IAAI,WACJ,EAAA;gBACI,WAAA,CAAY,cAAA,CAAe,OAAO,CAAA,CAAA;YAAA,CACtC;YAEA,IAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,OAAQ,CAAA,MAAA,EAAQ,EAAE,CACtC,CAAA;gBACI,IAAA,CAAK,IAAA,CAAK,cAAgB,EAAA,OAAA,CAAQ,CAAC,CAAA,EAAG,IAAA,EAAM,CAAC,CAAA,CAAA;gBAC7C,OAAA,CAAQ,CAAC,CAAA,CAAE,IAAK,CAAA,SAAA,EAAW,IAAI,CAAA,CAAA;YAAA,CACnC;YAEO,OAAA,OAAA,CAAA;QAAA,OAAA,IAEF,KAAU,KAAA,CAAA,IAAK,IAAK,CAAA,QAAA,CAAS,MAAA,KAAW,CACjD,EAAA;YACW,OAAA,OAAA,CAAA;QAAA,CACX;QAEM,MAAA,IAAI,WAAW,kEAAkE,CAAA,CAAA;IAAA,CAC3F;IAAA;;;;;GAAA,GAQA,eAAwC,KACxC,EAAA;QACU,MAAA,KAAA,GAAQ,IAAK,CAAA,UAAA,CAAc,KAAK,CAAA,CAAA;QAE/B,OAAA,IAAA,CAAK,WAAA,CAAY,KAAK,CAAA,CAAA;IAAA,CACjC;IAAA;;;;;GAAA,GAQA,YAAqC,KACrC,EAAA;QACI,IAAI,KAAQ,GAAA,CAAA,IAAK,KAAS,IAAA,IAAA,CAAK,QAAA,CAAS,MACxC,EAAA;YACI,MAAM,IAAI,KAAA,CAAM,CAAsB,mBAAA,EAAA,KAAK,CAAmB,iBAAA,CAAA,CAAA,CAAA;QAAA,CAClE;QAEO,OAAA,IAAA,CAAK,QAAA,CAAS,KAAK,CAAA,CAAA;IAAA,CAC9B;IAAA;;;;;GAAA,GAQA,aAAA,EAAc,KAAA,EAAuB,KACrC,EAAA;QACI,IAAI,KAAQ,GAAA,CAAA,IAAK,KAAS,IAAA,IAAA,CAAK,QAAA,CAAS,MACxC,EAAA;YACU,MAAA,IAAI,MAAM,CAAa,UAAA,EAAA,KAAK,CAAA,2BAAA,EAA8B,IAAK,CAAA,QAAA,CAAS,MAAM,CAAE,CAAA,CAAA,CAAA;QAAA,CAC1F;QAEA,IAAA,CAAK,aAAA,CAAc,KAAK,CAAA,CAAA;QACnB,IAAA,CAAA,UAAA,CAAW,OAAO,KAAK,CAAA,CAAA;IAAA,CAChC;IAAA;;;;;GAAA,GAQA,eAAc,KACd,EAAA;QACI,MAAM,KAAQ,GAAA,IAAA,CAAK,QAAS,CAAA,OAAA,CAAQ,KAAK,CAAA,CAAA;QAEzC,IAAI,UAAU,CACd,CAAA,EAAA;YACU,MAAA,IAAI,MAAM,sDAAsD,CAAA,CAAA;QAAA,CAC1E;QAEO,OAAA,KAAA,CAAA;IAAA,CACX;IAAA;;;;;;;GAAA,GAUA,UAAA,EAAqC,KAAA,EAAU,KAC/C,EAAA;QAEQ,IAAA,CAAC,IAAA,CAAK,aACV,EAAA;YACI,2LAAA,2KAAY,SAAA,EAAQ,uEAAuE,CAAA,CAAA;QAAA,CAC/F;QAGM,MAAA,EAAE,QAAA,EAAa,GAAA,IAAA,CAAA;QAErB,IAAI,KAAQ,GAAA,CAAA,IAAK,KAAQ,GAAA,QAAA,CAAS,MAClC,EAAA;YACU,MAAA,IAAI,MAAM,CAAG,EAAA,KAAK,CAAA,sBAAA,EAAyB,KAAK,CAAA,2BAAA,EAA8B,QAAS,CAAA,MAAM,CAAE,CAAA,CAAA,CAAA;QAAA,CACzG;QAKA,IAAI,MAAM,MACV,EAAA;YACI,MAAM,YAAe,GAAA,KAAA,CAAM,MAAO,CAAA,QAAA,CAAS,OAAA,CAAQ,KAAK,CAAA,CAAA;YAGxD,IAAI,KAAM,CAAA,MAAA,KAAW,IAAQ,IAAA,YAAA,KAAiB,KAC9C,EAAA;gBACW,OAAA,KAAA,CAAA;YAAA,CACX;YAEA,IAAI,iBAAiB,CACrB,CAAA,EAAA;gBACI,KAAA,CAAM,MAAO,CAAA,QAAA,CAAS,MAAO,CAAA,YAAA,EAAc,CAAC,CAAA,CAAA;YAAA,CAChD;QAAA,CACJ;QAEI,IAAA,KAAA,KAAU,SAAS,MACvB,EAAA;YACI,QAAA,CAAS,IAAA,CAAK,KAAK,CAAA,CAAA;QAAA,CAGvB,MAAA;YACa,QAAA,CAAA,MAAA,CAAO,KAAO,EAAA,CAAA,EAAG,KAAK,CAAA,CAAA;QAAA,CACnC;QAEA,KAAA,CAAM,MAAS,GAAA,IAAA,CAAA;QACf,KAAA,CAAM,SAAY,GAAA,IAAA,CAAA;QAClB,KAAA,CAAM,YAAe,GAAA,EAAA,CAAA;QAEf,MAAA,WAAA,GAAc,IAAK,CAAA,WAAA,IAAe,IAAK,CAAA,iBAAA,CAAA;QAE7C,IAAI,WACJ,EAAA;YACI,WAAA,CAAY,QAAA,CAAS,KAAK,CAAA,CAAA;QAAA,CAC9B;QAEA,IAAI,IAAK,CAAA,gBAAA,EAAkB,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;QAE5C,IAAA,CAAK,IAAK,CAAA,YAAA,EAAc,KAAO,EAAA,IAAA,EAAM,KAAK,CAAA,CAAA;QACpC,KAAA,CAAA,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;QAEjB,OAAA,KAAA,CAAA;IAAA,CACX;IAAA;;;;;GAAA,GAOA,YAAA,EAAuC,KAAA,EAAU,MACjD,EAAA;QACI,IAAI,UAAU,MACd,EAAA;YACI,OAAA;QAAA,CACJ;QAEM,MAAA,MAAA,GAAS,IAAK,CAAA,aAAA,CAAc,KAAK,CAAA,CAAA;QACjC,MAAA,MAAA,GAAS,IAAK,CAAA,aAAA,CAAc,MAAM,CAAA,CAAA;QAEnC,IAAA,CAAA,QAAA,CAAS,MAAM,CAAI,GAAA,MAAA,CAAA;QACnB,IAAA,CAAA,QAAA,CAAS,MAAM,CAAI,GAAA,KAAA,CAAA;QAElB,MAAA,WAAA,GAAc,IAAK,CAAA,WAAA,IAAe,IAAK,CAAA,iBAAA,CAAA;QAE7C,IAAI,WACJ,EAAA;YACI,WAAA,CAAY,kBAAqB,GAAA,IAAA,CAAA;QAAA,CACrC;QAEK,IAAA,CAAA,uBAAA,EAAA,CAAA;IAAA,CACT;IAAA;;;GAAA,GAKA,gBACA,GAAA;QACS,IAAA,CAAA,MAAA,EAAQ,YAAY,IAAI,CAAA,CAAA;IAAA,CACjC;IAAA;;;;;GAAA,GAQA,eAAA,GAA6C,KAC7C,EAAA;QACQ,IAAA,KAAA,CAAM,MAAA,KAAW,CACrB,EAAA;YACI,OAAO,IAAA,CAAK,eAAgB,CAAA,KAAA,CAAM,CAAC,CAAG,EAAA,IAAA,CAAK,QAAA,CAAS,MAAM,CAAA,CAAA;QAAA,CAC9D;QAEM,KAAA,CAAA,OAAA,CAAQ,CAAC,CAAM,GAAA,IAAA,CAAK,eAAA,CAAgB,CAAG,EAAA,IAAA,CAAK,QAAS,CAAA,MAAM,CAAC,CAAA,CAAA;QAElE,OAAO,KAAA,CAAM,CAAC,CAAA,CAAA;IAAA,CAClB;IAAA;;;;;GAAA,GAQA,eAAA,EAA0C,KAAA,EAAU,KACpD,EAAA;QACQ,IAAA,KAAA,CAAM,MAAA,KAAW,IACrB,EAAA;YACS,IAAA,CAAA,aAAA,CAAc,OAAO,KAAK,CAAA,CAAA;YAExB,OAAA,KAAA,CAAA;QAAA,CACX;QAEM,MAAA,QAAA,GAAW,KAAM,CAAA,cAAA,CAAe,KAAM,EAAA,CAAA;QAE5C,KAAA,CAAM,gBAAiB,EAAA,CAAA;QAClB,IAAA,CAAA,UAAA,CAAW,OAAO,KAAK,CAAA,CAAA;QAEtB,MAAA,SAAA,GAAY,IAAK,CAAA,cAAA,CAAe,KAAM,EAAA,CAAA;QAE5C,SAAA,CAAU,MAAO,EAAA,CAAA;QACjB,QAAA,CAAS,OAAA,CAAQ,SAAS,CAAA,CAAA;QAE1B,KAAA,CAAM,aAAA,CAAc,QAAQ,CAAA,CAAA;QAErB,OAAA,KAAA,CAAA;IAAA,CACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1095, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1101, "column": 0}, "map": {"version":3,"file":"toLocalGlobalMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/toLocalGlobalMixin.ts"],"sourcesContent":["import { Point } from '../../../maths/point/Point';\nimport { matrixPool } from '../bounds/utils/matrixAndBoundsPool';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { Container } from '../Container';\n\nexport interface ToLocalGlobalMixin\n{\n    getGlobalPosition(point?: Point, skipUpdate?: boolean): Point;\n    toGlobal<P extends PointData = Point>(position: PointData, point?: P, skipUpdate?: boolean): P;\n    toLocal<P extends PointData = Point>(position: PointData, from?: Container, point?: P, skipUpdate?: boolean): P;\n}\n\nexport const toLocalGlobalMixin: Partial<Container> = {\n    /**\n     * Returns the global position of the container.\n     * @param point - The optional point to write the global value to.\n     * @param skipUpdate - Should we skip the update transform.\n     * @returns - The updated point.\n     * @memberof scene.Container#\n     */\n    getGlobalPosition(point: Point = new Point(), skipUpdate = false): Point\n    {\n        if (this.parent)\n        {\n            this.parent.toGlobal(this._position, point, skipUpdate);\n        }\n        else\n        {\n            point.x = this._position.x;\n            point.y = this._position.y;\n        }\n\n        return point;\n    },\n\n    /**\n     * Calculates the global position of the container.\n     * @param position - The world origin to calculate from.\n     * @param point - A Point object in which to store the value, optional\n     *  (otherwise will create a new Point).\n     * @param skipUpdate - Should we skip the update transform.\n     * @returns - A point object representing the position of this object.\n     * @memberof scene.Container#\n     */\n    toGlobal<P extends PointData = Point>(position: PointData, point?: P, skipUpdate = false): P\n    {\n        const globalMatrix = this.getGlobalTransform(matrixPool.get(), skipUpdate);\n\n        // simply apply the matrix..\n        point = globalMatrix.apply(position, point);\n\n        matrixPool.return(globalMatrix);\n\n        return point;\n    },\n\n    /**\n     * Calculates the local position of the container relative to another point.\n     * @param position - The world origin to calculate from.\n     * @param from - The Container to calculate the global position from.\n     * @param point - A Point object in which to store the value, optional\n     *  (otherwise will create a new Point).\n     * @param skipUpdate - Should we skip the update transform\n     * @returns - A point object representing the position of this object\n     * @memberof scene.Container#\n     */\n    toLocal<P extends PointData = Point>(position: PointData, from?: Container, point?: P, skipUpdate?: boolean): P\n    {\n        if (from)\n        {\n            position = from.toGlobal(position, point, skipUpdate);\n        }\n\n        const globalMatrix = this.getGlobalTransform(matrixPool.get(), skipUpdate);\n\n        // simply apply the matrix..\n        point = globalMatrix.applyInverse(position, point);\n\n        matrixPool.return(globalMatrix);\n\n        return point;\n    }\n} as Container;\n"],"names":[],"mappings":";;;;;;;;AAaO,MAAM,kBAAyC,GAAA;IAAA;;;;;;GAAA,GAQlD,mBAAkB,KAAe,GAAA,qKAAI,QAAM,EAAA,EAAG,aAAa,KAC3D,EAAA;QACI,IAAI,IAAA,CAAK,MACT,EAAA;YACI,IAAA,CAAK,MAAO,CAAA,QAAA,CAAS,IAAK,CAAA,SAAA,EAAW,OAAO,UAAU,CAAA,CAAA;QAAA,CAG1D,MAAA;YACU,KAAA,CAAA,CAAA,GAAI,IAAA,CAAK,SAAU,CAAA,CAAA,CAAA;YACnB,KAAA,CAAA,CAAA,GAAI,IAAA,CAAK,SAAU,CAAA,CAAA,CAAA;QAAA,CAC7B;QAEO,OAAA,KAAA,CAAA;IAAA,CACX;IAAA;;;;;;;;GAAA,GAWA,QAAsC,EAAA,QAAA,EAAqB,KAAW,EAAA,UAAA,GAAa,KACnF,EAAA;QACI,MAAM,eAAe,IAAK,CAAA,kBAAA,uMAAmB,aAAW,CAAA,GAAA,IAAO,UAAU,CAAA,CAAA;QAGjE,KAAA,GAAA,YAAA,CAAa,KAAM,CAAA,QAAA,EAAU,KAAK,CAAA,CAAA;8MAE1C,aAAA,CAAW,MAAA,CAAO,YAAY,CAAA,CAAA;QAEvB,OAAA,KAAA,CAAA;IAAA,CACX;IAAA;;;;;;;;;GAAA,GAYA,OAAqC,EAAA,QAAA,EAAqB,IAAkB,EAAA,KAAA,EAAW,UACvF,EAAA;QACI,IAAI,IACJ,EAAA;YACI,QAAA,GAAW,IAAK,CAAA,QAAA,CAAS,QAAU,EAAA,KAAA,EAAO,UAAU,CAAA,CAAA;QAAA,CACxD;QAEA,MAAM,eAAe,IAAK,CAAA,kBAAA,uMAAmB,aAAW,CAAA,GAAA,IAAO,UAAU,CAAA,CAAA;QAGjE,KAAA,GAAA,YAAA,CAAa,YAAa,CAAA,QAAA,EAAU,KAAK,CAAA,CAAA;8MAEjD,aAAA,CAAW,MAAA,CAAO,YAAY,CAAA,CAAA;QAEvB,OAAA,KAAA,CAAA;IAAA,CACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1160, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1166, "column": 0}, "map": {"version":3,"file":"onRenderMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/onRenderMixin.ts"],"sourcesContent":["import type { Container } from '../Container';\n\nexport interface OnRenderMixinConstructor\n{\n    onRender?: (() => void | null);\n}\nexport interface OnRenderMixin extends Required<OnRenderMixinConstructor>\n{\n    _onRender: (() => void) | null;\n}\n\nexport const onRenderMixin: Partial<Container> = {\n    _onRender: null,\n\n    set onRender(func: () => void)\n    {\n        const renderGroup = this.renderGroup || this.parentRenderGroup;\n\n        if (!func)\n        {\n            if (this._onRender)\n            {\n                renderGroup?.removeOnRender(this);\n            }\n\n            this._onRender = null;\n\n            return;\n        }\n\n        if (!this._onRender)\n        {\n            renderGroup?.addOnRender(this);\n        }\n\n        this._onRender = func;\n    },\n\n    /**\n     * This callback is used when the container is rendered. This is where you should add your custom\n     * logic that is needed to be run every frame.\n     *\n     * In v7 many users used `updateTransform` for this, however the way v8 renders objects is different\n     * and \"updateTransform\" is no longer called every frame\n     * @example\n     * const container = new Container();\n     * container.onRender = () => {\n     *    container.rotation += 0.01;\n     * };\n     * @memberof scene.Container#\n     */\n    get onRender(): () => void\n    {\n        return this._onRender;\n    }\n} as Container;\n"],"names":[],"mappings":";;;;AAWO,MAAM,aAAoC,GAAA;IAC7C,SAAW,EAAA,IAAA;IAEX,IAAI,UAAS,IACb,CAAA;QACU,MAAA,WAAA,GAAc,IAAK,CAAA,WAAA,IAAe,IAAK,CAAA,iBAAA,CAAA;QAE7C,IAAI,CAAC,IACL,EAAA;YACI,IAAI,IAAA,CAAK,SACT,EAAA;gBACI,WAAA,EAAa,eAAe,IAAI,CAAA,CAAA;YAAA,CACpC;YAEA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;YAEjB,OAAA;QAAA,CACJ;QAEI,IAAA,CAAC,IAAA,CAAK,SACV,EAAA;YACI,WAAA,EAAa,YAAY,IAAI,CAAA,CAAA;QAAA,CACjC;QAEA,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;IAAA,CACrB;IAAA;;;;;;;;;;;;GAAA,GAeA,IAAI,QACJ,IAAA;QACI,OAAO,IAAK,CAAA,SAAA,CAAA;IAAA,CAChB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1204, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1210, "column": 0}, "map": {"version":3,"file":"checkChildrenDidChange.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/utils/checkChildrenDidChange.ts"],"sourcesContent":["import type { Container } from '../Container';\n\n/**\n * This function will crawl through the container essentially check if the children have changed.\n *\n * This function checkChildrenDidChange recursively checks if any child in a Container\n * or its children has changed. It does this by comparing a generated changeId for each\n * child against a stored value in previousData.\n * The changeId is a combination of the child's uid and _didChangeId, bitwise manipulated for uniqueness.\n * If a change is detected, it updates previousData and sets didChange to true.\n * The function returns a boolean indicating if any change was detected in the entire hierarchy of children.\n * @param container - the container to check for changes\n * @param previousData - the previous data from the last check made\n * @param previousData.data - the data array\n * @param previousData.index - the index of the data array\n * @param previousData.didChange - did the data change\n */\nexport function checkChildrenDidChange(\n    container: Container,\n    previousData: {\n        data: number[];\n        index: number;\n        didChange: boolean;\n    })\n{\n    const children = container.children;\n\n    for (let i = 0; i < children.length; i++)\n    {\n        const child = children[i];\n\n        const uid = child.uid;\n        const didChange = ((child._didViewChangeTick & 0xffff) << 16) | (child._didContainerChangeTick & 0xffff);\n\n        const index = previousData.index;\n\n        if (previousData.data[index] !== uid || previousData.data[index + 1] !== didChange)\n        {\n            previousData.data[previousData.index] = uid;\n            previousData.data[previousData.index + 1] = didChange;\n\n            previousData.didChange = true;\n        }\n\n        previousData.index = index + 2;\n\n        if (child.children.length)\n        {\n            checkChildrenDidChange(child, previousData);\n        }\n    }\n\n    return previousData.didChange;\n}\n"],"names":[],"mappings":";;;;AAiBgB,SAAA,sBAAA,CACZ,SAAA,EACA,YAKJ,EAAA;IACI,MAAM,WAAW,SAAU,CAAA,QAAA,CAAA;IAE3B,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,MAAA,EAAQ,CACrC,EAAA,CAAA;QACU,MAAA,KAAA,GAAQ,QAAA,CAAS,CAAC,CAAA,CAAA;QAExB,MAAM,MAAM,KAAM,CAAA,GAAA,CAAA;QAClB,MAAM,YAAA,CAAc,KAAM,CAAA,kBAAA,GAAqB,KAAW,KAAA,EAAA,GAAO,MAAM,uBAA0B,GAAA,KAAA,CAAA;QAEjG,MAAM,QAAQ,YAAa,CAAA,KAAA,CAAA;QAEvB,IAAA,YAAA,CAAa,IAAK,CAAA,KAAK,CAAM,KAAA,GAAA,IAAO,aAAa,IAAK,CAAA,KAAA,GAAQ,CAAC,CAAA,KAAM,SACzE,EAAA;YACiB,YAAA,CAAA,IAAA,CAAK,YAAa,CAAA,KAAK,CAAI,GAAA,GAAA,CAAA;YACxC,YAAA,CAAa,IAAK,CAAA,YAAA,CAAa,KAAQ,GAAA,CAAC,CAAI,GAAA,SAAA,CAAA;YAE5C,YAAA,CAAa,SAAY,GAAA,IAAA,CAAA;QAAA,CAC7B;QAEA,YAAA,CAAa,KAAA,GAAQ,KAAQ,GAAA,CAAA,CAAA;QAEzB,IAAA,KAAA,CAAM,QAAA,CAAS,MACnB,EAAA;YACI,sBAAA,CAAuB,OAAO,YAAY,CAAA,CAAA;QAAA,CAC9C;IAAA,CACJ;IAEA,OAAO,YAAa,CAAA,SAAA,CAAA;AACxB","ignoreList":[0]}},
    {"offset": {"line": 1235, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1241, "column": 0}, "map": {"version":3,"file":"getLocalBounds.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/bounds/getLocalBounds.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { warn } from '../../../utils/logging/warn';\nimport { boundsPool, matrixPool } from './utils/matrixAndBoundsPool';\n\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Container } from '../Container';\nimport type { Bounds } from './Bounds';\n\nexport function getLocalBounds(target: Container, bounds: Bounds, relativeMatrix?: Matrix): Bounds\n{\n    bounds.clear();\n\n    relativeMatrix ||= Matrix.IDENTITY;\n\n    _getLocalBounds(target, bounds, relativeMatrix, target, true);\n\n    if (!bounds.isValid)\n    {\n        bounds.set(0, 0, 0, 0);\n    }\n\n    return bounds;\n}\n\nfunction _getLocalBounds(\n    target: Container,\n    bounds: Bounds,\n    parentTransform: Matrix,\n    rootContainer: Container,\n    isRoot: boolean\n): void\n{\n    let relativeTransform: Matrix;\n\n    if (!isRoot)\n    {\n        if (!target.visible || !target.measurable) return;\n\n        target.updateLocalTransform();\n\n        const localTransform = target.localTransform;\n\n        relativeTransform = matrixPool.get();\n        relativeTransform.appendFrom(localTransform, parentTransform);\n    }\n    else\n    {\n        relativeTransform = matrixPool.get();\n        relativeTransform = parentTransform.copyTo(relativeTransform);\n    }\n\n    const parentBounds = bounds;\n    const preserveBounds = !!target.effects.length;\n\n    if (preserveBounds)\n    {\n        bounds = boundsPool.get().clear();\n    }\n\n    if (target.boundsArea)\n    {\n        bounds.addRect(target.boundsArea, relativeTransform);\n    }\n    else\n    {\n        if (target.renderPipeId)\n        {\n            bounds.matrix = relativeTransform;\n            bounds.addBounds((target as Renderable).bounds);\n        }\n\n        const children = target.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            _getLocalBounds(children[i], bounds, relativeTransform, rootContainer, false);\n        }\n    }\n\n    if (preserveBounds)\n    {\n        for (let i = 0; i < target.effects.length; i++)\n        {\n            target.effects[i].addLocalBounds?.(bounds, rootContainer);\n        }\n\n        // TODO - make a add transformed bounds?\n        parentBounds.addBounds(bounds, Matrix.IDENTITY);\n\n        boundsPool.return(bounds);\n    }\n\n    matrixPool.return(relativeTransform);\n}\n\nexport function getParent(target: Container, root: Container, matrix: Matrix)\n{\n    const parent = target.parent;\n\n    if (!parent)\n    {\n        // we have reach the top of the tree!\n        // #if _DEBUG\n        warn('Item is not inside the root container');\n        // #endif\n\n        return;\n    }\n\n    if (parent !== root)\n    {\n        getParent(parent, root, matrix);\n\n        parent.updateLocalTransform();\n        matrix.append(parent.localTransform);\n    }\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1313, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1319, "column": 0}, "map": {"version":3,"file":"measureMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/measureMixin.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { Bounds } from '../bounds/Bounds';\nimport { getGlobalBounds } from '../bounds/getGlobalBounds';\nimport { getLocalBounds } from '../bounds/getLocalBounds';\nimport { checkChildrenDidChange } from '../utils/checkChildrenDidChange';\n\nimport type { Size } from '../../../maths/misc/Size';\nimport type { Container } from '../Container';\n\nexport type Optional<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>;\n\nexport interface MeasureMixinConstructor\n{\n    width?: number;\n    height?: number;\n}\nexport interface MeasureMixin extends Required<MeasureMixinConstructor>\n{\n    getSize(out?: Size): Size;\n    setSize(width: number, height?: number): void;\n    setSize(value: Optional<Size, 'height'>): void;\n    getLocalBounds(bounds?: Bounds): Bounds;\n    getBounds(skipUpdate?: boolean, bounds?: Bounds): Bounds;\n    _localBoundsCacheData: LocalBoundsCacheData;\n    _localBoundsCacheId: number;\n    _setWidth(width: number, localWidth: number): void;\n    _setHeight(height: number, localHeight: number): void;\n}\n\ninterface LocalBoundsCacheData\n{\n    data: number[];\n    index: number;\n    didChange: boolean;\n    localBounds: Bounds;\n}\n\nconst tempMatrix = new Matrix();\n\nexport const measureMixin: Partial<Container> = {\n\n    _localBoundsCacheId: -1,\n    _localBoundsCacheData: null,\n\n    _setWidth(value: number, localWidth: number)\n    {\n        const sign = Math.sign(this.scale.x) || 1;\n\n        if (localWidth !== 0)\n        {\n            this.scale.x = (value / localWidth) * sign;\n        }\n        else\n        {\n            this.scale.x = sign;\n        }\n    },\n\n    _setHeight(value: number, localHeight: number)\n    {\n        const sign = Math.sign(this.scale.y) || 1;\n\n        if (localHeight !== 0)\n        {\n            this.scale.y = (value / localHeight) * sign;\n        }\n        else\n        {\n            this.scale.y = sign;\n        }\n    },\n\n    /**\n     * Retrieves the local bounds of the container as a Bounds object.\n     * @returns - The bounding area.\n     * @memberof scene.Container#\n     */\n    getLocalBounds(): Bounds\n    {\n        if (!this._localBoundsCacheData)\n        {\n            this._localBoundsCacheData = {\n                data: [],\n                index: 1,\n                didChange: false,\n                localBounds: new Bounds()\n            };\n        }\n\n        const localBoundsCacheData = this._localBoundsCacheData;\n\n        localBoundsCacheData.index = 1;\n        localBoundsCacheData.didChange = false;\n\n        if (localBoundsCacheData.data[0] !== this._didViewChangeTick)\n        {\n            localBoundsCacheData.didChange = true;\n            localBoundsCacheData.data[0] = this._didViewChangeTick;\n        }\n\n        checkChildrenDidChange(this, localBoundsCacheData);\n\n        if (localBoundsCacheData.didChange)\n        {\n            getLocalBounds(this, localBoundsCacheData.localBounds, tempMatrix);\n        }\n\n        return localBoundsCacheData.localBounds;\n    },\n\n    /**\n     * Calculates and returns the (world) bounds of the display object as a [Rectangle]{@link Rectangle}.\n     * @param skipUpdate - Setting to `true` will stop the transforms of the scene graph from\n     *  being updated. This means the calculation returned MAY be out of date BUT will give you a\n     *  nice performance boost.\n     * @param bounds - Optional bounds to store the result of the bounds calculation.\n     * @returns - The minimum axis-aligned rectangle in world space that fits around this object.\n     * @memberof scene.Container#\n     */\n    getBounds(skipUpdate?: boolean, bounds?: Bounds): Bounds\n    {\n        return getGlobalBounds(this, skipUpdate, bounds || new Bounds());\n    },\n} as Container;\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAqCA,MAAM,UAAA,GAAa,uKAAI,SAAO,EAAA,CAAA;AAEvB,MAAM,YAAmC,GAAA;IAE5C,mBAAqB,EAAA,CAAA,CAAA;IACrB,qBAAuB,EAAA,IAAA;IAEvB,SAAA,EAAU,KAAA,EAAe,UACzB,EAAA;QACI,MAAM,OAAO,IAAK,CAAA,IAAA,CAAK,IAAK,CAAA,KAAA,CAAM,CAAC,CAAK,IAAA,CAAA,CAAA;QAExC,IAAI,eAAe,CACnB,EAAA;YACS,IAAA,CAAA,KAAA,CAAM,CAAK,GAAA,KAAA,GAAQ,UAAc,GAAA,IAAA,CAAA;QAAA,CAG1C,MAAA;YACI,IAAA,CAAK,KAAA,CAAM,CAAI,GAAA,IAAA,CAAA;QAAA,CACnB;IAAA,CACJ;IAEA,UAAA,EAAW,KAAA,EAAe,WAC1B,EAAA;QACI,MAAM,OAAO,IAAK,CAAA,IAAA,CAAK,IAAK,CAAA,KAAA,CAAM,CAAC,CAAK,IAAA,CAAA,CAAA;QAExC,IAAI,gBAAgB,CACpB,EAAA;YACS,IAAA,CAAA,KAAA,CAAM,CAAK,GAAA,KAAA,GAAQ,WAAe,GAAA,IAAA,CAAA;QAAA,CAG3C,MAAA;YACI,IAAA,CAAK,KAAA,CAAM,CAAI,GAAA,IAAA,CAAA;QAAA,CACnB;IAAA,CACJ;IAAA;;;;GAAA,GAOA,cACA,GAAA;QACQ,IAAA,CAAC,IAAA,CAAK,qBACV,EAAA;YACI,IAAA,CAAK,qBAAwB,GAAA;gBACzB,MAAM,EAAC;gBACP,KAAO,EAAA,CAAA;gBACP,SAAW,EAAA,KAAA;gBACX,WAAA,EAAa,IAAI,yLAAO,EAAA;YAAA,CAC5B,CAAA;QAAA,CACJ;QAEA,MAAM,uBAAuB,IAAK,CAAA,qBAAA,CAAA;QAElC,oBAAA,CAAqB,KAAQ,GAAA,CAAA,CAAA;QAC7B,oBAAA,CAAqB,SAAY,GAAA,KAAA,CAAA;QAEjC,IAAI,oBAAqB,CAAA,IAAA,CAAK,CAAC,CAAA,KAAM,IAAA,CAAK,kBAC1C,EAAA;YACI,oBAAA,CAAqB,SAAY,GAAA,IAAA,CAAA;YACZ,oBAAA,CAAA,IAAA,CAAK,CAAC,CAAA,GAAI,IAAK,CAAA,kBAAA,CAAA;QAAA,CACxC;2MAEA,yBAAA,EAAuB,IAAA,EAAM,oBAAoB,CAAA,CAAA;QAEjD,IAAI,qBAAqB,SACzB,EAAA;wMACmB,iBAAA,EAAA,IAAA,EAAM,oBAAqB,CAAA,WAAA,EAAa,UAAU,CAAA,CAAA;QAAA,CACrE;QAEA,OAAO,oBAAqB,CAAA,WAAA,CAAA;IAAA,CAChC;IAAA;;;;;;;;GAAA,GAWA,SAAA,EAAU,UAAA,EAAsB,MAChC,EAAA;QACI,oMAAO,kBAAA,EAAgB,IAAM,EAAA,UAAA,EAAY,MAAU,IAAA,oLAAI,SAAA,EAAQ,CAAA,CAAA;IAAA,CACnE;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1393, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1399, "column": 0}, "map": {"version":3,"file":"effectsMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/effectsMixin.ts"],"sourcesContent":["import { FilterEffect } from '../../../filters/FilterEffect';\nimport { MaskEffectManager } from '../../../rendering/mask/MaskEffectManager';\n\nimport type { Filter } from '../../../filters/Filter';\nimport type { Rectangle } from '../../../maths/shapes/Rectangle';\nimport type { MaskEffect } from '../../../rendering/mask/MaskEffectManager';\nimport type { Container } from '../Container';\nimport type { Effect } from '../Effect';\n\nexport interface EffectsMixinConstructor\n{\n    mask?: Mask;\n    setMask?: (options: Partial<MaskOptionsAndMask>) => void;\n    filters?: Filter | Filter[];\n}\n\nexport type Mask = number | Container | null;\n\nexport interface MaskOptions\n{\n    inverse: boolean;\n}\n\nexport interface MaskOptionsAndMask extends MaskOptions\n{\n    mask: Mask;\n}\n\nexport interface EffectsMixin extends Required<EffectsMixinConstructor>\n{\n    _maskEffect?: MaskEffect;\n    _maskOptions?: MaskOptions;\n    _filterEffect?: FilterEffect,\n\n    filterArea?: Rectangle,\n    effects?: Effect[];\n\n    _markStructureAsChanged(): void;\n    addEffect(effect: Effect): void;\n    removeEffect(effect: Effect): void;\n}\n\nexport const effectsMixin: Partial<Container> = {\n    _maskEffect: null,\n    _maskOptions: {\n        inverse: false,\n    },\n    _filterEffect: null,\n\n    /**\n     * @todo Needs docs.\n     * @memberof scene.Container#\n     * @type {Array<Effect>}\n     */\n    effects: [],\n\n    _markStructureAsChanged()\n    {\n        const renderGroup = this.renderGroup || this.parentRenderGroup;\n\n        if (renderGroup)\n        {\n            renderGroup.structureDidChange = true;\n        }\n    },\n    /**\n     * @todo Needs docs.\n     * @param effect - The effect to add.\n     * @memberof scene.Container#\n     * @ignore\n     */\n    addEffect(effect: Effect)\n    {\n        const index = this.effects.indexOf(effect);\n\n        if (index !== -1) return; // already exists!\n\n        this.effects.push(effect);\n\n        this.effects.sort((a, b) => a.priority - b.priority);\n\n        this._markStructureAsChanged();\n\n        // if (this.renderGroup)\n        // {\n        //     this.renderGroup.structureDidChange = true;\n        // }\n\n        this._updateIsSimple();\n    },\n    /**\n     * @todo Needs docs.\n     * @param effect - The effect to remove.\n     * @memberof scene.Container#\n     * @ignore\n     */\n    removeEffect(effect: Effect)\n    {\n        const index = this.effects.indexOf(effect);\n\n        if (index === -1) return; // already exists!\n\n        this.effects.splice(index, 1);\n\n        this._markStructureAsChanged();\n\n        this._updateIsSimple();\n    },\n\n    set mask(value: Mask)\n    {\n        const effect = this._maskEffect;\n\n        if (effect?.mask === value) return;\n\n        if (effect)\n        {\n            this.removeEffect(effect);\n\n            MaskEffectManager.returnMaskEffect(effect);\n\n            this._maskEffect = null;\n        }\n\n        if (value === null || value === undefined) return;\n\n        this._maskEffect = MaskEffectManager.getMaskEffect(value);\n\n        this.addEffect(this._maskEffect);\n    },\n\n    /**\n     * Used to set mask and control mask options.\n     * @param options\n     * @example\n     * import { Graphics, Sprite } from 'pixi.js';\n     *\n     * const graphics = new Graphics();\n     * graphics.beginFill(0xFF3300);\n     * graphics.drawRect(50, 250, 100, 100);\n     * graphics.endFill();\n     *\n     * const sprite = new Sprite(texture);\n     * sprite.setMask({\n     *     mask: graphics,\n     *     inverse: true,\n     * });\n     * @memberof scene.Container#\n     */\n    setMask(options: Partial<MaskOptionsAndMask>)\n    {\n        this._maskOptions = {\n            ...this._maskOptions,\n            ...options,\n        };\n\n        if (options.mask)\n        {\n            this.mask = options.mask;\n        }\n\n        this._markStructureAsChanged();\n    },\n\n    /**\n     * Sets a mask for the displayObject. A mask is an object that limits the visibility of an\n     * object to the shape of the mask applied to it. In PixiJS a regular mask must be a\n     * {@link Graphics} or a {@link Sprite} object. This allows for much faster masking in canvas as it\n     * utilities shape clipping. Furthermore, a mask of an object must be in the subtree of its parent.\n     * Otherwise, `getLocalBounds` may calculate incorrect bounds, which makes the container's width and height wrong.\n     * To remove a mask, set this property to `null`.\n     *\n     * For sprite mask both alpha and red channel are used. Black mask is the same as transparent mask.\n     * @example\n     * import { Graphics, Sprite } from 'pixi.js';\n     *\n     * const graphics = new Graphics();\n     * graphics.beginFill(0xFF3300);\n     * graphics.drawRect(50, 250, 100, 100);\n     * graphics.endFill();\n     *\n     * const sprite = new Sprite(texture);\n     * sprite.mask = graphics;\n     * @memberof scene.Container#\n     */\n    get mask(): unknown\n    {\n        return this._maskEffect?.mask;\n    },\n\n    set filters(value: Filter | Filter[] | null | undefined)\n    {\n        if (!Array.isArray(value) && value) value = [value];\n\n        const effect = this._filterEffect ||= new FilterEffect();\n\n        // Ignore the Filter type\n        value = value as Filter[] | null | undefined;\n\n        const hasFilters = value?.length > 0;\n        const hadFilters = effect.filters?.length > 0;\n\n        const didChange = hasFilters !== hadFilters;\n\n        // Clone the filters array so we don't freeze the user-input\n        value = Array.isArray(value) ? value.slice(0) : value;\n\n        // Ensure filters are immutable via filters getter\n        effect.filters = Object.freeze(value);\n\n        if (didChange)\n        {\n            if (hasFilters)\n            {\n                this.addEffect(effect);\n            }\n            else\n            {\n                this.removeEffect(effect);\n\n                // sets the empty array...\n                effect.filters = value ?? null;\n            }\n        }\n    },\n\n    /**\n     * Sets the filters for the displayObject.\n     * IMPORTANT: This is a WebGL only feature and will be ignored by the canvas renderer.\n     * To remove filters simply set this property to `'null'`.\n     * @memberof scene.Container#\n     */\n    get filters(): readonly Filter[]\n    {\n        return this._filterEffect?.filters;\n    },\n\n    set filterArea(value: Rectangle)\n    {\n        this._filterEffect ||= new FilterEffect();\n\n        this._filterEffect.filterArea = value;\n    },\n\n    /**\n     * The area the filter is applied to. This is used as more of an optimization\n     * rather than figuring out the dimensions of the displayObject each frame you can set this rectangle.\n     *\n     * Also works as an interaction mask.\n     * @memberof scene.Container#\n     */\n    get filterArea(): Rectangle\n    {\n        return this._filterEffect?.filterArea;\n    },\n\n} as Container;\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 1555, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1561, "column": 0}, "map": {"version":3,"file":"findMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/findMixin.ts"],"sourcesContent":["import { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\n\nimport type { Container } from '../Container';\n\nexport interface FindMixinConstructor\n{\n    label?: string;\n}\nexport interface FindMixin extends Required<FindMixinConstructor>\n{\n    /**\n     * @deprecated since 8.0.0\n     * @see Container#label\n     */\n    name: string;\n    getChildByName(label: RegExp | string, deep?: boolean): Container | null;\n    getChildByLabel(label: RegExp | string, deep?: boolean): Container | null;\n    getChildrenByLabel(label: RegExp | string, deep?: boolean, out?: Container[]): Container[];\n}\n\nexport const findMixin: Partial<Container> = {\n    /**\n     * The instance label of the object.\n     * @memberof scene.Container#\n     * @member {string} label\n     */\n    label: null,\n\n    /**\n     * The instance name of the object.\n     * @deprecated since 8.0.0\n     * @see scene.Container#label\n     * @member {string} name\n     * @memberof scene.Container#\n     */\n    get name(): string\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Container.name property has been removed, use Container.label instead');\n        // #endif\n\n        return this.label;\n    },\n    set name(value: string)\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Container.name property has been removed, use Container.label instead');\n        // #endif\n\n        this.label = value;\n    },\n\n    /**\n     * @method getChildByName\n     * @deprecated since 8.0.0\n     * @param {string} name - Instance name.\n     * @param {boolean}[deep=false] - Whether to search recursively\n     * @returns {Container} The child with the specified name.\n     * @see scene.Container#getChildByLabel\n     * @memberof scene.Container#\n     */\n    getChildByName(name: string, deep = false): Container | null\n    {\n        return this.getChildByLabel(name, deep);\n    },\n    /**\n     * Returns the first child in the container with the specified label.\n     *\n     * Recursive searches are done in a pre-order traversal.\n     * @memberof scene.Container#\n     * @param {string|RegExp} label - Instance label.\n     * @param {boolean}[deep=false] - Whether to search recursively\n     * @returns {Container} The child with the specified label.\n     */\n    getChildByLabel(label: string | RegExp, deep = false): Container | null\n    {\n        const children = this.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            const child = children[i];\n\n            if (child.label === label || (label instanceof RegExp && label.test(child.label))) return child;\n        }\n\n        if (deep)\n        {\n            for (let i = 0; i < children.length; i++)\n            {\n                const child = children[i];\n                const found = child.getChildByLabel(label, true);\n\n                if (found)\n                {\n                    return found;\n                }\n            }\n        }\n\n        return null;\n    },\n\n    /**\n     * Returns all children in the container with the specified label.\n     * @memberof scene.Container#\n     * @param {string|RegExp} label - Instance label.\n     * @param {boolean}[deep=false] - Whether to search recursively\n     * @param {Container[]} [out=[]] - The array to store matching children in.\n     * @returns {Container[]} An array of children with the specified label.\n     */\n    getChildrenByLabel(label: string | RegExp, deep = false, out = []): Container[]\n    {\n        const children = this.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            const child = children[i];\n\n            if (child.label === label || (label instanceof RegExp && label.test(child.label)))\n            {\n                out.push(child);\n            }\n        }\n\n        if (deep)\n        {\n            for (let i = 0; i < children.length; i++)\n            {\n                children[i].getChildrenByLabel(label, true, out);\n            }\n        }\n\n        return out;\n    },\n} as Container;\n"],"names":[],"mappings":";;;;;;AAoBO,MAAM,SAAgC,GAAA;IAAA;;;;GAAA,GAMzC,KAAO,EAAA,IAAA;IAAA;;;;;;GAAA,GASP,IAAI,IACJ,IAAA;qLAEI,cAAA,EAAY,kLAAA,EAAQ,uEAAuE,CAAA,CAAA;QAG3F,OAAO,IAAK,CAAA,KAAA,CAAA;IAAA,CAChB;IACA,IAAI,MAAK,KACT,CAAA;qLAEI,cAAA,EAAY,kLAAA,EAAQ,uEAAuE,CAAA,CAAA;QAG3F,IAAA,CAAK,KAAQ,GAAA,KAAA,CAAA;IAAA,CACjB;IAAA;;;;;;;;GAAA,GAWA,cAAA,EAAe,IAAc,EAAA,IAAA,GAAO,KACpC,EAAA;QACW,OAAA,IAAA,CAAK,eAAgB,CAAA,IAAA,EAAM,IAAI,CAAA,CAAA;IAAA,CAC1C;IAAA;;;;;;;;GAAA,GAUA,eAAA,EAAgB,KAAwB,EAAA,IAAA,GAAO,KAC/C,EAAA;QACI,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;QAEtB,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,MAAA,EAAQ,CACrC,EAAA,CAAA;YACU,MAAA,KAAA,GAAQ,QAAA,CAAS,CAAC,CAAA,CAAA;YAEpB,IAAA,KAAA,CAAM,KAAA,KAAU,KAAU,IAAA,KAAA,YAAiB,UAAU,KAAM,CAAA,IAAA,CAAK,MAAM,KAAK,CAAA,EAAW,OAAA,KAAA,CAAA;QAAA,CAC9F;QAEA,IAAI,IACJ,EAAA;YACI,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,MAAA,EAAQ,CACrC,EAAA,CAAA;gBACU,MAAA,KAAA,GAAQ,QAAA,CAAS,CAAC,CAAA,CAAA;gBACxB,MAAM,KAAQ,GAAA,KAAA,CAAM,eAAgB,CAAA,KAAA,EAAO,IAAI,CAAA,CAAA;gBAE/C,IAAI,KACJ,EAAA;oBACW,OAAA,KAAA,CAAA;gBAAA,CACX;YAAA,CACJ;QAAA,CACJ;QAEO,OAAA,IAAA,CAAA;IAAA,CACX;IAAA;;;;;;;GAAA,GAUA,oBAAmB,KAAwB,EAAA,IAAA,GAAO,KAAO,EAAA,GAAA,GAAM,EAC/D,EAAA;QACI,MAAM,WAAW,IAAK,CAAA,QAAA,CAAA;QAEtB,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,MAAA,EAAQ,CACrC,EAAA,CAAA;YACU,MAAA,KAAA,GAAQ,QAAA,CAAS,CAAC,CAAA,CAAA;YAEpB,IAAA,KAAA,CAAM,KAAA,KAAU,KAAU,IAAA,KAAA,YAAiB,UAAU,KAAM,CAAA,IAAA,CAAK,KAAM,CAAA,KAAK,CAC/E,EAAA;gBACI,GAAA,CAAI,IAAA,CAAK,KAAK,CAAA,CAAA;YAAA,CAClB;QAAA,CACJ;QAEA,IAAI,IACJ,EAAA;YACI,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,CAAS,MAAA,EAAQ,CACrC,EAAA,CAAA;gBACI,QAAA,CAAS,CAAC,CAAA,CAAE,kBAAmB,CAAA,KAAA,EAAO,MAAM,GAAG,CAAA,CAAA;YAAA,CACnD;QAAA,CACJ;QAEO,OAAA,GAAA,CAAA;IAAA,CACX;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1648, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1654, "column": 0}, "map": {"version":3,"file":"sortMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/sortMixin.ts"],"sourcesContent":["import type { Container } from '../Container';\n\nexport interface SortMixinConstructor\n{\n    zIndex?: number;\n    sortDirty?: boolean;\n    sortableChildren?: boolean;\n}\nexport interface SortMixin extends Required<SortMixinConstructor>\n{\n    _zIndex: number;\n\n    sortChildren: () => void;\n    depthOfChildModified: () => void;\n}\n\nexport const sortMixin: Partial<Container> = {\n    _zIndex: 0,\n    /**\n     * Should children be sorted by zIndex at the next render call.\n     *\n     * Will get automatically set to true if a new child is added, or if a child's zIndex changes.\n     * @type {boolean}\n     * @memberof scene.Container#\n     */\n    sortDirty: false,\n    /**\n     * If set to true, the container will sort its children by `zIndex` value\n     * when the next render is called, or manually if `sortChildren()` is called.\n     *\n     * This actually changes the order of elements in the array, so should be treated\n     * as a basic solution that is not performant compared to other solutions,\n     * such as {@link https://github.com/pixijs/layers PixiJS Layers}\n     *\n     * Also be aware of that this may not work nicely with the `addChildAt()` function,\n     * as the `zIndex` sorting may cause the child to automatically sorted to another position.\n     * @type {boolean}\n     * @memberof scene.Container#\n     */\n    sortableChildren: false,\n\n    /**\n     * The zIndex of the container.\n     *\n     * Setting this value, will automatically set the parent to be sortable. Children will be automatically\n     * sorted by zIndex value; a higher value will mean it will be moved towards the end of the array,\n     * and thus rendered on top of other display objects within the same container.\n     * @see scene.Container#sortableChildren\n     * @memberof scene.Container#\n     */\n    get zIndex()\n    {\n        return this._zIndex;\n    },\n\n    set zIndex(value: number)\n    {\n        if (this._zIndex === value) return;\n\n        this._zIndex = value;\n\n        this.depthOfChildModified();\n    },\n\n    depthOfChildModified()\n    {\n        if (this.parent)\n        {\n            this.parent.sortableChildren = true;\n            this.parent.sortDirty = true;\n        }\n\n        if (this.parentRenderGroup)\n        {\n            this.parentRenderGroup.structureDidChange = true;\n        }\n    },\n\n    /**\n     * Sorts children by zIndex.\n     * @memberof scene.Container#\n     */\n    sortChildren()\n    {\n        if (!this.sortDirty) return;\n\n        this.sortDirty = false;\n\n        this.children.sort(sortChildren);\n    },\n} as Container;\n\nfunction sortChildren(a: Container, b: Container): number\n{\n    return a._zIndex - b._zIndex;\n}\n"],"names":[],"mappings":";;;;AAgBO,MAAM,SAAgC,GAAA;IACzC,OAAS,EAAA,CAAA;IAAA;;;;;;GAAA,GAQT,SAAW,EAAA,KAAA;IAAA;;;;;;;;;;;;GAAA,GAcX,gBAAkB,EAAA,KAAA;IAAA;;;;;;;;GAAA,GAWlB,IAAI,MACJ,IAAA;QACI,OAAO,IAAK,CAAA,OAAA,CAAA;IAAA,CAChB;IAEA,IAAI,QAAO,KACX,CAAA;QACI,IAAI,IAAA,CAAK,OAAY,KAAA,KAAA,EAAO,OAAA;QAE5B,IAAA,CAAK,OAAU,GAAA,KAAA,CAAA;QAEf,IAAA,CAAK,oBAAqB,EAAA,CAAA;IAAA,CAC9B;IAEA,oBACA,GAAA;QACI,IAAI,IAAA,CAAK,MACT,EAAA;YACI,IAAA,CAAK,MAAA,CAAO,gBAAmB,GAAA,IAAA,CAAA;YAC/B,IAAA,CAAK,MAAA,CAAO,SAAY,GAAA,IAAA,CAAA;QAAA,CAC5B;QAEA,IAAI,IAAA,CAAK,iBACT,EAAA;YACI,IAAA,CAAK,iBAAA,CAAkB,kBAAqB,GAAA,IAAA,CAAA;QAAA,CAChD;IAAA,CACJ;IAAA;;;GAAA,GAMA,YACA,GAAA;QACI,IAAI,CAAC,IAAK,CAAA,SAAA,EAAW,OAAA;QAErB,IAAA,CAAK,SAAY,GAAA,KAAA,CAAA;QAEZ,IAAA,CAAA,QAAA,CAAS,IAAA,CAAK,YAAY,CAAA,CAAA;IAAA,CACnC;AACJ,EAAA;AAEA,SAAS,YAAA,CAAa,CAAA,EAAc,CACpC,EAAA;IACW,OAAA,CAAA,CAAE,OAAA,GAAU,CAAE,CAAA,OAAA,CAAA;AACzB","ignoreList":[0]}},
    {"offset": {"line": 1719, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1725, "column": 0}, "map": {"version":3,"file":"cacheAsTextureMixin.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/container-mixins/cacheAsTextureMixin.ts"],"sourcesContent":["import { deprecation } from '../../../utils/logging/deprecation';\n\nimport type { Container } from '../Container';\nimport type { CacheAsTextureOptions } from '../RenderGroup';\n\nexport interface CacheAsTextureMixinConstructor\n{\n    cacheAsTexture?: (val: boolean | CacheAsTextureOptions) => void;\n}\n\nexport interface CacheAsTextureMixin extends Required<CacheAsTextureMixinConstructor>\n{\n    /**\n     * Caches this container as a texture. This allows the container to be rendered as a single texture,\n     * which can improve performance for complex static containers.\n     * @param val - If true, enables caching with default options. If false, disables caching.\n     * Can also pass options object to configure caching behavior.\n     * @memberof scene.Container#\n     */\n    cacheAsTexture: (val: boolean | CacheAsTextureOptions) => void;\n\n    /**\n     * Updates the cached texture of this container. This will flag the container's cached texture\n     * to be redrawn on the next render.\n     * @memberof scene.Container#\n     */\n    updateCacheTexture: () => void;\n\n    /**\n     * Legacy property for backwards compatibility with PixiJS v7 and below.\n     * Use `cacheAsTexture` instead.\n     * @deprecated Since PixiJS v8\n     * @memberof scene.Container#\n     */\n    cacheAsBitmap: boolean;\n\n    /**\n     * Whether this container is currently cached as a texture.\n     * @readonly\n     * @memberof scene.Container#\n     */\n    readonly isCachedAsTexture: boolean;\n}\n\nexport const cacheAsTextureMixin: Partial<Container> = {\n    /**\n     * Is this container cached as a texture?\n     * @readonly\n     * @type {boolean}\n     * @memberof scene.Container#\n     */\n    get isCachedAsTexture(): boolean\n    {\n        return !!this.renderGroup?.isCachedAsTexture;\n    },\n\n    cacheAsTexture(val: boolean | CacheAsTextureOptions): void\n    {\n        if (typeof val === 'boolean' && val === false)\n        {\n            this.disableRenderGroup();\n        }\n        else\n        {\n            this.enableRenderGroup();\n            this.renderGroup.enableCacheAsTexture(val === true ? {} : val);\n        }\n    },\n\n    /**\n     * Updates the cached texture. Will flag that this container's cached texture needs to be redrawn.\n     * This will happen on the next render.\n     * @memberof scene.Container#\n     */\n    updateCacheTexture(): void\n    {\n        this.renderGroup?.updateCacheTexture();\n    },\n\n    /**\n     * Allows backwards compatibility with pixi.js below version v8. Use `cacheAsTexture` instead.\n     * @deprecated\n     */\n    get cacheAsBitmap(): boolean\n    {\n        return this.isCachedAsTexture;\n    },\n\n    /**\n     * @deprecated\n     */\n    set cacheAsBitmap(val: boolean)\n    {\n        // #if _DEBUG\n        deprecation('v8.6.0', 'cacheAsBitmap is deprecated, use cacheAsTexture instead.');\n        // #endif\n        this.cacheAsTexture(val);\n    },\n} as Container;\n"],"names":[],"mappings":";;;;;;AA4CO,MAAM,mBAA0C,GAAA;IAAA;;;;;GAAA,GAOnD,IAAI,iBACJ,IAAA;QACW,OAAA,CAAC,CAAC,IAAA,CAAK,WAAa,EAAA,iBAAA,CAAA;IAAA,CAC/B;IAEA,gBAAe,IACf,EAAA;QACI,IAAI,OAAO,GAAA,MAAQ,SAAa,IAAA,GAAA,MAAQ,KACxC,EAAA;YACI,IAAA,CAAK,kBAAmB,EAAA,CAAA;QAAA,CAG5B,MAAA;YACI,IAAA,CAAK,iBAAkB,EAAA,CAAA;YACvB,IAAA,CAAK,WAAA,CAAY,oBAAqB,CAAA,GAAA,MAAQ,IAAO,GAAA,CAAA,IAAK,GAAG,CAAA,CAAA;QAAA,CACjE;IAAA,CACJ;IAAA;;;;GAAA,GAOA,kBACA,GAAA;QACI,IAAA,CAAK,WAAA,EAAa,kBAAmB,EAAA,CAAA;IAAA,CACzC;IAAA;;;GAAA,GAMA,IAAI,aACJ,IAAA;QACI,OAAO,IAAK,CAAA,iBAAA,CAAA;IAAA,CAChB;IAAA;;GAAA,GAKA,IAAI,eAAc,GAClB,CAAA;qLAEI,cAAA,EAAY,UAAU,0DAA0D,CAAA,CAAA;QAEhF,IAAA,CAAK,cAAA,CAAe,GAAG,CAAA,CAAA;IAAA,CAC3B;AACJ","ignoreList":[0]}},
    {"offset": {"line": 1770, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1776, "column": 0}, "map": {"version":3,"file":"Container.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/Container.ts"],"sourcesContent":["import EventEmitter from 'eventemitter3';\nimport { Color, type ColorSource } from '../../color/Color';\nimport { cullingMixin } from '../../culling/cullingMixin';\nimport { Matrix } from '../../maths/matrix/Matrix';\nimport { DEG_TO_RAD, RAD_TO_DEG } from '../../maths/misc/const';\nimport { ObservablePoint } from '../../maths/point/ObservablePoint';\nimport { uid } from '../../utils/data/uid';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { BigPool } from '../../utils/pool/PoolGroup';\nimport { cacheAsTextureMixin } from './container-mixins/cacheAsTextureMixin';\nimport { childrenHelperMixin } from './container-mixins/childrenHelperMixin';\nimport { effectsMixin } from './container-mixins/effectsMixin';\nimport { findMixin } from './container-mixins/findMixin';\nimport { bgr2rgb, getGlobalMixin } from './container-mixins/getGlobalMixin';\nimport { measureMixin } from './container-mixins/measureMixin';\nimport { onRenderMixin } from './container-mixins/onRenderMixin';\nimport { sortMixin } from './container-mixins/sortMixin';\nimport { toLocalGlobalMixin } from './container-mixins/toLocalGlobalMixin';\nimport { RenderGroup } from './RenderGroup';\nimport { assignWithIgnore } from './utils/assignWithIgnore';\n\nimport type { Size } from '../../maths/misc/Size';\nimport type { PointData } from '../../maths/point/PointData';\nimport type { Rectangle } from '../../maths/shapes/Rectangle';\nimport type { BLEND_MODES } from '../../rendering/renderers/shared/state/const';\nimport type { Dict } from '../../utils/types';\nimport type { Optional } from './container-mixins/measureMixin';\nimport type { DestroyOptions } from './destroyTypes';\n\nexport type ContainerChild = Container;\n\n/**\n * This is where you'll find all the display objects available in Pixi.\n *\n * All display objects inherit from the {@link scene.Container} class. You can use a `Container` for simple grouping of\n * other display objects. Here's all the available display object classes.\n *\n * - {@link scene.Container} is the base class for all display objects that act as a container for other objects.\n *   - {@link scene.Sprite} is a display object that uses a texture\n *      - {@link scene.AnimatedSprite} is a sprite that can play animations\n *   - {@link scene.TilingSprite} a fast way of rendering a tiling image\n *   - {@link scene.NineSliceSprite} allows you to stretch a texture using 9-slice scaling\n *   - {@link scene.Graphics} is a graphic object that can be drawn to the screen.\n *   - {@link scene.Mesh} empowers you to have maximum flexibility to render any kind of visuals you can think of\n *      - {@link scene.MeshSimple} mimics Mesh, providing easy-to-use constructor arguments\n *      - {@link scene.MeshPlane} allows you to draw a texture across several points and then manipulate these points\n *      - {@link scene.MeshRope} allows you to draw a texture across several points and then manipulate these points\n *   - {@link scene.Text} render text using custom fonts\n *      - {@link scene.BitmapText} render text using a bitmap font\n *      - {@link scene.HTMLText} render text using HTML and CSS\n * @namespace scene\n */\n\n// as pivot and skew are the least used properties of a container, we can use this optimisation\n// to avoid allocating lots of unnecessary objects for them.\nconst defaultSkew = new ObservablePoint(null);\nconst defaultPivot = new ObservablePoint(null);\nconst defaultScale = new ObservablePoint(null, 1, 1);\n\nexport interface ContainerEvents<C extends ContainerChild> extends PixiMixins.ContainerEvents\n{\n    added: [container: Container];\n    childAdded: [child: C, container: Container, index: number];\n    removed: [container: Container];\n    childRemoved: [child: C, container: Container, index: number];\n    destroyed: [container: Container];\n}\n\ntype AnyEvent = {\n    // The following is a hack to allow any custom event while maintaining type safety.\n    // For some reason, the tsc compiler gets angry about error TS1023\n    // \"An index signature parameter type must be either 'string' or 'number'.\"\n    // This is really odd since ({}&string) should interpret as string, but then again\n    // there is some black magic behind why this works in the first place.\n    // Closest thing to an explanation:\n    // https://stackoverflow.com/questions/70144348/why-does-a-union-of-type-literals-and-string-cause-ide-code-completion-wh\n    //\n    // Side note, we disable @typescript-eslint/ban-types since {}&string is the only syntax that works.\n    // Nor of the Record/unknown/never alternatives work.\n    [K: ({} & string) | ({} & symbol)]: any;\n};\n\nexport const UPDATE_COLOR = 0b0001;\nexport const UPDATE_BLEND = 0b0010;\nexport const UPDATE_VISIBLE = 0b0100;\nexport const UPDATE_TRANSFORM = 0b1000;\n\nexport interface UpdateTransformOptions\n{\n    x: number;\n    y: number;\n    scaleX: number;\n    scaleY: number;\n    rotation: number;\n    skewX: number;\n    skewY: number;\n    pivotX: number;\n    pivotY: number;\n}\n\n/**\n * Constructor options used for `Container` instances.\n * ```js\n * const container = new Container({\n *    position: new Point(100, 200),\n *    scale: new Point(2, 2),\n *    rotation: Math.PI / 2,\n * });\n * ```\n * @memberof scene\n * @see scene.Container\n */\nexport interface ContainerOptions<C extends ContainerChild = ContainerChild> extends PixiMixins.ContainerOptions\n{\n    /** @see scene.Container#isRenderGroup */\n    isRenderGroup?: boolean;\n\n    /** @see scene.Container#blendMode */\n    blendMode?: BLEND_MODES;\n    /** @see scene.Container#tint */\n    tint?: ColorSource;\n\n    /** @see scene.Container#alpha */\n    alpha?: number;\n    /** @see scene.Container#angle */\n    angle?: number;\n    /** @see scene.Container#children */\n    children?: C[];\n    /** @see scene.Container#parent */\n    parent?: Container;\n    /** @see scene.Container#renderable */\n    renderable?: boolean;\n    /** @see scene.Container#rotation */\n    rotation?: number;\n    /** @see scene.Container#scale */\n    scale?: PointData | number;\n    /** @see scene.Container#pivot */\n    pivot?: PointData | number;\n    /** @see scene.Container#position */\n    position?: PointData;\n    /** @see scene.Container#skew */\n    skew?: PointData;\n    /** @see scene.Container#visible */\n    visible?: boolean;\n    /** @see scene.Container#x */\n    x?: number;\n    /** @see scene.Container#y */\n    y?: number;\n    /** @see scene.Container#boundArea */\n    boundsArea?: Rectangle;\n}\n\nexport interface Container<C extends ContainerChild>\n    extends PixiMixins.Container<C>, EventEmitter<ContainerEvents<C> & AnyEvent> {}\n\n/**\n * Container is a general-purpose display object that holds children. It also adds built-in support for advanced\n * rendering features like masking and filtering.\n *\n * It is the base class of all display objects that act as a container for other objects, including Graphics\n * and Sprite.\n *\n * <details id=\"transforms\">\n *\n * <summary>Transforms</summary>\n *\n * The [transform]{@link scene.Container#transform} of a display object describes the projection from its\n * local coordinate space to its parent's local coordinate space. The following properties are derived\n * from the transform:\n *\n * <table>\n *   <thead>\n *     <tr>\n *       <th>Property</th>\n *       <th>Description</th>\n *     </tr>\n *   </thead>\n *   <tbody>\n *     <tr>\n *       <td>[pivot]{@link scene.Container#pivot}</td>\n *       <td>\n *         Invariant under rotation, scaling, and skewing. The projection of into the parent's space of the pivot\n *         is equal to position, regardless of the other three transformations. In other words, It is the center of\n *         rotation, scaling, and skewing.\n *       </td>\n *     </tr>\n *     <tr>\n *       <td>[position]{@link scene.Container#position}</td>\n *       <td>\n *         Translation. This is the position of the [pivot]{@link scene.Container#pivot} in the parent's local\n *         space. The default value of the pivot is the origin (0,0). If the top-left corner of your display object\n *         is (0,0) in its local space, then the position will be its top-left corner in the parent's local space.\n *       </td>\n *     </tr>\n *     <tr>\n *       <td>[scale]{@link scene.Container#scale}</td>\n *       <td>\n *         Scaling. This will stretch (or compress) the display object's projection. The scale factors are along the\n *         local coordinate axes. In other words, the display object is scaled before rotated or skewed. The center\n *         of scaling is the [pivot]{@link scene.Container#pivot}.\n *       </td>\n *     </tr>\n *     <tr>\n *       <td>[rotation]{@link scene.Container#rotation}</td>\n *       <td>\n *          Rotation. This will rotate the display object's projection by this angle (in radians).\n *       </td>\n *     </tr>\n *     <tr>\n *       <td>[skew]{@link scene.Container#skew}</td>\n *       <td>\n *         <p>Skewing. This can be used to deform a rectangular display object into a parallelogram.</p>\n *         <p>\n *         In PixiJS, skew has a slightly different behaviour than the conventional meaning. It can be\n *         thought of the net rotation applied to the coordinate axes (separately). For example, if \"skew.x\" is\n *         ⍺ and \"skew.y\" is β, then the line x = 0 will be rotated by ⍺ (y = -x*cot⍺) and the line y = 0 will be\n *         rotated by β (y = x*tanβ). A line y = x*tanϴ (i.e. a line at angle ϴ to the x-axis in local-space) will\n *         be rotated by an angle between ⍺ and β.\n *         </p>\n *         <p>\n *         It can be observed that if skew is applied equally to both axes, then it will be equivalent to applying\n *         a rotation. Indeed, if \"skew.x\" = -ϴ and \"skew.y\" = ϴ, it will produce an equivalent of \"rotation\" = ϴ.\n *         </p>\n *         <p>\n *         Another quite interesting observation is that \"skew.x\", \"skew.y\", rotation are commutative operations. Indeed,\n *         because rotation is essentially a careful combination of the two.\n *         </p>\n *       </td>\n *     </tr>\n *     <tr>\n *       <td>[angle]{@link scene.Container#angle}</td>\n *       <td>Rotation. This is an alias for [rotation]{@link scene.Container#rotation}, but in degrees.</td>\n *     </tr>\n *     <tr>\n *       <td>[x]{@link scene.Container#x}</td>\n *       <td>Translation. This is an alias for position.x!</td>\n *     </tr>\n *     <tr>\n *       <td>[y]{@link scene.Container#y}</td>\n *       <td>Translation. This is an alias for position.y!</td>\n *     </tr>\n *     <tr>\n *       <td>[width]{@link scene.Container#width}</td>\n *       <td>\n *         Implemented in [Container]{@link scene.Container}. Scaling. The width property calculates scale.x by dividing\n *         the \"requested\" width by the local bounding box width. It is indirectly an abstraction over scale.x, and there\n *         is no concept of user-defined width.\n *       </td>\n *     </tr>\n *     <tr>\n *       <td>[height]{@link scene.Container#height}</td>\n *       <td>\n *         Implemented in [Container]{@link scene.Container}. Scaling. The height property calculates scale.y by dividing\n *         the \"requested\" height by the local bounding box height. It is indirectly an abstraction over scale.y, and there\n *         is no concept of user-defined height.\n *       </td>\n *     </tr>\n *   </tbody>\n * </table>\n * </details>\n *\n * <details id=\"alpha\">\n * <summary>Alpha</summary>\n *\n * This alpha sets a display object's **relative opacity** w.r.t its parent. For example, if the alpha of a display\n * object is 0.5 and its parent's alpha is 0.5, then it will be rendered with 25% opacity (assuming alpha is not\n * applied on any ancestor further up the chain).\n * </details>\n *\n * <details id=\"visible\">\n * <summary>Renderable vs Visible</summary>\n *\n * The `renderable` and `visible` properties can be used to prevent a display object from being rendered to the\n * screen. However, there is a subtle difference between the two. When using `renderable`, the transforms  of the display\n * object (and its children subtree) will continue to be calculated. When using `visible`, the transforms will not\n * be calculated.\n * ```ts\n * import { BlurFilter, Container, Graphics, Sprite } from 'pixi.js';\n *\n * const container = new Container();\n * const sprite = Sprite.from('https://s3-us-west-2.amazonaws.com/s.cdpn.io/693612/IaUrttj.png');\n *\n * sprite.width = 512;\n * sprite.height = 512;\n *\n * // Adds a sprite as a child to this container. As a result, the sprite will be rendered whenever the container\n * // is rendered.\n * container.addChild(sprite);\n *\n * // Blurs whatever is rendered by the container\n * container.filters = [new BlurFilter()];\n *\n * // Only the contents within a circle at the center should be rendered onto the screen.\n * container.mask = new Graphics()\n *     .beginFill(0xffffff)\n *     .drawCircle(sprite.width / 2, sprite.height / 2, Math.min(sprite.width, sprite.height) / 2)\n *     .endFill();\n * ```\n *\n * </details>\n *\n * <details id=\"renderGroup\">\n * <summary>RenderGroup</summary>\n *\n * In PixiJS v8, containers can be set to operate in 'render group mode',\n * transforming them into entities akin to a stage in traditional rendering paradigms.\n * A render group is a root renderable entity, similar to a container,\n * but it's rendered in a separate pass with its own unique set of rendering instructions.\n * This approach enhances rendering efficiency and organization, particularly in complex scenes.\n *\n * You can enable render group mode on any container using container.enableRenderGroup()\n * or by initializing a new container with the render group property set to true (new Container({isRenderGroup: true})).\n *  The method you choose depends on your specific use case and setup requirements.\n *\n * An important aspect of PixiJS’s rendering process is the automatic treatment of rendered scenes as render groups.\n * This conversion streamlines the rendering process, but understanding when and how this happens is crucial\n * to fully leverage its benefits.\n *\n * One of the key advantages of using render groups is the performance efficiency in moving them. Since transformations\n *  are applied at the GPU level, moving a render group, even one with complex and numerous children,\n * doesn't require recalculating the rendering instructions or performing transformations on each child.\n * This makes operations like panning a large game world incredibly efficient.\n *\n * However, it's crucial to note that render groups do not batch together.\n * This means that turning every container into a render group could actually slow things down,\n * as each render group is processed separately. It's best to use render groups judiciously, at a broader level,\n * rather than on a per-child basis.\n * This approach ensures you get the performance benefits without overburdening the rendering process.\n *\n * RenderGroups maintain their own set of rendering instructions,\n * ensuring that changes or updates within a render group don't affect the rendering\n * instructions of its parent or other render groups.\n *  This isolation ensures more stable and predictable rendering behavior.\n *\n * Additionally, renderGroups can be nested, allowing for powerful options in organizing different aspects of your scene.\n * This feature is particularly beneficial for separating complex game graphics from UI elements,\n * enabling intricate and efficient scene management in complex applications.\n *\n * This means that Containers have 3 levels of matrix to be mindful of:\n *\n * 1. localTransform, this is the transform of the container based on its own properties\n * 2. groupTransform, this it the transform of the container relative to the renderGroup it belongs too\n * 3. worldTransform, this is the transform of the container relative to the Scene being rendered\n * </details>\n * @memberof scene\n */\nexport class Container<C extends ContainerChild = ContainerChild> extends EventEmitter<ContainerEvents<C> & AnyEvent>\n{\n    /**\n     * Mixes all enumerable properties and methods from a source object to Container.\n     * @param source - The source of properties and methods to mix in.\n     */\n    public static mixin(source: Dict<any>): void\n    {\n        Object.defineProperties(Container.prototype, Object.getOwnPropertyDescriptors(source));\n    }\n\n    /** unique id for this container */\n    public readonly uid: number = uid('renderable');\n\n    /** @private */\n    public _updateFlags = 0b1111;\n\n    // the render group this container owns\n    /** @private */\n    public renderGroup: RenderGroup = null;\n    // the render group this container belongs to\n    /** @private */\n    public parentRenderGroup: RenderGroup = null;\n    // the index of the container in the render group\n    /** @private */\n    public parentRenderGroupIndex: number = 0;\n\n    // set to true if the container has changed. It is reset once the changes have been applied\n    // by the transform system\n    // its here to stop ensure that when things change, only one update gets registers with the transform system\n    /** @private */\n    public didChange = false;\n    // same as above, but for the renderable\n    /** @private */\n    public didViewUpdate = false;\n\n    // how deep is the container relative to its render group..\n    // unless the element is the root render group - it will be relative to its parent\n    /** @private */\n    public relativeRenderGroupDepth = 0;\n\n    /**\n     * The array of children of this container.\n     * @readonly\n     */\n    public children: C[] = [];\n    /** The display object container that contains this display object. */\n    public parent: Container = null;\n\n    // used internally for changing up the render order.. mainly for masks and filters\n    // TODO setting this should cause a rebuild??\n    /** @private */\n    public includeInBuild = true;\n    /** @private */\n    public measurable = true;\n    /** @private */\n    public isSimple = true;\n\n    // / /////////////Transform related props//////////////\n\n    // used by the transform system to check if a container needs to be updated that frame\n    // if the tick matches the current transform system tick, it is not updated again\n    /**\n     * @internal\n     * @ignore\n     */\n    public updateTick = -1;\n\n    /**\n     * Current transform of the object based on local factors: position, scale, other stuff.\n     * @readonly\n     */\n    public localTransform: Matrix = new Matrix();\n    /**\n     * The relative group transform is a transform relative to the render group it belongs too. It will include all parent\n     * transforms and up to the render group (think of it as kind of like a stage - but the stage can be nested).\n     * If this container is is self a render group matrix will be relative to its parent render group\n     * @readonly\n     */\n    public relativeGroupTransform: Matrix = new Matrix();\n    /**\n     * The group transform is a transform relative to the render group it belongs too.\n     * If this container is render group then this will be an identity matrix. other wise it\n     * will be the same as the relativeGroupTransform.\n     * Use this value when actually rendering things to the screen\n     * @readonly\n     */\n    public groupTransform: Matrix = this.relativeGroupTransform;\n\n    // the global transform taking into account the render group and all parents\n    private _worldTransform: Matrix;\n\n    /** If the object has been destroyed via destroy(). If true, it should not be used. */\n    public destroyed = false;\n\n    // transform data..\n    /**\n     * The coordinate of the object relative to the local coordinates of the parent.\n     * @internal\n     * @ignore\n     */\n    public _position: ObservablePoint = new ObservablePoint(this, 0, 0);\n\n    /**\n     * The scale factor of the object.\n     * @internal\n     * @ignore\n     */\n    public _scale: ObservablePoint = defaultScale;\n\n    /**\n     * The pivot point of the container that it rotates around.\n     * @internal\n     * @ignore\n     */\n    public _pivot: ObservablePoint = defaultPivot;\n\n    /**\n     * The skew amount, on the x and y axis.\n     * @internal\n     * @ignore\n     */\n    public _skew: ObservablePoint = defaultSkew;\n\n    /**\n     * The X-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     * @internal\n     * @ignore\n     */\n    public _cx = 1;\n\n    /**\n     * The Y-coordinate value of the normalized local X axis,\n     * the first column of the local transformation matrix without a scale.\n     * @internal\n     * @ignore\n     */\n    public _sx = 0;\n\n    /**\n     * The X-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     * @internal\n     * @ignore\n     */\n    public _cy = 0;\n\n    /**\n     * The Y-coordinate value of the normalized local Y axis,\n     * the second column of the local transformation matrix without a scale.\n     * @internal\n     * @ignore\n     */\n    public _sy = 1;\n\n    /**\n     * The rotation amount.\n     * @internal\n     * @ignore\n     */\n    private _rotation = 0;\n\n    // / COLOR related props //////////////\n\n    // color stored as ABGR\n    public localColor = 0xFFFFFF;\n    public localAlpha = 1;\n\n    public groupAlpha = 1; // A\n    public groupColor = 0xFFFFFF; // BGR\n    public groupColorAlpha = 0xFFFFFFFF; // ABGR\n\n    // / BLEND related props //////////////\n\n    /**\n     * @internal\n     * @ignore\n     */\n    public localBlendMode: BLEND_MODES = 'inherit';\n    /**\n     * @internal\n     * @ignore\n     */\n    public groupBlendMode: BLEND_MODES = 'normal';\n\n    // / VISIBILITY related props //////////////\n\n    // visibility\n    // 0b11\n    // first bit is visible, second bit is renderable\n    /**\n     * This property holds three bits: culled, visible, renderable\n     * the third bit represents culling (0 = culled, 1 = not culled) 0b100\n     * the second bit represents visibility (0 = not visible, 1 = visible) 0b010\n     * the first bit represents renderable (0 = not renderable, 1 = renderable) 0b001\n     * @internal\n     * @ignore\n     */\n    public localDisplayStatus = 0b111; // 0b11 | 0b10 | 0b01 | 0b00\n    /**\n     * @internal\n     * @ignore\n     */\n    public globalDisplayStatus = 0b111; // 0b11 | 0b10 | 0b01 | 0b00\n\n    public readonly renderPipeId: string;\n\n    /**\n     * An optional bounds area for this container. Setting this rectangle will stop the renderer\n     * from recursively measuring the bounds of each children and instead use this single boundArea.\n     * This is great for optimisation! If for example you have a 1000 spinning particles and you know they all sit\n     * within a specific bounds, then setting it will mean the renderer will not need to measure the\n     * 1000 children to find the bounds. Instead it will just use the bounds you set.\n     */\n    public boundsArea: Rectangle;\n\n    /**\n     * A value that increments each time the containe is modified\n     * eg children added, removed etc\n     * @ignore\n     */\n    public _didContainerChangeTick = 0;\n    /**\n     * A value that increments each time the container view is modified\n     * eg texture swap, geometry change etc\n     * @ignore\n     */\n    public _didViewChangeTick = 0;\n\n    /**\n     * We now use the _didContainerChangeTick and _didViewChangeTick to track changes\n     * @deprecated since 8.2.6\n     * @ignore\n     */\n    set _didChangeId(value: number)\n    {\n        this._didViewChangeTick = (value >> 12) & 0xFFF; // Extract the upper 12 bits\n        this._didContainerChangeTick = value & 0xFFF; // Extract the lower 12 bits\n    }\n\n    get _didChangeId(): number\n    {\n        return (this._didContainerChangeTick & 0xfff) | ((this._didViewChangeTick & 0xfff) << 12);\n    }\n\n    /**\n     * property that tracks if the container transform has changed\n     * @ignore\n     */\n    private _didLocalTransformChangeId = -1;\n\n    constructor(options: ContainerOptions<C> = {})\n    {\n        super();\n\n        this.effects = [];\n        assignWithIgnore(this, options, {\n            children: true,\n            parent: true,\n            effects: true,\n        });\n\n        options.children?.forEach((child) => this.addChild(child));\n        options.parent?.addChild(this);\n    }\n\n    /**\n     * Adds one or more children to the container.\n     *\n     * Multiple items can be added like so: `myContainer.addChild(thingOne, thingTwo, thingThree)`\n     * @param {...Container} children - The Container(s) to add to the container\n     * @returns {Container} - The first child that was added.\n     */\n    public addChild<U extends C[]>(...children: U): U[0]\n    {\n        // #if _DEBUG\n        if (!this.allowChildren)\n        {\n            deprecation(v8_0_0, 'addChild: Only Containers will be allowed to add children in v8.0.0');\n        }\n        // #endif\n\n        if (children.length > 1)\n        {\n            // loop through the array and add all children\n            for (let i = 0; i < children.length; i++)\n            {\n                this.addChild(children[i]);\n            }\n\n            return children[0];\n        }\n\n        const child = children[0];\n\n        const renderGroup = this.renderGroup || this.parentRenderGroup;\n\n        if (child.parent === this)\n        {\n            this.children.splice(this.children.indexOf(child), 1);\n            this.children.push(child);\n\n            if (renderGroup)\n            {\n                renderGroup.structureDidChange = true;\n            }\n\n            return child;\n        }\n\n        if (child.parent)\n        {\n            // TODO Optimisation...if the parent has the same render group, this does not need to change!\n            child.parent.removeChild(child);\n        }\n\n        this.children.push(child);\n\n        if (this.sortableChildren) this.sortDirty = true;\n\n        child.parent = this;\n\n        child.didChange = true;\n\n        // TODO - OPtimise this? could check what the parent has set?\n        child._updateFlags = 0b1111;\n\n        if (renderGroup)\n        {\n            renderGroup.addChild(child);\n        }\n\n        this.emit('childAdded', child, this, this.children.length - 1);\n        child.emit('added', this);\n\n        this._didViewChangeTick++;\n\n        if (child._zIndex !== 0)\n        {\n            child.depthOfChildModified();\n        }\n\n        return child;\n    }\n\n    /**\n     * Removes one or more children from the container.\n     * @param {...Container} children - The Container(s) to remove\n     * @returns {Container} The first child that was removed.\n     */\n    public removeChild<U extends C[]>(...children: U): U[0]\n    {\n        // if there is only one argument we can bypass looping through the them\n        if (children.length > 1)\n        {\n            // loop through the arguments property and remove all children\n            for (let i = 0; i < children.length; i++)\n            {\n                this.removeChild(children[i]);\n            }\n\n            return children[0];\n        }\n\n        const child = children[0];\n\n        const index = this.children.indexOf(child);\n\n        if (index > -1)\n        {\n            this._didViewChangeTick++;\n\n            this.children.splice(index, 1);\n\n            if (this.renderGroup)\n            {\n                this.renderGroup.removeChild(child);\n            }\n            else if (this.parentRenderGroup)\n            {\n                this.parentRenderGroup.removeChild(child);\n            }\n\n            child.parent = null;\n            this.emit('childRemoved', child, this, index);\n            child.emit('removed', this);\n        }\n\n        return child;\n    }\n\n    /** @ignore */\n    public _onUpdate(point?: ObservablePoint)\n    {\n        if (point)\n        {\n            //   this.updateFlags |= UPDATE_TRANSFORM;\n\n            if (point === this._skew)\n            {\n                this._updateSkew();\n            }\n        }\n\n        this._didContainerChangeTick++;\n\n        if (this.didChange) return;\n        this.didChange = true;\n\n        if (this.parentRenderGroup)\n        {\n            this.parentRenderGroup.onChildUpdate(this);\n        }\n    }\n\n    set isRenderGroup(value: boolean)\n    {\n        if (!!this.renderGroup === value) return;\n\n        if (value)\n        {\n            this.enableRenderGroup();\n        }\n        else\n        {\n            this.disableRenderGroup();\n        }\n    }\n\n    /**\n     * Returns true if this container is a render group.\n     * This means that it will be rendered as a separate pass, with its own set of instructions\n     */\n    get isRenderGroup(): boolean\n    {\n        return !!this.renderGroup;\n    }\n\n    /**\n     * Calling this enables a render group for this container.\n     * This means it will be rendered as a separate set of instructions.\n     * The transform of the container will also be handled on the GPU rather than the CPU.\n     */\n    public enableRenderGroup(): void\n    {\n        if (this.renderGroup) return;\n\n        const parentRenderGroup = this.parentRenderGroup;\n\n        parentRenderGroup?.removeChild(this);\n\n        this.renderGroup = BigPool.get(RenderGroup, this);\n\n        // this group matrix will now be an identity matrix,\n        // as its own transform will be passed to the GPU\n        this.groupTransform = Matrix.IDENTITY;\n\n        parentRenderGroup?.addChild(this);\n\n        this._updateIsSimple();\n    }\n\n    /** This will disable the render group for this container. */\n    public disableRenderGroup(): void\n    {\n        if (!this.renderGroup) return;\n\n        const parentRenderGroup = this.parentRenderGroup;\n\n        parentRenderGroup?.removeChild(this);\n\n        BigPool.return(this.renderGroup);\n\n        this.renderGroup = null;\n        this.groupTransform = this.relativeGroupTransform;\n\n        parentRenderGroup?.addChild(this);\n\n        this._updateIsSimple();\n    }\n\n    /** @ignore */\n    public _updateIsSimple()\n    {\n        this.isSimple = !(this.renderGroup) && (this.effects.length === 0);\n    }\n\n    /**\n     * Current transform of the object based on world (parent) factors.\n     * @readonly\n     */\n    get worldTransform()\n    {\n        this._worldTransform ||= new Matrix();\n\n        if (this.renderGroup)\n        {\n            this._worldTransform.copyFrom(this.renderGroup.worldTransform);\n        }\n        else if (this.parentRenderGroup)\n        {\n            this._worldTransform.appendFrom(this.relativeGroupTransform, this.parentRenderGroup.worldTransform);\n        }\n\n        return this._worldTransform;\n    }\n\n    /**\n     * The position of the container on the x axis relative to the local coordinates of the parent.\n     * An alias to position.x\n     */\n    get x(): number\n    {\n        return this._position.x;\n    }\n\n    set x(value: number)\n    {\n        this._position.x = value;\n    }\n\n    /**\n     * The position of the container on the y axis relative to the local coordinates of the parent.\n     * An alias to position.y\n     */\n    get y(): number\n    {\n        return this._position.y;\n    }\n\n    set y(value: number)\n    {\n        this._position.y = value;\n    }\n\n    /**\n     * The coordinate of the object relative to the local coordinates of the parent.\n     * @since 4.0.0\n     */\n    get position(): ObservablePoint\n    {\n        return this._position;\n    }\n\n    set position(value: PointData)\n    {\n        this._position.copyFrom(value);\n    }\n\n    /**\n     * The rotation of the object in radians.\n     * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.\n     */\n    get rotation(): number\n    {\n        return this._rotation;\n    }\n\n    set rotation(value: number)\n    {\n        if (this._rotation !== value)\n        {\n            this._rotation = value;\n            this._onUpdate(this._skew);\n        }\n    }\n\n    /**\n     * The angle of the object in degrees.\n     * 'rotation' and 'angle' have the same effect on a display object; rotation is in radians, angle is in degrees.\n     */\n    get angle(): number\n    {\n        return this.rotation * RAD_TO_DEG;\n    }\n\n    set angle(value: number)\n    {\n        this.rotation = value * DEG_TO_RAD;\n    }\n\n    /**\n     * The center of rotation, scaling, and skewing for this display object in its local space. The `position`\n     * is the projection of `pivot` in the parent's local space.\n     *\n     * By default, the pivot is the origin (0, 0).\n     * @since 4.0.0\n     */\n    get pivot(): ObservablePoint\n    {\n        if (this._pivot === defaultPivot)\n        {\n            this._pivot = new ObservablePoint(this, 0, 0);\n        }\n\n        return this._pivot;\n    }\n\n    set pivot(value: PointData | number)\n    {\n        if (this._pivot === defaultPivot)\n        {\n            this._pivot = new ObservablePoint(this, 0, 0);\n        }\n\n        typeof value === 'number' ? this._pivot.set(value) : this._pivot.copyFrom(value);\n    }\n\n    /**\n     * The skew factor for the object in radians.\n     * @since 4.0.0\n     */\n    get skew(): ObservablePoint\n    {\n        if (this._skew === defaultSkew)\n        {\n            this._skew = new ObservablePoint(this, 0, 0);\n        }\n\n        return this._skew;\n    }\n\n    set skew(value: PointData)\n    {\n        if (this._skew === defaultSkew)\n        {\n            this._skew = new ObservablePoint(this, 0, 0);\n        }\n\n        this._skew.copyFrom(value);\n    }\n\n    /**\n     * The scale factors of this object along the local coordinate axes.\n     *\n     * The default scale is (1, 1).\n     * @since 4.0.0\n     */\n    get scale(): ObservablePoint\n    {\n        if (this._scale === defaultScale)\n        {\n            this._scale = new ObservablePoint(this, 1, 1);\n        }\n\n        return this._scale;\n    }\n\n    set scale(value: PointData | number)\n    {\n        if (this._scale === defaultScale)\n        {\n            this._scale = new ObservablePoint(this, 0, 0);\n        }\n\n        typeof value === 'number' ? this._scale.set(value) : this._scale.copyFrom(value);\n    }\n\n    /**\n     * The width of the Container, setting this will actually modify the scale to achieve the value set.\n     * @memberof scene.Container#\n     */\n    get width(): number\n    {\n        return Math.abs(this.scale.x * this.getLocalBounds().width);\n    }\n\n    set width(value: number)\n    {\n        const localWidth = this.getLocalBounds().width;\n\n        this._setWidth(value, localWidth);\n    }\n\n    /**\n     * The height of the Container, setting this will actually modify the scale to achieve the value set.\n     * @memberof scene.Container#\n     */\n    get height(): number\n    {\n        return Math.abs(this.scale.y * this.getLocalBounds().height);\n    }\n\n    set height(value: number)\n    {\n        const localHeight = this.getLocalBounds().height;\n\n        this._setHeight(value, localHeight);\n    }\n\n    /**\n     * Retrieves the size of the container as a [Size]{@link Size} object.\n     * This is faster than get the width and height separately.\n     * @param out - Optional object to store the size in.\n     * @returns - The size of the container.\n     * @memberof scene.Container#\n     */\n    public getSize(out?: Size): Size\n    {\n        if (!out)\n        {\n            out = {} as Size;\n        }\n\n        const bounds = this.getLocalBounds();\n\n        out.width = Math.abs(this.scale.x * bounds.width);\n        out.height = Math.abs(this.scale.y * bounds.height);\n\n        return out;\n    }\n\n    /**\n     * Sets the size of the container to the specified width and height.\n     * This is faster than setting the width and height separately.\n     * @param value - This can be either a number or a [Size]{@link Size} object.\n     * @param height - The height to set. Defaults to the value of `width` if not provided.\n     * @memberof scene.Container#\n     */\n    public setSize(value: number | Optional<Size, 'height'>, height?: number)\n    {\n        const size = this.getLocalBounds();\n\n        if (typeof value === 'object')\n        {\n            height = value.height ?? value.width;\n            value = value.width;\n        }\n        else\n        {\n            height ??= value;\n        }\n\n        value !== undefined && this._setWidth(value, size.width);\n        height !== undefined && this._setHeight(height, size.height);\n    }\n\n    /** Called when the skew or the rotation changes. */\n    private _updateSkew(): void\n    {\n        const rotation = this._rotation;\n        const skew = this._skew;\n\n        this._cx = Math.cos(rotation + skew._y);\n        this._sx = Math.sin(rotation + skew._y);\n        this._cy = -Math.sin(rotation - skew._x); // cos, added PI/2\n        this._sy = Math.cos(rotation - skew._x); // sin, added PI/2\n    }\n\n    /**\n     * Updates the transform properties of the container (accepts partial values).\n     * @param {object} opts - The options for updating the transform.\n     * @param {number} opts.x - The x position of the container.\n     * @param {number} opts.y - The y position of the container.\n     * @param {number} opts.scaleX - The scale factor on the x-axis.\n     * @param {number} opts.scaleY - The scale factor on the y-axis.\n     * @param {number} opts.rotation - The rotation of the container, in radians.\n     * @param {number} opts.skewX - The skew factor on the x-axis.\n     * @param {number} opts.skewY - The skew factor on the y-axis.\n     * @param {number} opts.pivotX - The x coordinate of the pivot point.\n     * @param {number} opts.pivotY - The y coordinate of the pivot point.\n     */\n    public updateTransform(opts: Partial<UpdateTransformOptions>): this\n    {\n        this.position.set(\n            typeof opts.x === 'number' ? opts.x : this.position.x,\n            typeof opts.y === 'number' ? opts.y : this.position.y\n        );\n        this.scale.set(\n            typeof opts.scaleX === 'number' ? opts.scaleX || 1 : this.scale.x,\n            typeof opts.scaleY === 'number' ? opts.scaleY || 1 : this.scale.y\n        );\n        this.rotation = typeof opts.rotation === 'number' ? opts.rotation : this.rotation;\n        this.skew.set(\n            typeof opts.skewX === 'number' ? opts.skewX : this.skew.x,\n            typeof opts.skewY === 'number' ? opts.skewY : this.skew.y\n        );\n        this.pivot.set(\n            typeof opts.pivotX === 'number' ? opts.pivotX : this.pivot.x,\n            typeof opts.pivotY === 'number' ? opts.pivotY : this.pivot.y\n        );\n\n        return this;\n    }\n\n    /**\n     * Updates the local transform using the given matrix.\n     * @param matrix - The matrix to use for updating the transform.\n     */\n    public setFromMatrix(matrix: Matrix): void\n    {\n        matrix.decompose(this);\n    }\n\n    /** Updates the local transform. */\n    public updateLocalTransform(): void\n    {\n        const localTransformChangeId = this._didContainerChangeTick;\n\n        if (this._didLocalTransformChangeId === localTransformChangeId) return;\n\n        this._didLocalTransformChangeId = localTransformChangeId;\n        //   this.didChange = false;\n\n        const lt = this.localTransform;\n        const scale = this._scale;\n        const pivot = this._pivot;\n        const position = this._position;\n\n        const sx = scale._x;\n        const sy = scale._y;\n\n        const px = pivot._x;\n        const py = pivot._y;\n\n        // get the matrix values of the container based on its this properties..\n        lt.a = this._cx * sx;\n        lt.b = this._sx * sx;\n        lt.c = this._cy * sy;\n        lt.d = this._sy * sy;\n\n        lt.tx = position._x - ((px * lt.a) + (py * lt.c));\n        lt.ty = position._y - ((px * lt.b) + (py * lt.d));\n    }\n\n    // / ///// color related stuff\n\n    set alpha(value: number)\n    {\n        if (value === this.localAlpha) return;\n\n        this.localAlpha = value;\n\n        this._updateFlags |= UPDATE_COLOR;\n\n        this._onUpdate();\n    }\n\n    /** The opacity of the object. */\n    get alpha(): number\n    {\n        return this.localAlpha;\n    }\n\n    set tint(value: ColorSource)\n    {\n        const tempColor = Color.shared.setValue(value ?? 0xFFFFFF);\n        const bgr = tempColor.toBgrNumber();\n\n        if (bgr === this.localColor) return;\n\n        this.localColor = bgr;\n\n        this._updateFlags |= UPDATE_COLOR;\n\n        this._onUpdate();\n    }\n\n    /**\n     * The tint applied to the sprite. This is a hex value.\n     *\n     * A value of 0xFFFFFF will remove any tint effect.\n     * @default 0xFFFFFF\n     */\n    get tint(): number\n    {\n        // convert bgr to rgb..\n        return bgr2rgb(this.localColor);\n    }\n\n    // / //////////////// blend related stuff\n\n    set blendMode(value: BLEND_MODES)\n    {\n        if (this.localBlendMode === value) return;\n        if (this.parentRenderGroup)\n        {\n            this.parentRenderGroup.structureDidChange = true;\n        }\n\n        this._updateFlags |= UPDATE_BLEND;\n\n        this.localBlendMode = value;\n\n        this._onUpdate();\n    }\n\n    /**\n     * The blend mode to be applied to the sprite. Apply a value of `'normal'` to reset the blend mode.\n     * @default 'normal'\n     */\n    get blendMode(): BLEND_MODES\n    {\n        return this.localBlendMode;\n    }\n\n    // / ///////// VISIBILITY / RENDERABLE /////////////////\n\n    /** The visibility of the object. If false the object will not be drawn, and the transform will not be updated. */\n    get visible()\n    {\n        return !!(this.localDisplayStatus & 0b010);\n    }\n\n    set visible(value: boolean)\n    {\n        const valueNumber = value ? 0b010 : 0;\n\n        if ((this.localDisplayStatus & 0b010) === valueNumber) return;\n\n        if (this.parentRenderGroup)\n        {\n            this.parentRenderGroup.structureDidChange = true;\n        }\n\n        this._updateFlags |= UPDATE_VISIBLE;\n\n        this.localDisplayStatus ^= 0b010;\n\n        this._onUpdate();\n    }\n\n    /** @ignore */\n    get culled()\n    {\n        return !(this.localDisplayStatus & 0b100);\n    }\n\n    /** @ignore */\n    set culled(value: boolean)\n    {\n        const valueNumber = value ? 0 : 0b100;\n\n        if ((this.localDisplayStatus & 0b100) === valueNumber) return;\n\n        if (this.parentRenderGroup)\n        {\n            this.parentRenderGroup.structureDidChange = true;\n        }\n\n        this._updateFlags |= UPDATE_VISIBLE;\n        this.localDisplayStatus ^= 0b100;\n\n        this._onUpdate();\n    }\n\n    /** Can this object be rendered, if false the object will not be drawn but the transform will still be updated. */\n    get renderable()\n    {\n        return !!(this.localDisplayStatus & 0b001);\n    }\n\n    set renderable(value: boolean)\n    {\n        const valueNumber = value ? 0b001 : 0;\n\n        if ((this.localDisplayStatus & 0b001) === valueNumber) return;\n\n        this._updateFlags |= UPDATE_VISIBLE;\n        this.localDisplayStatus ^= 0b001;\n\n        if (this.parentRenderGroup)\n        {\n            this.parentRenderGroup.structureDidChange = true;\n        }\n\n        this._onUpdate();\n    }\n\n    /** Whether or not the object should be rendered. */\n    get isRenderable(): boolean\n    {\n        return (this.localDisplayStatus === 0b111 && this.groupAlpha > 0);\n    }\n\n    /**\n     * Removes all internal references and listeners as well as removes children from the display list.\n     * Do not use a Container after calling `destroy`.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.children=false] - if set to true, all the children will have their destroy\n     *  method called as well. 'options' will be passed on to those calls.\n     * @param {boolean} [options.texture=false] - Only used for children with textures e.g. Sprites. If options.children\n     * is set to true it should destroy the texture of the child sprite\n     * @param {boolean} [options.textureSource=false] - Only used for children with textures e.g. Sprites.\n     * If options.children is set to true it should destroy the texture source of the child sprite\n     * @param {boolean} [options.context=false] - Only used for children with graphicsContexts e.g. Graphics.\n     * If options.children is set to true it should destroy the context of the child graphics\n     */\n    public destroy(options: DestroyOptions = false): void\n    {\n        if (this.destroyed) return;\n        this.destroyed = true;\n\n        // remove children is faster than removeChild..\n\n        let oldChildren: ContainerChild[];\n\n        // we add this check as calling removeChildren on particle container will throw an error\n        // As we know it does cannot have any children, check before calling the function.\n        if (this.children.length)\n        {\n            oldChildren = this.removeChildren(0, this.children.length);\n        }\n\n        this.removeFromParent();\n        this.parent = null;\n        this._maskEffect = null;\n        this._filterEffect = null;\n        this.effects = null;\n        this._position = null;\n        this._scale = null;\n        this._pivot = null;\n        this._skew = null;\n\n        this.emit('destroyed', this);\n\n        this.removeAllListeners();\n\n        const destroyChildren = typeof options === 'boolean' ? options : options?.children;\n\n        if (destroyChildren && oldChildren)\n        {\n            for (let i = 0; i < oldChildren.length; ++i)\n            {\n                oldChildren[i].destroy(options);\n            }\n        }\n\n        this.renderGroup?.destroy();\n        this.renderGroup = null;\n    }\n}\n\nContainer.mixin(childrenHelperMixin);\nContainer.mixin(toLocalGlobalMixin);\nContainer.mixin(onRenderMixin);\nContainer.mixin(measureMixin);\nContainer.mixin(effectsMixin);\nContainer.mixin(findMixin);\nContainer.mixin(sortMixin);\nContainer.mixin(cullingMixin);\nContainer.mixin(cacheAsTextureMixin);\nContainer.mixin(getGlobalMixin);\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2491, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2497, "column": 0}, "map": {"version":3,"file":"ViewContainer.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/view/ViewContainer.ts"],"sourcesContent":["import { Bounds } from '../container/bounds/Bounds';\nimport { Container } from '../container/Container';\n\nimport type { PointData } from '../../maths/point/PointData';\nimport type { View } from '../../rendering/renderers/shared/view/View';\nimport type { DestroyOptions } from '../container/destroyTypes';\n\n/**\n * A ViewContainer is a type of container that represents a view.\n * This view can be a Sprite, a Graphics object, or any other object that can be rendered.\n * This class is abstract and should not be used directly.\n * @memberof scene\n */\nexport abstract class ViewContainer extends Container implements View\n{\n    /** @private */\n    public override readonly renderPipeId: string;\n    /** @private */\n    public readonly canBundle = true;\n    /** @private */\n    public override allowChildren = false;\n\n    /** @private */\n    public _roundPixels: 0 | 1 = 0;\n    /** @private */\n    public _lastUsed = 0;\n    /** @private */\n    public _lastInstructionTick = -1;\n\n    protected _bounds: Bounds = new Bounds(0, 1, 0, 0);\n    protected _boundsDirty = true;\n\n    /**\n     * The local bounds of the view.\n     * @type {rendering.Bounds}\n     */\n    public get bounds()\n    {\n        if (!this._boundsDirty) return this._bounds;\n\n        this.updateBounds();\n\n        this._boundsDirty = false;\n\n        return this._bounds;\n    }\n\n    /** @private */\n    protected abstract updateBounds(): void;\n\n    /**\n     * Whether or not to round the x/y position of the sprite.\n     * @type {boolean}\n     */\n    get roundPixels()\n    {\n        return !!this._roundPixels;\n    }\n\n    set roundPixels(value: boolean)\n    {\n        this._roundPixels = value ? 1 : 0;\n    }\n\n    /**\n     * Checks if the object contains the given point.\n     * @param point - The point to check\n     */\n    public containsPoint(point: PointData)\n    {\n        const bounds = this.bounds;\n        const { x, y } = point;\n\n        return (x >= bounds.minX\n            && x <= bounds.maxX\n            && y >= bounds.minY\n            && y <= bounds.maxY);\n    }\n\n    /** @private */\n    public abstract batched: boolean;\n\n    /** @private */\n    protected onViewUpdate()\n    {\n        this._didViewChangeTick++;\n\n        this._boundsDirty = true;\n\n        if (this.didViewUpdate) return;\n        this.didViewUpdate = true;\n\n        const renderGroup = this.renderGroup || this.parentRenderGroup;\n\n        if (renderGroup)\n        {\n            renderGroup.onChildViewUpdate(this);\n        }\n    }\n\n    public override destroy(options?: DestroyOptions): void\n    {\n        super.destroy(options);\n\n        this._bounds = null;\n    }\n}\n"],"names":[],"mappings":";;;;;;;;AAaO,MAAe,+LAAsB,YAC5C,CAAA;IADO,WAAA,EAAA;QAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;QAKH,aAAA,GAAA,IAAA,CAAgB,SAAY,GAAA,IAAA,CAAA;QAE5B,aAAA,GAAA,IAAA,CAAgB,aAAgB,GAAA,KAAA,CAAA;QAGhC,aAAA,GAAA,IAAA,CAAO,YAAsB,GAAA,CAAA,CAAA;QAE7B,aAAA,GAAA,IAAA,CAAO,SAAY,GAAA,CAAA,CAAA;QAEnB,aAAA,GAAA,IAAA,CAAO,oBAAuB,GAAA,CAAA,CAAA,CAAA;QAE9B,IAAA,CAAU,OAAA,GAAkB,oLAAI,SAAA,CAAO,CAAG,EAAA,CAAA,EAAG,GAAG,CAAC,CAAA,CAAA;QACjD,IAAA,CAAU,YAAe,GAAA,IAAA,CAAA;IAAA,CAAA;IAAA;;;GAAA,GAMzB,IAAW,MACX,GAAA;QACI,IAAI,CAAC,IAAK,CAAA,YAAA,EAAc,OAAO,IAAK,CAAA,OAAA,CAAA;QAEpC,IAAA,CAAK,YAAa,EAAA,CAAA;QAElB,IAAA,CAAK,YAAe,GAAA,KAAA,CAAA;QAEpB,OAAO,IAAK,CAAA,OAAA,CAAA;IAAA,CAChB;IAAA;;;GAAA,GASA,IAAI,WACJ,GAAA;QACW,OAAA,CAAC,CAAC,IAAK,CAAA,YAAA,CAAA;IAAA,CAClB;IAEA,IAAI,YAAY,KAChB,EAAA;QACS,IAAA,CAAA,YAAA,GAAe,QAAQ,CAAI,GAAA,CAAA,CAAA;IAAA,CACpC;IAAA;;;GAAA,GAMO,cAAc,KACrB,EAAA;QACI,MAAM,SAAS,IAAK,CAAA,MAAA,CAAA;QACd,MAAA,EAAE,CAAG,EAAA,CAAA,EAAM,GAAA,KAAA,CAAA;QAET,OAAA,CAAA,IAAK,MAAO,CAAA,IAAA,IACb,CAAK,IAAA,MAAA,CAAO,IAAA,IACZ,CAAK,IAAA,MAAA,CAAO,IACZ,IAAA,CAAA,IAAK,MAAO,CAAA,IAAA,CAAA;IAAA,CACvB;IAAA,aAAA,GAMU,YACV,GAAA;QACS,IAAA,CAAA,kBAAA,EAAA,CAAA;QAEL,IAAA,CAAK,YAAe,GAAA,IAAA,CAAA;QAEpB,IAAI,IAAK,CAAA,aAAA,EAAe,OAAA;QACxB,IAAA,CAAK,aAAgB,GAAA,IAAA,CAAA;QAEf,MAAA,WAAA,GAAc,IAAK,CAAA,WAAA,IAAe,IAAK,CAAA,iBAAA,CAAA;QAE7C,IAAI,WACJ,EAAA;YACI,WAAA,CAAY,iBAAA,CAAkB,IAAI,CAAA,CAAA;QAAA,CACtC;IAAA,CACJ;IAEgB,QAAQ,OACxB,EAAA;QACI,KAAA,CAAM,QAAQ,OAAO,CAAA,CAAA;QAErB,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;IAAA,CACnB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2559, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2565, "column": 0}, "map": {"version":3,"file":"Sprite.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite/Sprite.ts"],"sourcesContent":["import { ObservablePoint } from '../../maths/point/ObservablePoint';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { updateQuadBounds } from '../../utils/data/updateQuadBounds';\nimport { deprecation } from '../../utils/logging/deprecation';\nimport { ViewContainer } from '../view/ViewContainer';\n\nimport type { Size } from '../../maths/misc/Size';\nimport type { PointData } from '../../maths/point/PointData';\nimport type { TextureSourceLike } from '../../rendering/renderers/shared/texture/Texture';\nimport type { BoundsData } from '../container/bounds/Bounds';\nimport type { ContainerOptions } from '../container/Container';\nimport type { Optional } from '../container/container-mixins/measureMixin';\nimport type { DestroyOptions } from '../container/destroyTypes';\n\n/**\n * Options for the {@link scene.Sprite} constructor.\n * @memberof scene\n */\nexport interface SpriteOptions extends ContainerOptions\n{\n    /** The texture to use for the sprite. */\n    texture?: Texture;\n    /** The anchor point of the sprite. */\n    anchor?: PointData | number;\n    /** Whether or not to round the x/y position. */\n    roundPixels?: boolean;\n}\n\n/**\n * The Sprite object is one of the most important objects in PixiJS. It is a\n * drawing item that can be added to a scene and rendered to the screen.\n *\n * A sprite can be created directly from an image like this:\n *\n * ```js\n * import { Sprite } from 'pixi.js';\n *\n * const sprite = Sprite.from('assets/image.png');\n * ```\n *\n * The more efficient way to create sprites is using a {@link assets.Spritesheet},\n * as swapping base textures when rendering to the screen is inefficient.\n *\n * ```js\n * import { Assets, Sprite } from 'pixi.js';\n *\n * const sheet = await Assets.load('assets/spritesheet.json');\n * const sprite = new Sprite(sheet.textures['image.png']);\n * ```\n * @memberof scene\n * @extends scene.Container\n */\nexport class Sprite extends ViewContainer\n{\n    /**\n     * Helper function that creates a new sprite based on the source you provide.\n     * The source can be - frame id, image, video, canvas element, video element, texture\n     * @param source - Source to create texture from\n     * @param [skipCache] - Whether to skip the cache or not\n     * @returns The newly created sprite\n     */\n    public static from(source: Texture | TextureSourceLike, skipCache = false): Sprite\n    {\n        if (source instanceof Texture)\n        {\n            return new Sprite(source);\n        }\n\n        return new Sprite(Texture.from(source, skipCache));\n    }\n\n    public override readonly renderPipeId: string = 'sprite';\n\n    public batched = true;\n    public readonly _anchor: ObservablePoint;\n\n    // sprite specific..\n    public _texture: Texture;\n\n    private readonly _visualBounds: BoundsData = { minX: 0, maxX: 1, minY: 0, maxY: 0 };\n\n    private _width: number;\n    private _height: number;\n\n    /**\n     * @param options - The options for creating the sprite.\n     */\n    constructor(options: SpriteOptions | Texture = Texture.EMPTY)\n    {\n        if (options instanceof Texture)\n        {\n            options = { texture: options };\n        }\n\n        // split out\n        const { texture = Texture.EMPTY, anchor, roundPixels, width, height, ...rest } = options;\n\n        super({\n            label: 'Sprite',\n            ...rest\n        });\n\n        this._anchor = new ObservablePoint(\n            {\n                _onUpdate: () =>\n                {\n                    this.onViewUpdate();\n                }\n            },\n        );\n\n        if (anchor)\n        {\n            this.anchor = anchor;\n        }\n        else if (texture.defaultAnchor)\n        {\n            this.anchor = texture.defaultAnchor;\n        }\n\n        this.texture = texture;\n\n        this.allowChildren = false;\n        this.roundPixels = roundPixels ?? false;\n\n        // needs to be set after the container has initiated\n        if (width !== undefined) this.width = width;\n        if (height !== undefined) this.height = height;\n    }\n\n    set texture(value: Texture)\n    {\n        value ||= Texture.EMPTY;\n\n        const currentTexture = this._texture;\n\n        if (currentTexture === value) return;\n\n        if (currentTexture && currentTexture.dynamic) currentTexture.off('update', this.onViewUpdate, this);\n        if (value.dynamic) value.on('update', this.onViewUpdate, this);\n\n        this._texture = value;\n\n        if (this._width)\n        {\n            this._setWidth(this._width, this._texture.orig.width);\n        }\n\n        if (this._height)\n        {\n            this._setHeight(this._height, this._texture.orig.height);\n        }\n\n        this.onViewUpdate();\n    }\n\n    /** The texture that the sprite is using. */\n    get texture()\n    {\n        return this._texture;\n    }\n\n    /**\n     * The bounds of the sprite, taking the texture's trim into account.\n     * @type {rendering.Bounds}\n     */\n    get visualBounds()\n    {\n        updateQuadBounds(this._visualBounds, this._anchor, this._texture, 0);\n\n        return this._visualBounds;\n    }\n\n    /**\n     * @deprecated\n     */\n    get sourceBounds()\n    {\n        // #if _DEBUG\n        deprecation('8.6.1', 'Sprite.sourceBounds is deprecated, use visualBounds instead.');\n        // #endif\n\n        return this.visualBounds;\n    }\n\n    /** @private */\n    protected updateBounds()\n    {\n        const anchor = this._anchor;\n        const texture = this._texture;\n\n        const bounds = this._bounds;\n\n        const { width, height } = texture.orig;\n\n        bounds.minX = -anchor._x * width;\n        bounds.maxX = bounds.minX + width;\n\n        bounds.minY = -anchor._y * height;\n        bounds.maxY = bounds.minY + height;\n    }\n\n    /**\n     * Destroys this sprite renderable and optionally its texture.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the current texture of the renderable as well\n     * @param {boolean} [options.textureSource=false] - Should it destroy the textureSource of the renderable as well\n     */\n    public override destroy(options: DestroyOptions = false)\n    {\n        super.destroy(options);\n\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            this._texture.destroy(destroyTextureSource);\n        }\n\n        this._texture = null;\n        (this._visualBounds as null) = null;\n        (this._bounds as null) = null;\n        (this._anchor as null) = null;\n    }\n\n    /**\n     * The anchor sets the origin point of the sprite. The default value is taken from the {@link Texture}\n     * and passed to the constructor.\n     *\n     * The default is `(0,0)`, this means the sprite's origin is the top left.\n     *\n     * Setting the anchor to `(0.5,0.5)` means the sprite's origin is centered.\n     *\n     * Setting the anchor to `(1,1)` would mean the sprite's origin point will be the bottom right corner.\n     *\n     * If you pass only single parameter, it will set both x and y to the same value as shown in the example below.\n     * @example\n     * import { Sprite } from 'pixi.js';\n     *\n     * const sprite = new Sprite({texture: Texture.WHITE});\n     * sprite.anchor.set(0.5); // This will set the origin to center. (0.5) is same as (0.5, 0.5).\n     */\n    get anchor(): ObservablePoint\n    {\n        return this._anchor;\n    }\n\n    set anchor(value: PointData | number)\n    {\n        typeof value === 'number' ? this._anchor.set(value) : this._anchor.copyFrom(value);\n    }\n\n    /** The width of the sprite, setting this will actually modify the scale to achieve the value set. */\n    override get width(): number\n    {\n        return Math.abs(this.scale.x) * this._texture.orig.width;\n    }\n\n    override set width(value: number)\n    {\n        this._setWidth(value, this._texture.orig.width);\n        this._width = value;\n    }\n\n    /** The height of the sprite, setting this will actually modify the scale to achieve the value set. */\n    override get height(): number\n    {\n        return Math.abs(this.scale.y) * this._texture.orig.height;\n    }\n\n    override set height(value: number)\n    {\n        this._setHeight(value, this._texture.orig.height);\n        this._height = value;\n    }\n\n    /**\n     * Retrieves the size of the Sprite as a [Size]{@link Size} object.\n     * This is faster than get the width and height separately.\n     * @param out - Optional object to store the size in.\n     * @returns - The size of the Sprite.\n     */\n    public override getSize(out?: Size): Size\n    {\n        out ||= {} as Size;\n        out.width = Math.abs(this.scale.x) * this._texture.orig.width;\n        out.height = Math.abs(this.scale.y) * this._texture.orig.height;\n\n        return out;\n    }\n\n    /**\n     * Sets the size of the Sprite to the specified width and height.\n     * This is faster than setting the width and height separately.\n     * @param value - This can be either a number or a [Size]{@link Size} object.\n     * @param height - The height to set. Defaults to the value of `width` if not provided.\n     */\n    public override setSize(value: number | Optional<Size, 'height'>, height?: number)\n    {\n        if (typeof value === 'object')\n        {\n            height = value.height ?? value.width;\n            value = value.width;\n        }\n        else\n        {\n            height ??= value;\n        }\n\n        value !== undefined && this._setWidth(value, this._texture.orig.width);\n        height !== undefined && this._setHeight(height, this._texture.orig.height);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2753, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2759, "column": 0}, "map": {"version":3,"file":"colorToUniform.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/gpu/colorToUniform.ts"],"sourcesContent":["export function colorToUniform(rgb: number, alpha: number, out: Float32Array, offset: number)\n{\n    // TODO replace with Color..\n    out[offset++] = ((rgb >> 16) & 0xFF) / 255;\n    out[offset++] = ((rgb >> 8) & 0xFF) / 255;\n    out[offset++] = (rgb & 0xFF) / 255;\n    out[offset++] = alpha;\n}\n\nexport function color32BitToUniform(abgr: number, out: Float32Array, offset: number)\n{\n    const alpha = ((abgr >> 24) & 0xFF) / 255;\n\n    out[offset++] = ((abgr & 0xFF) / 255) * alpha;\n    out[offset++] = (((abgr >> 8) & 0xFF) / 255) * alpha;\n    out[offset++] = (((abgr >> 16) & 0xFF) / 255) * alpha;\n    out[offset++] = alpha;\n}\n"],"names":[],"mappings":";;;;;AAAO,SAAS,cAAe,CAAA,GAAA,EAAa,KAAe,EAAA,GAAA,EAAmB,MAC9E,EAAA;IAEI,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,GAAO,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;IACvC,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,GAAO,IAAA,CAAA,GAAK,GAAQ,IAAA,GAAA,CAAA;IAClC,GAAA,CAAA,MAAA,EAAQ,CAAK,GAAA,CAAA,GAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;IAC/B,GAAA,CAAI,QAAQ,CAAI,GAAA,KAAA,CAAA;AACpB,CAAA;AAEgB,SAAA,mBAAA,CAAoB,IAAc,EAAA,GAAA,EAAmB,MACrE,EAAA;IACU,MAAA,KAAA,GAAA,CAAU,IAAQ,IAAA,EAAA,GAAM,GAAQ,IAAA,GAAA,CAAA;IAEtC,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAM,IAAO,GAAA,GAAA,IAAQ,GAAO,GAAA,KAAA,CAAA;IACxC,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAO,IAAQ,IAAA,CAAA,GAAK,GAAA,IAAQ,GAAO,GAAA,KAAA,CAAA;IAC/C,GAAA,CAAI,MAAQ,EAAA,CAAA,GAAA,CAAO,IAAQ,IAAA,EAAA,GAAM,GAAA,IAAQ,GAAO,GAAA,KAAA,CAAA;IAChD,GAAA,CAAI,QAAQ,CAAI,GAAA,KAAA,CAAA;AACpB","ignoreList":[0]}},
    {"offset": {"line": 2779, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2785, "column": 0}, "map": {"version":3,"file":"BatchableGraphics.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/BatchableGraphics.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { multiplyHexColors } from '../../container/utils/multiplyHexColors';\n\nimport type { Batch, Batcher } from '../../../rendering/batcher/shared/Batcher';\nimport type { DefaultBatchableMeshElement } from '../../../rendering/batcher/shared/DefaultBatcher';\nimport type { Topology } from '../../../rendering/renderers/shared/geometry/const';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { Graphics } from './Graphics';\n\nconst identityMatrix = new Matrix();\n/**\n * A batchable graphics object.\n * @ignore\n */\n\nexport class BatchableGraphics implements DefaultBatchableMeshElement\n{\n    public readonly packAsQuad = false;\n    public batcherName = 'default';\n\n    public texture: Texture;\n\n    public topology: Topology = 'triangle-list';\n    public renderable: Graphics;\n    public indexOffset: number;\n    public indexSize: number;\n    public attributeOffset: number;\n    public attributeSize: number;\n    public baseColor: number;\n    public alpha: number;\n    public applyTransform = true;\n    public roundPixels: 0 | 1 = 0;\n\n    public _indexStart: number;\n    public _textureId: number;\n    public _attributeStart: number;\n    public _batcher: Batcher = null;\n    public _batch: Batch = null;\n\n    public geometryData: { vertices: number[]; uvs: number[]; indices: number[]; };\n\n    get uvs()\n    {\n        return this.geometryData.uvs;\n    }\n\n    get positions()\n    {\n        return this.geometryData.vertices;\n    }\n\n    get indices()\n    {\n        return this.geometryData.indices;\n    }\n\n    get blendMode()\n    {\n        if (this.applyTransform)\n        {\n            return this.renderable.groupBlendMode;\n        }\n\n        return 'normal';\n    }\n    get color()\n    {\n        const rgb = this.baseColor;\n        const bgr = (rgb >> 16) | (rgb & 0xff00) | ((rgb & 0xff) << 16);\n        const renderable = this.renderable;\n\n        if (renderable)\n        {\n            return multiplyHexColors(bgr, renderable.groupColor)\n            + ((this.alpha * renderable.groupAlpha * 255) << 24);\n        }\n\n        return bgr + ((this.alpha * 255) << 24);\n    }\n\n    get transform()\n    {\n        return this.renderable?.groupTransform || identityMatrix;\n    }\n\n    public copyTo(gpuBuffer: BatchableGraphics)\n    {\n        gpuBuffer.indexOffset = this.indexOffset;\n        gpuBuffer.indexSize = this.indexSize;\n\n        gpuBuffer.attributeOffset = this.attributeOffset;\n        gpuBuffer.attributeSize = this.attributeSize;\n\n        gpuBuffer.baseColor = this.baseColor;\n        gpuBuffer.alpha = this.alpha;\n\n        gpuBuffer.texture = this.texture;\n        gpuBuffer.geometryData = this.geometryData;\n\n        gpuBuffer.topology = this.topology;\n    }\n\n    public reset()\n    {\n        this.applyTransform = true;\n        this.renderable = null;\n        this.topology = 'triangle-list';\n    }\n}\n"],"names":[],"mappings":";;;;;;;;AASA,MAAM,cAAA,GAAiB,uKAAI,SAAO,EAAA,CAAA;AAM3B,MAAM,iBACb,CAAA;IADO,WAAA,EAAA;QAEH,IAAA,CAAgB,UAAa,GAAA,KAAA,CAAA;QAC7B,IAAA,CAAO,WAAc,GAAA,SAAA,CAAA;QAIrB,IAAA,CAAO,QAAqB,GAAA,eAAA,CAAA;QAQ5B,IAAA,CAAO,cAAiB,GAAA,IAAA,CAAA;QACxB,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;QAK5B,IAAA,CAAO,QAAoB,GAAA,IAAA,CAAA;QAC3B,IAAA,CAAO,MAAgB,GAAA,IAAA,CAAA;IAAA,CAAA;IAIvB,IAAI,GACJ,GAAA;QACI,OAAO,IAAA,CAAK,YAAa,CAAA,GAAA,CAAA;IAAA,CAC7B;IAEA,IAAI,SACJ,GAAA;QACI,OAAO,IAAA,CAAK,YAAa,CAAA,QAAA,CAAA;IAAA,CAC7B;IAEA,IAAI,OACJ,GAAA;QACI,OAAO,IAAA,CAAK,YAAa,CAAA,OAAA,CAAA;IAAA,CAC7B;IAEA,IAAI,SACJ,GAAA;QACI,IAAI,IAAA,CAAK,cACT,EAAA;YACI,OAAO,IAAA,CAAK,UAAW,CAAA,cAAA,CAAA;QAAA,CAC3B;QAEO,OAAA,QAAA,CAAA;IAAA,CACX;IACA,IAAI,KACJ,GAAA;QACI,MAAM,MAAM,IAAK,CAAA,SAAA,CAAA;QACjB,MAAM,MAAO,GAAO,IAAA,EAAA,GAAO,GAAM,GAAA,KAAA,GAAA,CAAY,MAAM,GAAS,KAAA,EAAA,CAAA;QAC5D,MAAM,aAAa,IAAK,CAAA,UAAA,CAAA;QAExB,IAAI,UACJ,EAAA;YACW,qMAAA,oBAAA,EAAkB,KAAK,UAAW,CAAA,UAAU,IAAA,CAC/C,IAAK,CAAA,KAAA,GAAQ,UAAW,CAAA,UAAA,GAAa,GAAQ,IAAA,EAAA,CAAA,CAAA;QAAA,CACrD;QAEO,OAAA,GAAA,GAAA,CAAQ,IAAK,CAAA,KAAA,GAAQ,GAAQ,IAAA,EAAA,CAAA,CAAA;IAAA,CACxC;IAEA,IAAI,SACJ,GAAA;QACW,OAAA,IAAA,CAAK,UAAA,EAAY,cAAkB,IAAA,cAAA,CAAA;IAAA,CAC9C;IAEO,OAAO,SACd,EAAA;QACI,SAAA,CAAU,WAAA,GAAc,IAAK,CAAA,WAAA,CAAA;QAC7B,SAAA,CAAU,SAAA,GAAY,IAAK,CAAA,SAAA,CAAA;QAE3B,SAAA,CAAU,eAAA,GAAkB,IAAK,CAAA,eAAA,CAAA;QACjC,SAAA,CAAU,aAAA,GAAgB,IAAK,CAAA,aAAA,CAAA;QAE/B,SAAA,CAAU,SAAA,GAAY,IAAK,CAAA,SAAA,CAAA;QAC3B,SAAA,CAAU,KAAA,GAAQ,IAAK,CAAA,KAAA,CAAA;QAEvB,SAAA,CAAU,OAAA,GAAU,IAAK,CAAA,OAAA,CAAA;QACzB,SAAA,CAAU,YAAA,GAAe,IAAK,CAAA,YAAA,CAAA;QAE9B,SAAA,CAAU,QAAA,GAAW,IAAK,CAAA,QAAA,CAAA;IAAA,CAC9B;IAEO,KACP,GAAA;QACI,IAAA,CAAK,cAAiB,GAAA,IAAA,CAAA;QACtB,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;QAClB,IAAA,CAAK,QAAW,GAAA,eAAA,CAAA;IAAA,CACpB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 2850, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2856, "column": 0}, "map": {"version":3,"file":"GraphicsPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/GraphicsPipe.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\nimport { State } from '../../../rendering/renderers/shared/state/State';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { color32BitToUniform } from '../gpu/colorToUniform';\nimport { BatchableGraphics } from './BatchableGraphics';\n\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { BatchPipe, RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport type { RenderableGCSystem } from '../../../rendering/renderers/shared/texture/RenderableGCSystem';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { Container } from '../../container/Container';\nimport type { Graphics } from './Graphics';\nimport type { GpuGraphicsContext, GraphicsContextSystem } from './GraphicsContextSystem';\n\nexport interface GraphicsAdaptor\n{\n    shader: Shader;\n    init(): void;\n    execute(graphicsPipe: GraphicsPipe, renderable: Graphics): void;\n    destroy(): void;\n}\nexport interface GraphicsSystem\n{\n    graphicsContext: GraphicsContextSystem;\n    renderableGC: RenderableGCSystem;\n    renderPipes: {\n        batch: BatchPipe\n    }\n    _roundPixels: 0 | 1;\n}\n\nexport class GraphicsPipe implements RenderPipe<Graphics>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'graphics',\n    } as const;\n\n    public renderer: GraphicsSystem;\n    public state: State = State.for2d();\n\n    // batchable graphics list, used to render batches\n    private _graphicsBatchesHash: Record<number, BatchableGraphics[]> = Object.create(null);\n    private _adaptor: GraphicsAdaptor;\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: GraphicsSystem, adaptor: GraphicsAdaptor)\n    {\n        this.renderer = renderer;\n\n        this._adaptor = adaptor;\n        this._adaptor.init();\n\n        this.renderer.renderableGC.addManagedHash(this, '_graphicsBatchesHash');\n    }\n\n    public validateRenderable(graphics: Graphics): boolean\n    {\n        // assume context is dirty..\n\n        const context = graphics.context;\n\n        const wasBatched = !!this._graphicsBatchesHash[graphics.uid];\n\n        const gpuContext = this.renderer.graphicsContext.updateGpuContext(context);\n\n        if (gpuContext.isBatchable || wasBatched !== gpuContext.isBatchable)\n        {\n            // TODO what if they are the same size??\n            return true;\n        }\n\n        return false;\n    }\n\n    public addRenderable(graphics: Graphics, instructionSet: InstructionSet)\n    {\n        const gpuContext = this.renderer.graphicsContext.updateGpuContext(graphics.context);\n\n        // need to get batches here.. as we need to know if we can batch or not..\n        // this also overrides the current batches..\n\n        if (graphics.didViewUpdate)\n        {\n            this._rebuild(graphics);\n        }\n\n        if (gpuContext.isBatchable)\n        {\n            this._addToBatcher(graphics, instructionSet);\n        }\n        else\n        {\n            this.renderer.renderPipes.batch.break(instructionSet);\n            instructionSet.add(graphics);\n        }\n    }\n\n    public updateRenderable(graphics: Graphics)\n    {\n        const batches = this._graphicsBatchesHash[graphics.uid];\n\n        if (batches)\n        {\n            for (let i = 0; i < batches.length; i++)\n            {\n                const batch = batches[i];\n\n                batch._batcher.updateElement(batch);\n            }\n        }\n    }\n\n    public destroyRenderable(graphics: Graphics)\n    {\n        if (this._graphicsBatchesHash[graphics.uid])\n        {\n            this._removeBatchForRenderable(graphics.uid);\n        }\n\n        graphics.off('destroyed', this._destroyRenderableBound);\n    }\n\n    public execute(graphics: Graphics)\n    {\n        if (!graphics.isRenderable) return;\n\n        const renderer = this.renderer;\n        const context = graphics.context;\n        const contextSystem = renderer.graphicsContext;\n\n        // early out if there is no actual visual stuff...\n        if (!contextSystem.getGpuContext(context).batches.length)\n        { return; }\n\n        const shader = context.customShader || this._adaptor.shader;\n\n        this.state.blendMode = graphics.groupBlendMode;\n\n        const localUniforms = shader.resources.localUniforms.uniforms;\n\n        localUniforms.uTransformMatrix = graphics.groupTransform;\n        localUniforms.uRound = renderer._roundPixels | graphics._roundPixels;\n\n        color32BitToUniform(\n            graphics.groupColorAlpha,\n            localUniforms.uColor,\n            0,\n        );\n\n        this._adaptor.execute(this, graphics);\n    }\n\n    private _rebuild(graphics: Graphics)\n    {\n        const wasBatched = !!this._graphicsBatchesHash[graphics.uid];\n\n        const gpuContext = this.renderer.graphicsContext.updateGpuContext(graphics.context);\n\n        // TODO POOL the old batches!\n\n        if (wasBatched)\n        {\n            this._removeBatchForRenderable(graphics.uid);\n        }\n\n        if (gpuContext.isBatchable)\n        {\n            this._initBatchesForRenderable(graphics);\n        }\n\n        graphics.batched = gpuContext.isBatchable;\n    }\n\n    private _addToBatcher(graphics: Graphics, instructionSet: InstructionSet)\n    {\n        const batchPipe = this.renderer.renderPipes.batch;\n\n        const batches = this._getBatchesForRenderable(graphics);\n\n        for (let i = 0; i < batches.length; i++)\n        {\n            const batch = batches[i];\n\n            batchPipe.addToBatch(batch, instructionSet);\n        }\n    }\n\n    private _getBatchesForRenderable(graphics: Graphics): BatchableGraphics[]\n    {\n        return this._graphicsBatchesHash[graphics.uid] || this._initBatchesForRenderable(graphics);\n    }\n\n    private _initBatchesForRenderable(graphics: Graphics): BatchableGraphics[]\n    {\n        const context = graphics.context;\n\n        const gpuContext: GpuGraphicsContext = this.renderer.graphicsContext.getGpuContext(context);\n\n        const roundPixels = (this.renderer._roundPixels | graphics._roundPixels) as 0 | 1;\n\n        const batches = gpuContext.batches.map((batch) =>\n        {\n            const batchClone = BigPool.get(BatchableGraphics);\n\n            batch.copyTo(batchClone);\n\n            batchClone.renderable = graphics;\n\n            batchClone.roundPixels = roundPixels;\n\n            return batchClone;\n        });\n\n        if (this._graphicsBatchesHash[graphics.uid] === undefined)\n        {\n            // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n            graphics.on('destroyed', this._destroyRenderableBound);\n        }\n\n        this._graphicsBatchesHash[graphics.uid] = batches;\n\n        return batches;\n    }\n\n    private _removeBatchForRenderable(graphicsUid: number)\n    {\n        this._graphicsBatchesHash[graphicsUid].forEach((batch) =>\n        {\n            BigPool.return(batch as PoolItem);\n        });\n\n        this._graphicsBatchesHash[graphicsUid] = null;\n    }\n\n    public destroy()\n    {\n        this.renderer = null;\n\n        this._adaptor.destroy();\n        this._adaptor = null;\n        this.state = null;\n\n        for (const i in this._graphicsBatchesHash)\n        {\n            this._removeBatchForRenderable(i as unknown as number);\n        }\n\n        this._graphicsBatchesHash = null;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 2999, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3005, "column": 0}, "map": {"version":3,"file":"buildRectangle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildRectangle.ts"],"sourcesContent":["import { ExtensionType } from '../../../../extensions/Extensions';\n\nimport type { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\n/**\n * Builds a rectangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildRectangle: ShapeBuildCommand<Rectangle> = {\n    extension: {\n        type: ExtensionType.ShapeBuilder,\n        name: 'rectangle',\n    },\n\n    build(shape: Rectangle, points: number[]): number[]\n    {\n        const rectData = shape;\n        const x = rectData.x;\n        const y = rectData.y;\n        const width = rectData.width;\n        const height = rectData.height;\n\n        if (!(width >= 0 && height >= 0))\n        {\n            return points;\n        }\n\n        points[0] = x;\n        points[1] = y;\n        points[2] = x + width;\n        points[3] = y;\n        points[4] = x + width;\n        points[5] = y + height;\n        points[6] = x;\n        points[7] = y + height;\n\n        return points;\n    },\n\n    triangulate(\n        points: number[],\n\n        vertices: number[],\n        verticesStride: number,\n        verticesOffset: number,\n\n        indices: number[],\n        indicesOffset: number\n    )\n    {\n        let count = 0;\n\n        verticesOffset *= verticesStride;\n\n        vertices[verticesOffset + count] = points[0];\n        vertices[verticesOffset + count + 1] = points[1];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[2];\n        vertices[verticesOffset + count + 1] = points[3];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[6];\n        vertices[verticesOffset + count + 1] = points[7];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[4];\n        vertices[verticesOffset + count + 1] = points[5];\n\n        count += verticesStride;\n\n        const verticesIndex = verticesOffset / verticesStride;\n\n        // triangle 1\n        indices[indicesOffset++] = verticesIndex;\n        indices[indicesOffset++] = verticesIndex + 1;\n        indices[indicesOffset++] = verticesIndex + 2;\n\n        // triangle 2\n        indices[indicesOffset++] = verticesIndex + 1;\n        indices[indicesOffset++] = verticesIndex + 3;\n        indices[indicesOffset++] = verticesIndex + 2;\n    },\n};\n"],"names":[],"mappings":";;;;;;AAYO,MAAM,cAA+C,GAAA;IACxD,SAAW,EAAA;QACP,wKAAM,gBAAc,CAAA,YAAA;QACpB,IAAM,EAAA,WAAA;IAAA,CACV;IAEA,KAAA,EAAM,KAAA,EAAkB,MACxB,EAAA;QACI,MAAM,QAAW,GAAA,KAAA,CAAA;QACjB,MAAM,IAAI,QAAS,CAAA,CAAA,CAAA;QACnB,MAAM,IAAI,QAAS,CAAA,CAAA,CAAA;QACnB,MAAM,QAAQ,QAAS,CAAA,KAAA,CAAA;QACvB,MAAM,SAAS,QAAS,CAAA,MAAA,CAAA;QAExB,IAAI,CAAA,CAAE,KAAA,IAAS,CAAK,IAAA,MAAA,IAAU,CAC9B,CAAA,EAAA;YACW,OAAA,MAAA,CAAA;QAAA,CACX;QAEA,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;QACZ,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;QACL,MAAA,CAAA,CAAC,CAAA,GAAI,CAAI,GAAA,KAAA,CAAA;QAChB,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;QACL,MAAA,CAAA,CAAC,CAAA,GAAI,CAAI,GAAA,KAAA,CAAA;QACT,MAAA,CAAA,CAAC,CAAA,GAAI,CAAI,GAAA,MAAA,CAAA;QAChB,MAAA,CAAO,CAAC,CAAI,GAAA,CAAA,CAAA;QACL,MAAA,CAAA,CAAC,CAAA,GAAI,CAAI,GAAA,MAAA,CAAA;QAET,OAAA,MAAA,CAAA;IAAA,CACX;IAEA,aACI,MAEA,EAAA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,OAAA,EACA,aAEJ,EAAA;QACI,IAAI,KAAQ,GAAA,CAAA,CAAA;QAEM,cAAA,IAAA,cAAA,CAAA;QAElB,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC3C,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAEtC,KAAA,IAAA,cAAA,CAAA;QAET,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC3C,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAEtC,KAAA,IAAA,cAAA,CAAA;QAET,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC3C,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAEtC,KAAA,IAAA,cAAA,CAAA;QAET,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC3C,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAEtC,KAAA,IAAA,cAAA,CAAA;QAET,MAAM,gBAAgB,cAAiB,GAAA,cAAA,CAAA;QAGvC,OAAA,CAAQ,eAAe,CAAI,GAAA,aAAA,CAAA;QACnB,OAAA,CAAA,aAAA,EAAe,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;QACnC,OAAA,CAAA,aAAA,EAAe,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;QAGnC,OAAA,CAAA,aAAA,EAAe,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;QACnC,OAAA,CAAA,aAAA,EAAe,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;QACnC,OAAA,CAAA,aAAA,EAAe,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;IAAA,CAC/C;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3061, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3067, "column": 0}, "map": {"version":3,"file":"triangulateWithHoles.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/utils/triangulateWithHoles.ts"],"sourcesContent":["import { default as earcut } from 'earcut';\n\nexport function triangulateWithHoles(\n    points: number[],\n    holes: number[],\n    vertices: number[],\n    verticesStride: number,\n    verticesOffset: number,\n\n    indices: number[],\n    indicesOffset: number\n)\n{\n    const triangles = earcut(points, holes, 2);\n\n    if (!triangles)\n    {\n        return;\n    }\n\n    for (let i = 0; i < triangles.length; i += 3)\n    {\n        indices[indicesOffset++] = (triangles[i] + verticesOffset);\n        indices[indicesOffset++] = (triangles[i + 1] + verticesOffset);\n        indices[indicesOffset++] = (triangles[i + 2] + verticesOffset);\n    }\n\n    let index = verticesOffset * verticesStride;\n\n    for (let i = 0; i < points.length; i += 2)\n    {\n        vertices[index] = points[i];\n        vertices[index + 1] = points[i + 1];\n\n        index += verticesStride;\n    }\n}\n\n"],"names":[],"mappings":";;;;;;AAEO,SAAS,qBACZ,MACA,EAAA,KAAA,EACA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,OAAA,EACA,aAEJ,EAAA;IACI,MAAM,SAAY,kJAAA,UAAA,EAAO,MAAQ,EAAA,KAAA,EAAO,CAAC,CAAA,CAAA;IAEzC,IAAI,CAAC,SACL,EAAA;QACI,OAAA;IAAA,CACJ;IAEA,IAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,SAAU,CAAA,MAAA,EAAQ,KAAK,CAC3C,CAAA;QACI,OAAA,CAAQ,aAAe,EAAA,CAAA,GAAK,SAAU,CAAA,CAAC,CAAI,GAAA,cAAA,CAAA;QAC3C,OAAA,CAAQ,aAAe,EAAA,CAAA,GAAK,SAAU,CAAA,CAAA,GAAI,CAAC,CAAI,GAAA,cAAA,CAAA;QAC/C,OAAA,CAAQ,aAAe,EAAA,CAAA,GAAK,SAAU,CAAA,CAAA,GAAI,CAAC,CAAI,GAAA,cAAA,CAAA;IAAA,CACnD;IAEA,IAAI,QAAQ,cAAiB,GAAA,cAAA,CAAA;IAE7B,IAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAO,CAAA,MAAA,EAAQ,KAAK,CACxC,CAAA;QACa,QAAA,CAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC1B,QAAA,CAAS,KAAQ,GAAA,CAAC,CAAI,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,CAAA;QAEzB,KAAA,IAAA,cAAA,CAAA;IAAA,CACb;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3092, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3098, "column": 0}, "map": {"version":3,"file":"buildPolygon.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildPolygon.ts"],"sourcesContent":["import { ExtensionType } from '../../../../extensions/Extensions';\nimport { triangulateWithHoles } from '../utils/triangulateWithHoles';\n\nimport type { Polygon } from '../../../../maths/shapes/Polygon';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\nconst emptyArray: number[] = [];\n\n/**\n * Builds a rectangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildPolygon: ShapeBuildCommand<Polygon> = {\n    extension: {\n        type: ExtensionType.ShapeBuilder,\n        name: 'polygon',\n    },\n\n    build(shape: Polygon, points: number[]): number[]\n    {\n        for (let i = 0; i < shape.points.length; i++)\n        {\n            points[i] = shape.points[i];\n        }\n\n        return points;\n    },\n\n    triangulate(\n        points: number[],\n        //  holes: number[],\n        vertices: number[],\n        verticesStride: number,\n        verticesOffset: number,\n\n        indices: number[],\n        indicesOffset: number\n    )\n    {\n        triangulateWithHoles(points, emptyArray, vertices, verticesStride, verticesOffset, indices, indicesOffset);\n    },\n\n};\n"],"names":[],"mappings":";;;;;;;;AAMA,MAAM,aAAuB,EAAC,CAAA;AASvB,MAAM,YAA2C,GAAA;IACpD,SAAW,EAAA;QACP,wKAAM,gBAAc,CAAA,YAAA;QACpB,IAAM,EAAA,SAAA;IAAA,CACV;IAEA,KAAA,EAAM,KAAA,EAAgB,MACtB,EAAA;QACI,IAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,KAAM,CAAA,MAAA,CAAO,MAAA,EAAQ,CACzC,EAAA,CAAA;YACI,MAAA,CAAO,CAAC,CAAA,GAAI,KAAM,CAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAAA,CAC9B;QAEO,OAAA,MAAA,CAAA;IAAA,CACX;IAEA,aACI,MAEA,EAAA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,OAAA,EACA,aAEJ,EAAA;kNACI,uBAAA,EAAqB,QAAQ,UAAY,EAAA,QAAA,EAAU,cAAgB,EAAA,cAAA,EAAgB,SAAS,aAAa,CAAA,CAAA;IAAA,CAC7G;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 3124, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3130, "column": 0}, "map": {"version":3,"file":"buildTriangle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildTriangle.ts"],"sourcesContent":["import { ExtensionType } from '../../../../extensions/Extensions';\n\nimport type { Triangle } from '../../../../maths/shapes/Triangle';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\n/**\n * Builds a triangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildTriangle: ShapeBuildCommand<Triangle> = {\n    extension: {\n        type: ExtensionType.ShapeBuilder,\n        name: 'triangle',\n    },\n\n    build(shape: Triangle, points: number[]): number[]\n    {\n        points[0] = shape.x;\n        points[1] = shape.y;\n        points[2] = shape.x2;\n        points[3] = shape.y2;\n        points[4] = shape.x3;\n        points[5] = shape.y3;\n\n        return points;\n    },\n\n    triangulate(\n        points: number[],\n\n        vertices: number[],\n        verticesStride: number,\n        verticesOffset: number,\n\n        indices: number[],\n        indicesOffset: number\n    )\n    {\n        let count = 0;\n\n        verticesOffset *= verticesStride;\n\n        vertices[verticesOffset + count] = points[0];\n        vertices[verticesOffset + count + 1] = points[1];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[2];\n        vertices[verticesOffset + count + 1] = points[3];\n\n        count += verticesStride;\n\n        vertices[verticesOffset + count] = points[4];\n        vertices[verticesOffset + count + 1] = points[5];\n\n        const verticesIndex = verticesOffset / verticesStride;\n\n        // triangle 1\n        indices[indicesOffset++] = verticesIndex;\n        indices[indicesOffset++] = verticesIndex + 1;\n        indices[indicesOffset++] = verticesIndex + 2;\n    },\n};\n"],"names":[],"mappings":";;;;;;AAYO,MAAM,aAA6C,GAAA;IACtD,SAAW,EAAA;QACP,wKAAM,gBAAc,CAAA,YAAA;QACpB,IAAM,EAAA,UAAA;IAAA,CACV;IAEA,KAAA,EAAM,KAAA,EAAiB,MACvB,EAAA;QACW,MAAA,CAAA,CAAC,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;QACX,MAAA,CAAA,CAAC,CAAA,GAAI,KAAM,CAAA,CAAA,CAAA;QACX,MAAA,CAAA,CAAC,CAAA,GAAI,KAAM,CAAA,EAAA,CAAA;QACX,MAAA,CAAA,CAAC,CAAA,GAAI,KAAM,CAAA,EAAA,CAAA;QACX,MAAA,CAAA,CAAC,CAAA,GAAI,KAAM,CAAA,EAAA,CAAA;QACX,MAAA,CAAA,CAAC,CAAA,GAAI,KAAM,CAAA,EAAA,CAAA;QAEX,OAAA,MAAA,CAAA;IAAA,CACX;IAEA,aACI,MAEA,EAAA,QAAA,EACA,cACA,EAAA,cAAA,EAEA,OAAA,EACA,aAEJ,EAAA;QACI,IAAI,KAAQ,GAAA,CAAA,CAAA;QAEM,cAAA,IAAA,cAAA,CAAA;QAElB,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC3C,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAEtC,KAAA,IAAA,cAAA,CAAA;QAET,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC3C,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAEtC,KAAA,IAAA,cAAA,CAAA;QAET,QAAA,CAAS,cAAiB,GAAA,KAAK,CAAI,GAAA,MAAA,CAAO,CAAC,CAAA,CAAA;QAC3C,QAAA,CAAS,cAAiB,GAAA,KAAA,GAAQ,CAAC,CAAA,GAAI,MAAA,CAAO,CAAC,CAAA,CAAA;QAE/C,MAAM,gBAAgB,cAAiB,GAAA,cAAA,CAAA;QAGvC,OAAA,CAAQ,eAAe,CAAI,GAAA,aAAA,CAAA;QACnB,OAAA,CAAA,aAAA,EAAe,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;QACnC,OAAA,CAAA,aAAA,EAAe,CAAA,GAAI,aAAgB,GAAA,CAAA,CAAA;IAAA,CAC/C;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3169, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3175, "column": 0}, "map": {"version":3,"file":"buildCircle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildCircle.ts"],"sourcesContent":["import { ExtensionType } from '../../../../extensions/Extensions';\n\nimport type { Circle } from '../../../../maths/shapes/Circle';\nimport type { Ellipse } from '../../../../maths/shapes/Ellipse';\nimport type { RoundedRectangle } from '../../../../maths/shapes/RoundedRectangle';\nimport type { ShapeBuildCommand } from './ShapeBuildCommand';\n\ntype RoundedShape = Circle | Ellipse | RoundedRectangle;\n\n/**\n * Builds a rectangle to draw\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n */\nexport const buildCircle: ShapeBuildCommand<RoundedShape> = {\n    extension: {\n        type: ExtensionType.ShapeBuilder,\n        name: 'circle',\n    },\n\n    build(shape: RoundedShape, points: number[])\n    {\n        let x;\n        let y;\n        let dx;\n        let dy;\n\n        let rx;\n        let ry;\n\n        if (shape.type === 'circle')\n        {\n            const circle = shape as Circle;\n\n            x = circle.x;\n            y = circle.y;\n            rx = ry = circle.radius;\n            dx = dy = 0;\n        }\n\n        else if (shape.type === 'ellipse')\n        {\n            const ellipse = shape as Ellipse;\n\n            x = ellipse.x;\n            y = ellipse.y;\n            rx = ellipse.halfWidth;\n            ry = ellipse.halfHeight;\n            dx = dy = 0;\n        }\n        else\n        {\n            const roundedRect = shape as RoundedRectangle;\n            const halfWidth = roundedRect.width / 2;\n            const halfHeight = roundedRect.height / 2;\n\n            x = roundedRect.x + halfWidth;\n            y = roundedRect.y + halfHeight;\n            rx = ry = Math.max(0, Math.min(roundedRect.radius, Math.min(halfWidth, halfHeight)));\n            dx = halfWidth - rx;\n            dy = halfHeight - ry;\n        }\n\n        if (!(rx >= 0 && ry >= 0 && dx >= 0 && dy >= 0))\n        {\n            return points;\n        }\n\n        // Choose a number of segments such that the maximum absolute deviation from the circle is approximately 0.029\n        const n = Math.ceil(2.3 * Math.sqrt(rx + ry));\n        const m = (n * 8) + (dx ? 4 : 0) + (dy ? 4 : 0);\n\n        if (m === 0)\n        {\n            return points;\n        }\n\n        if (n === 0)\n        {\n            points[0] = points[6] = x + dx;\n            points[1] = points[3] = y + dy;\n            points[2] = points[4] = x - dx;\n            points[5] = points[7] = y - dy;\n\n            return points;\n        }\n\n        let j1 = 0;\n        let j2 = (n * 4) + (dx ? 2 : 0) + 2;\n        let j3 = j2;\n        let j4 = m;\n\n        let x0 = dx + rx;\n        let y0 = dy;\n        let x1 = x + x0;\n        let x2 = x - x0;\n        let y1 = y + y0;\n\n        points[j1++] = x1;\n        points[j1++] = y1;\n        points[--j2] = y1;\n        points[--j2] = x2;\n\n        if (dy)\n        {\n            const y2 = y - y0;\n\n            points[j3++] = x2;\n            points[j3++] = y2;\n            points[--j4] = y2;\n            points[--j4] = x1;\n        }\n\n        for (let i = 1; i < n; i++)\n        {\n            const a = Math.PI / 2 * (i / n);\n            const x0 = dx + (Math.cos(a) * rx);\n            const y0 = dy + (Math.sin(a) * ry);\n            const x1 = x + x0;\n            const x2 = x - x0;\n            const y1 = y + y0;\n            const y2 = y - y0;\n\n            points[j1++] = x1;\n            points[j1++] = y1;\n            points[--j2] = y1;\n            points[--j2] = x2;\n            points[j3++] = x2;\n            points[j3++] = y2;\n            points[--j4] = y2;\n            points[--j4] = x1;\n        }\n\n        x0 = dx;\n        y0 = dy + ry;\n        x1 = x + x0;\n        x2 = x - x0;\n        y1 = y + y0;\n        const y2 = y - y0;\n\n        points[j1++] = x1;\n        points[j1++] = y1;\n        points[--j4] = y2;\n        points[--j4] = x1;\n\n        if (dx)\n        {\n            points[j1++] = x2;\n            points[j1++] = y1;\n            points[--j4] = y2;\n            points[--j4] = x2;\n        }\n\n        return points;\n    },\n\n    triangulate(points, vertices, verticesStride, verticesOffset, indices, indicesOffset)\n    {\n        if (points.length === 0)\n        {\n            return;\n        }\n\n        // Compute center (average of all points)\n        let centerX = 0; let\n            centerY = 0;\n\n        for (let i = 0; i < points.length; i += 2)\n        {\n            centerX += points[i];\n            centerY += points[i + 1];\n        }\n        centerX /= (points.length / 2);\n        centerY /= (points.length / 2);\n\n        // Set center vertex\n        let count = verticesOffset;\n\n        vertices[count * verticesStride] = centerX;\n        vertices[(count * verticesStride) + 1] = centerY;\n        const centerIndex = count++;\n\n        // Set edge vertices and indices\n        for (let i = 0; i < points.length; i += 2)\n        {\n            vertices[count * verticesStride] = points[i];\n            vertices[(count * verticesStride) + 1] = points[i + 1];\n\n            if (i > 0)\n            { // Skip first point for indices\n                indices[indicesOffset++] = count;\n                indices[indicesOffset++] = centerIndex;\n                indices[indicesOffset++] = count - 1;\n            }\n            count++;\n        }\n\n        // Connect last point to the first edge point\n        indices[indicesOffset++] = centerIndex + 1;\n        indices[indicesOffset++] = centerIndex;\n        indices[indicesOffset++] = count - 1;\n    }\n\n};\n\nexport const buildEllipse = { ...buildCircle, extension: { ...buildCircle.extension, name: 'ellipse' } };\nexport const buildRoundedRectangle = { ...buildCircle, extension: { ...buildCircle.extension, name: 'roundedRectangle' } };\n"],"names":["y2","x0","y0","x1","x2","y1"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3335, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3341, "column": 0}, "map": {"version":3,"file":"const.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/const.ts"],"sourcesContent":["export type LineCap = 'butt' | 'round' | 'square';\nexport type LineJoin = 'round' | 'bevel' | 'miter';\n\nexport const closePointEps = 1e-4;\nexport const curveEps = 0.0001;\n"],"names":[],"mappings":";;;;;AAGO,MAAM,aAAgB,GAAA,KAAA;AACtB,MAAM,QAAW,GAAA","ignoreList":[0]}},
    {"offset": {"line": 3350, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3356, "column": 0}, "map": {"version":3,"file":"buildPixelLine.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildPixelLine.ts"],"sourcesContent":["import { closePointEps } from '../const';\n\n/**\n * Builds a line to draw using the polygon method.\n * @param points\n * @param closed\n * @param vertices\n * @param indices\n */\nexport function buildPixelLine(\n    points: number[],\n    closed: boolean,\n    vertices: number[],\n    indices: number[],\n): void\n{\n    const eps = closePointEps;\n\n    if (points.length === 0)\n    {\n        return;\n    }\n\n    // get first and last point.. figure out the middle!\n\n    const fx = points[0];\n    const fy = points[1];\n\n    const lx = points[points.length - 2];\n\n    const ly = points[points.length - 1];\n\n    const closePath = closed || (Math.abs(fx - lx) < eps && Math.abs(fy - ly) < eps);\n\n    const verts = vertices;\n\n    const length = points.length / 2;\n    const indexStart = verts.length / 2;\n\n    for (let i = 0; i < length; i++)\n    {\n        verts.push(points[(i * 2)]);\n        verts.push(points[(i * 2) + 1]);\n    }\n\n    for (let i = 0; i < length - 1; i++)\n    {\n        indices.push(indexStart + i, indexStart + i + 1);\n    }\n\n    if (closePath)\n    {\n        indices.push(indexStart + length - 1, indexStart);\n    }\n}\n\n"],"names":[],"mappings":";;;;;;AASO,SAAS,cACZ,CAAA,MAAA,EACA,MACA,EAAA,QAAA,EACA,OAEJ,EAAA;IACI,MAAM,GAAM,iLAAA,gBAAA,CAAA;IAER,IAAA,MAAA,CAAO,MAAA,KAAW,CACtB,EAAA;QACI,OAAA;IAAA,CACJ;IAIM,MAAA,EAAA,GAAK,MAAA,CAAO,CAAC,CAAA,CAAA;IACb,MAAA,EAAA,GAAK,MAAA,CAAO,CAAC,CAAA,CAAA;IAEnB,MAAM,EAAK,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;IAEnC,MAAM,EAAK,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;IAEnC,MAAM,SAAY,GAAA,MAAA,IAAW,IAAK,CAAA,GAAA,CAAI,EAAK,GAAA,EAAE,CAAI,GAAA,GAAA,IAAO,IAAK,CAAA,GAAA,CAAI,EAAK,GAAA,EAAE,CAAI,GAAA,GAAA,CAAA;IAE5E,MAAM,KAAQ,GAAA,QAAA,CAAA;IAER,MAAA,MAAA,GAAS,OAAO,MAAS,GAAA,CAAA,CAAA;IACzB,MAAA,UAAA,GAAa,MAAM,MAAS,GAAA,CAAA,CAAA;IAElC,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,EAAQ,CAC5B,EAAA,CAAA;QACI,KAAA,CAAM,IAAK,CAAA,MAAA,CAAQ,CAAI,GAAA,CAAE,CAAC,CAAA,CAAA;QAC1B,KAAA,CAAM,IAAK,CAAA,MAAA,CAAQ,CAAI,GAAA,CAAA,GAAK,CAAC,CAAC,CAAA,CAAA;IAAA,CAClC;IAEA,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,MAAA,GAAS,GAAG,CAChC,EAAA,CAAA;QACI,OAAA,CAAQ,IAAK,CAAA,UAAA,GAAa,CAAG,EAAA,UAAA,GAAa,IAAI,CAAC,CAAA,CAAA;IAAA,CACnD;IAEA,IAAI,SACJ,EAAA;QACI,OAAA,CAAQ,IAAK,CAAA,UAAA,GAAa,MAAS,GAAA,CAAA,EAAG,UAAU,CAAA,CAAA;IAAA,CACpD;AACJ","ignoreList":[0]}},
    {"offset": {"line": 3388, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3394, "column": 0}, "map": {"version":3,"file":"getOrientationOfPoints.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/utils/getOrientationOfPoints.ts"],"sourcesContent":["export function getOrientationOfPoints(points: number[]): number\n{\n    const m = points.length;\n\n    if (m < 6)\n    {\n        return 1;\n    }\n\n    let area = 0;\n\n    for (let i = 0, x1 = points[m - 2], y1 = points[m - 1]; i < m; i += 2)\n    {\n        const x2 = points[i];\n        const y2 = points[i + 1];\n\n        area += (x2 - x1) * (y2 + y1);\n\n        x1 = x2;\n        y1 = y2;\n    }\n\n    if (area < 0)\n    {\n        return -1;\n    }\n\n    return 1;\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS,uBAAuB,MACvC,EAAA;IACI,MAAM,IAAI,MAAO,CAAA,MAAA,CAAA;IAEjB,IAAI,IAAI,CACR,EAAA;QACW,OAAA,CAAA,CAAA;IAAA,CACX;IAEA,IAAI,IAAO,GAAA,CAAA,CAAA;IAEX,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,EAAK,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,EAAG,EAAK,GAAA,MAAA,CAAO,IAAI,CAAC,CAAA,EAAG,CAAI,GAAA,CAAA,EAAG,KAAK,CACpE,CAAA;QACU,MAAA,EAAA,GAAK,MAAA,CAAO,CAAC,CAAA,CAAA;QACb,MAAA,EAAA,GAAK,MAAO,CAAA,CAAA,GAAI,CAAC,CAAA,CAAA;QAEd,IAAA,IAAA,CAAA,EAAA,GAAK,EAAA,IAAA,CAAO,EAAK,GAAA,EAAA,CAAA,CAAA;QAErB,EAAA,GAAA,EAAA,CAAA;QACA,EAAA,GAAA,EAAA,CAAA;IAAA,CACT;IAEA,IAAI,OAAO,CACX,EAAA;QACW,OAAA,CAAA,CAAA,CAAA;IAAA,CACX;IAEO,OAAA,CAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 3418, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3424, "column": 0}, "map": {"version":3,"file":"buildLine.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildLine.ts"],"sourcesContent":["import { Point } from '../../../../maths/point/Point';\nimport { closePointEps, curveEps } from '../const';\nimport { getOrientationOfPoints } from '../utils/getOrientationOfPoints';\n\nimport type { StrokeAttributes } from '../FillTypes';\n\n/**\n * Buffers vertices to draw a square cap.\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n * @param {number} x - X-coord of end point\n * @param {number} y - Y-coord of end point\n * @param {number} nx - X-coord of line normal pointing inside\n * @param {number} ny - Y-coord of line normal pointing inside\n * @param {number} innerWeight - Weight of inner points\n * @param {number} outerWeight - Weight of outer points\n * @param {boolean} clockwise - Whether the cap is drawn clockwise\n * @param {Array<number>} verts - vertex buffer\n * @returns {number} - no. of vertices pushed\n */\nfunction square(\n    x: number,\n    y: number,\n    nx: number,\n    ny: number,\n    innerWeight: number,\n    outerWeight: number,\n    clockwise: boolean, /* rotation for square (true at left end, false at right end) */\n    verts: Array<number>\n): number\n{\n    const ix = x - (nx * innerWeight);\n    const iy = y - (ny * innerWeight);\n    const ox = x + (nx * outerWeight);\n    const oy = y + (ny * outerWeight);\n\n    /* Rotate nx,ny for extension vector */\n    let exx; let\n        eyy;\n\n    if (clockwise)\n    {\n        exx = ny;\n        eyy = -nx;\n    }\n    else\n    {\n        exx = -ny;\n        eyy = nx;\n    }\n\n    /* [i|0]x,y extended at cap */\n    const eix = ix + exx;\n    const eiy = iy + eyy;\n    const eox = ox + exx;\n    const eoy = oy + eyy;\n\n    /* Square itself must be inserted clockwise*/\n    verts.push(eix, eiy);\n    verts.push(eox, eoy);\n\n    return 2;\n}\n\n/**\n * Buffers vertices to draw an arc at the line joint or cap.\n *\n * Ignored from docs since it is not directly exposed.\n * @ignore\n * @private\n * @param {number} cx - X-coord of center\n * @param {number} cy - Y-coord of center\n * @param {number} sx - X-coord of arc start\n * @param {number} sy - Y-coord of arc start\n * @param {number} ex - X-coord of arc end\n * @param {number} ey - Y-coord of arc end\n * @param {Array[]} verts - buffer of vertices\n * @param {boolean} clockwise - orientation of vertices\n * @returns {number} - no. of vertices pushed\n */\nfunction round(\n    cx: number,\n    cy: number,\n    sx: number,\n    sy: number,\n    ex: number,\n    ey: number,\n    verts: number[],\n    clockwise: boolean, /* if not cap, then clockwise is turn of joint, otherwise rotation from angle0 to angle1 */\n): number\n{\n    const cx2p0x = sx - cx;\n    const cy2p0y = sy - cy;\n\n    let angle0 = Math.atan2(cx2p0x, cy2p0y);\n    let angle1 = Math.atan2(ex - cx, ey - cy);\n\n    if (clockwise && angle0 < angle1)\n    {\n        angle0 += Math.PI * 2;\n    }\n    else if (!clockwise && angle0 > angle1)\n    {\n        angle1 += Math.PI * 2;\n    }\n\n    let startAngle = angle0;\n    const angleDiff = angle1 - angle0;\n    const absAngleDiff = Math.abs(angleDiff);\n\n    const radius = Math.sqrt((cx2p0x * cx2p0x) + (cy2p0y * cy2p0y));\n    const segCount = ((15 * absAngleDiff * Math.sqrt(radius) / Math.PI) >> 0) + 1;\n    const angleInc = angleDiff / segCount;\n\n    startAngle += angleInc;\n\n    if (clockwise)\n    {\n        verts.push(cx, cy);\n        verts.push(sx, sy);\n\n        for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc)\n        {\n            verts.push(cx, cy);\n            verts.push(cx + ((Math.sin(angle) * radius)),\n                cy + ((Math.cos(angle) * radius)));\n        }\n\n        verts.push(cx, cy);\n        verts.push(ex, ey);\n    }\n    else\n    {\n        verts.push(sx, sy);\n        verts.push(cx, cy);\n\n        for (let i = 1, angle = startAngle; i < segCount; i++, angle += angleInc)\n        {\n            verts.push(cx + ((Math.sin(angle) * radius)),\n                cy + ((Math.cos(angle) * radius)));\n            verts.push(cx, cy);\n        }\n\n        verts.push(ex, ey);\n        verts.push(cx, cy);\n    }\n\n    return segCount * 2;\n}\n\n/**\n * Builds a line to draw using the polygon method.\n * @param points\n * @param lineStyle\n * @param flipAlignment\n * @param closed\n * @param vertices\n * @param indices\n */\nexport function buildLine(\n    points: number[],\n    lineStyle: StrokeAttributes,\n    flipAlignment: boolean,\n    closed: boolean,\n    vertices: number[],\n    indices: number[],\n): void\n{\n    // const shape = graphicsData.shape as Polygon;\n    //   let points = graphicsData.points || shape.points.slice();\n    const eps = closePointEps;\n\n    if (points.length === 0)\n    {\n        return;\n    }\n\n    const style = lineStyle;\n\n    let alignment = style.alignment;\n\n    if (lineStyle.alignment !== 0.5)\n    {\n        // rotate the points!\n        let orientation = getOrientationOfPoints(points);\n\n        if (flipAlignment)orientation *= -1;\n\n        alignment = ((alignment - 0.5) * orientation) + 0.5;\n    }\n\n    // get first and last point.. figure out the middle!\n    const firstPoint = new Point(points[0], points[1]);\n    const lastPoint = new Point(points[points.length - 2], points[points.length - 1]);\n    const closedShape = closed;\n    const closedPath = Math.abs(firstPoint.x - lastPoint.x) < eps\n        && Math.abs(firstPoint.y - lastPoint.y) < eps;\n\n    // if the first point is the last point - gonna have issues :)\n    if (closedShape)\n    {\n        // need to clone as we are going to slightly modify the shape..\n        points = points.slice();\n\n        if (closedPath)\n        {\n            points.pop();\n            points.pop();\n            lastPoint.set(points[points.length - 2], points[points.length - 1]);\n        }\n\n        const midPointX = (firstPoint.x + lastPoint.x) * 0.5;\n        const midPointY = (lastPoint.y + firstPoint.y) * 0.5;\n\n        points.unshift(midPointX, midPointY);\n        points.push(midPointX, midPointY);\n    }\n\n    const verts = vertices;\n\n    const length = points.length / 2;\n    let indexCount = points.length;\n    const indexStart = verts.length / 2;\n\n    // Max. inner and outer width\n    const width = style.width / 2;\n    const widthSquared = width * width;\n    const miterLimitSquared = style.miterLimit * style.miterLimit;\n\n    /* Line segments of interest where (x1,y1) forms the corner. */\n    let x0 = points[0];\n    let y0 = points[1];\n    let x1 = points[2];\n    let y1 = points[3];\n    let x2 = 0;\n    let y2 = 0;\n\n    /* perp[?](x|y) = the line normal with magnitude lineWidth. */\n    let perpX = -(y0 - y1);\n    let perpY = x0 - x1;\n    let perp1x = 0;\n    let perp1y = 0;\n\n    let dist = Math.sqrt((perpX * perpX) + (perpY * perpY));\n\n    perpX /= dist;\n    perpY /= dist;\n    perpX *= width;\n    perpY *= width;\n\n    const ratio = alignment;// 0.5;\n    const innerWeight = (1 - ratio) * 2;\n    const outerWeight = ratio * 2;\n\n    if (!closedShape)\n    {\n        if (style.cap === 'round')\n        {\n            indexCount += round(\n                x0 - (perpX * (innerWeight - outerWeight) * 0.5),\n                y0 - (perpY * (innerWeight - outerWeight) * 0.5),\n                x0 - (perpX * innerWeight),\n                y0 - (perpY * innerWeight),\n                x0 + (perpX * outerWeight),\n                y0 + (perpY * outerWeight),\n                verts,\n                true,\n            ) + 2;\n        }\n        else if (style.cap === 'square')\n        {\n            indexCount += square(x0, y0, perpX, perpY, innerWeight, outerWeight, true, verts);\n        }\n    }\n\n    // Push first point (below & above vertices)\n    verts.push(\n        x0 - (perpX * innerWeight),\n        y0 - (perpY * innerWeight));\n    verts.push(\n        x0 + (perpX * outerWeight),\n        y0 + (perpY * outerWeight));\n\n    for (let i = 1; i < length - 1; ++i)\n    {\n        x0 = points[(i - 1) * 2];\n        y0 = points[((i - 1) * 2) + 1];\n\n        x1 = points[i * 2];\n        y1 = points[(i * 2) + 1];\n\n        x2 = points[(i + 1) * 2];\n        y2 = points[((i + 1) * 2) + 1];\n\n        perpX = -(y0 - y1);\n        perpY = x0 - x1;\n\n        dist = Math.sqrt((perpX * perpX) + (perpY * perpY));\n        perpX /= dist;\n        perpY /= dist;\n        perpX *= width;\n        perpY *= width;\n\n        perp1x = -(y1 - y2);\n        perp1y = x1 - x2;\n\n        dist = Math.sqrt((perp1x * perp1x) + (perp1y * perp1y));\n        perp1x /= dist;\n        perp1y /= dist;\n        perp1x *= width;\n        perp1y *= width;\n\n        /* d[x|y](0|1) = the component displacement between points p(0,1|1,2) */\n        const dx0 = x1 - x0;\n        const dy0 = y0 - y1;\n        const dx1 = x1 - x2;\n        const dy1 = y2 - y1;\n\n        /* +ve if internal angle < 90 degree, -ve if internal angle > 90 degree. */\n        const dot = (dx0 * dx1) + (dy0 * dy1);\n        /* +ve if internal angle counterclockwise, -ve if internal angle clockwise. */\n        const cross = (dy0 * dx1) - (dy1 * dx0);\n        const clockwise = (cross < 0);\n\n        /* Going nearly parallel? */\n        /* atan(0.001) ~= 0.001 rad ~= 0.057 degree */\n        if (Math.abs(cross) < 0.001 * Math.abs(dot))\n        {\n            verts.push(\n                x1 - (perpX * innerWeight),\n                y1 - (perpY * innerWeight));\n            verts.push(\n                x1 + (perpX * outerWeight),\n                y1 + (perpY * outerWeight));\n\n            /* 180 degree corner? */\n            if (dot >= 0)\n            {\n                if (style.join === 'round')\n                {\n                    indexCount += round(\n                        x1, y1,\n                        x1 - (perpX * innerWeight), y1 - (perpY * innerWeight),\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\n                        verts, false) + 4;\n                }\n                else\n                {\n                    indexCount += 2;\n                }\n\n                verts.push(\n                    x1 - (perp1x * outerWeight),\n                    y1 - (perp1y * outerWeight));\n                verts.push(\n                    x1 + (perp1x * innerWeight),\n                    y1 + (perp1y * innerWeight));\n            }\n\n            continue;\n        }\n\n        /* p[x|y] is the miter point. pDist is the distance between miter point and p1. */\n        const c1 = ((-perpX + x0) * (-perpY + y1)) - ((-perpX + x1) * (-perpY + y0));\n        const c2 = ((-perp1x + x2) * (-perp1y + y1)) - ((-perp1x + x1) * (-perp1y + y2));\n        const px = ((dx0 * c2) - (dx1 * c1)) / cross;\n        const py = ((dy1 * c1) - (dy0 * c2)) / cross;\n        const pDist = ((px - x1) * (px - x1)) + ((py - y1) * (py - y1));\n\n        /* Inner miter point */\n        const imx = x1 + ((px - x1) * innerWeight);\n        const imy = y1 + ((py - y1) * innerWeight);\n        /* Outer miter point */\n        const omx = x1 - ((px - x1) * outerWeight);\n        const omy = y1 - ((py - y1) * outerWeight);\n\n        /* Is the inside miter point too far away, creating a spike? */\n        const smallerInsideSegmentSq = Math.min((dx0 * dx0) + (dy0 * dy0), (dx1 * dx1) + (dy1 * dy1));\n        const insideWeight = clockwise ? innerWeight : outerWeight;\n        const smallerInsideDiagonalSq = smallerInsideSegmentSq + (insideWeight * insideWeight * widthSquared);\n        const insideMiterOk = pDist <= smallerInsideDiagonalSq;\n\n        if (insideMiterOk)\n        {\n            if (style.join === 'bevel' || pDist / widthSquared > miterLimitSquared)\n            {\n                if (clockwise) /* rotating at inner angle */\n                {\n                    verts.push(imx, imy); // inner miter point\n                    verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight)); // first segment's outer vertex\n                    verts.push(imx, imy); // inner miter point\n                    verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight)); // second segment's outer vertex\n                }\n                else /* rotating at outer angle */\n                {\n                    verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight)); // first segment's inner vertex\n                    verts.push(omx, omy); // outer miter point\n                    verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight)); // second segment's outer vertex\n                    verts.push(omx, omy); // outer miter point\n                }\n\n                indexCount += 2;\n            }\n            else if (style.join === 'round')\n            {\n                if (clockwise) /* arc is outside */\n                {\n                    verts.push(imx, imy);\n                    verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight));\n\n                    indexCount += round(\n                        x1, y1,\n                        x1 + (perpX * outerWeight), y1 + (perpY * outerWeight),\n                        x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight),\n                        verts, true\n                    ) + 4;\n\n                    verts.push(imx, imy);\n                    verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight));\n                }\n                else /* arc is inside */\n                {\n                    verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight));\n                    verts.push(omx, omy);\n\n                    indexCount += round(\n                        x1, y1,\n                        x1 - (perpX * innerWeight), y1 - (perpY * innerWeight),\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\n                        verts, false\n                    ) + 4;\n\n                    verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight));\n                    verts.push(omx, omy);\n                }\n            }\n            else\n            {\n                verts.push(imx, imy);\n                verts.push(omx, omy);\n            }\n        }\n        else // inside miter is NOT ok\n        {\n            verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight)); // first segment's inner vertex\n            verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight)); // first segment's outer vertex\n            if (style.join === 'round')\n            {\n                if (clockwise) /* arc is outside */\n                {\n                    indexCount += round(\n                        x1, y1,\n                        x1 + (perpX * outerWeight), y1 + (perpY * outerWeight),\n                        x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight),\n                        verts, true\n                    ) + 2;\n                }\n                else /* arc is inside */\n                {\n                    indexCount += round(\n                        x1, y1,\n                        x1 - (perpX * innerWeight), y1 - (perpY * innerWeight),\n                        x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight),\n                        verts, false\n                    ) + 2;\n                }\n            }\n            else if (style.join === 'miter' && pDist / widthSquared <= miterLimitSquared)\n            {\n                if (clockwise)\n                {\n                    verts.push(omx, omy); // inner miter point\n                    verts.push(omx, omy); // inner miter point\n                }\n                else\n                {\n                    verts.push(imx, imy); // outer miter point\n                    verts.push(imx, imy); // outer miter point\n                }\n                indexCount += 2;\n            }\n            verts.push(x1 - (perp1x * innerWeight), y1 - (perp1y * innerWeight)); // second segment's inner vertex\n            verts.push(x1 + (perp1x * outerWeight), y1 + (perp1y * outerWeight)); // second segment's outer vertex\n            indexCount += 2;\n        }\n    }\n\n    x0 = points[(length - 2) * 2];\n    y0 = points[((length - 2) * 2) + 1];\n\n    x1 = points[(length - 1) * 2];\n    y1 = points[((length - 1) * 2) + 1];\n\n    perpX = -(y0 - y1);\n    perpY = x0 - x1;\n\n    dist = Math.sqrt((perpX * perpX) + (perpY * perpY));\n    perpX /= dist;\n    perpY /= dist;\n    perpX *= width;\n    perpY *= width;\n\n    verts.push(x1 - (perpX * innerWeight), y1 - (perpY * innerWeight));\n    verts.push(x1 + (perpX * outerWeight), y1 + (perpY * outerWeight));\n\n    if (!closedShape)\n    {\n        if (style.cap === 'round')\n        {\n            indexCount += round(\n                x1 - (perpX * (innerWeight - outerWeight) * 0.5),\n                y1 - (perpY * (innerWeight - outerWeight) * 0.5),\n                x1 - (perpX * innerWeight),\n                y1 - (perpY * innerWeight),\n                x1 + (perpX * outerWeight),\n                y1 + (perpY * outerWeight),\n                verts,\n                false\n            ) + 2;\n        }\n        else if (style.cap === 'square')\n        {\n            indexCount += square(x1, y1, perpX, perpY, innerWeight, outerWeight, false, verts);\n        }\n    }\n\n    // const indices = graphicsGeometry.indices;\n    const eps2 = curveEps * curveEps;\n\n    // indices.push(indexStart);\n    for (let i = indexStart; i < indexCount + indexStart - 2; ++i)\n    {\n        x0 = verts[(i * 2)];\n        y0 = verts[(i * 2) + 1];\n\n        x1 = verts[(i + 1) * 2];\n        y1 = verts[((i + 1) * 2) + 1];\n\n        x2 = verts[(i + 2) * 2];\n        y2 = verts[((i + 2) * 2) + 1];\n\n        /* Skip zero area triangles */\n        if (Math.abs((x0 * (y1 - y2)) + (x1 * (y2 - y0)) + (x2 * (y0 - y1))) < eps2)\n        {\n            continue;\n        }\n\n        indices.push(i, i + 1, i + 2);\n    }\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3703, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3709, "column": 0}, "map": {"version":3,"file":"buildContextBatches.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/utils/buildContextBatches.ts"],"sourcesContent":["import { extensions, ExtensionType } from '../../../../extensions/Extensions';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { buildSimpleUvs, buildUvs } from '../../../../rendering/renderers/shared/geometry/utils/buildUvs';\nimport { transformVertices } from '../../../../rendering/renderers/shared/geometry/utils/transformVertices';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { BigPool } from '../../../../utils/pool/PoolGroup';\nimport { BatchableGraphics } from '../BatchableGraphics';\nimport { buildCircle, buildEllipse, buildRoundedRectangle } from '../buildCommands/buildCircle';\nimport { buildLine } from '../buildCommands/buildLine';\nimport { buildPixelLine } from '../buildCommands/buildPixelLine';\nimport { buildPolygon } from '../buildCommands/buildPolygon';\nimport { buildRectangle } from '../buildCommands/buildRectangle';\nimport { buildTriangle } from '../buildCommands/buildTriangle';\nimport { triangulateWithHoles } from './triangulateWithHoles';\n\nimport type { Polygon } from '../../../../maths/shapes/Polygon';\nimport type { Topology } from '../../../../rendering/renderers/shared/geometry/const';\nimport type { ShapeBuildCommand } from '../buildCommands/ShapeBuildCommand';\nimport type { ConvertedFillStyle, ConvertedStrokeStyle } from '../FillTypes';\nimport type { GraphicsContext, TextureInstruction } from '../GraphicsContext';\nimport type { GpuGraphicsContext } from '../GraphicsContextSystem';\nimport type { GraphicsPath } from '../path/GraphicsPath';\nimport type { ShapePath } from '../path/ShapePath';\n\nexport const shapeBuilders: Record<string, ShapeBuildCommand> = {};\n\nextensions.handleByMap(ExtensionType.ShapeBuilder, shapeBuilders);\nextensions.add(buildRectangle, buildPolygon, buildTriangle, buildCircle, buildEllipse, buildRoundedRectangle);\n\nconst tempRect = new Rectangle();\n\nexport function buildContextBatches(context: GraphicsContext, gpuContext: GpuGraphicsContext)\n{\n    const { geometryData, batches } = gpuContext;\n\n    // reset them..\n    batches.length = 0;\n    geometryData.indices.length = 0;\n    geometryData.vertices.length = 0;\n    geometryData.uvs.length = 0;\n\n    for (let i = 0; i < context.instructions.length; i++)\n    {\n        const instruction = context.instructions[i];\n\n        if (instruction.action === 'texture')\n        {\n            // add a quad!\n            addTextureToGeometryData(instruction.data, batches, geometryData);\n        }\n        else if (instruction.action === 'fill' || instruction.action === 'stroke')\n        {\n            const isStroke = instruction.action === 'stroke';\n\n            // build path collection of polys and shapes points..\n            const shapePath = instruction.data.path.shapePath;\n\n            const style = instruction.data.style;\n\n            const hole = instruction.data.hole;\n\n            if (isStroke && hole)\n            {\n                addShapePathToGeometryData(hole.shapePath, style, null, true, batches, geometryData);\n            }\n\n            addShapePathToGeometryData(shapePath, style, hole, isStroke, batches, geometryData);\n        }\n    }\n}\n\nfunction addTextureToGeometryData(\n    data: TextureInstruction['data'],\n    batches: BatchableGraphics[],\n    geometryData: {\n        vertices: number[];\n        uvs: number[];\n        indices: number[];\n    }\n)\n{\n    const { vertices, uvs, indices } = geometryData;\n\n    const indexOffset = indices.length;\n    const vertOffset = vertices.length / 2;\n\n    const points: number[] = [];\n\n    const build = shapeBuilders.rectangle;\n\n    const rect = tempRect;\n\n    const texture = data.image;\n\n    rect.x = data.dx;\n    rect.y = data.dy;\n    rect.width = data.dw;\n    rect.height = data.dh;\n\n    const matrix = data.transform;\n\n    // TODO - this can be cached...\n    build.build(rect, points);\n\n    if (matrix)\n    {\n        transformVertices(points, matrix);\n    }\n\n    build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n\n    const textureUvs = texture.uvs;\n\n    uvs.push(\n        textureUvs.x0, textureUvs.y0,\n        textureUvs.x1, textureUvs.y1,\n        textureUvs.x3, textureUvs.y3,\n        textureUvs.x2, textureUvs.y2,\n    );\n\n    const graphicsBatch = BigPool.get(BatchableGraphics);\n\n    graphicsBatch.indexOffset = indexOffset;\n    graphicsBatch.indexSize = indices.length - indexOffset;\n\n    graphicsBatch.attributeOffset = vertOffset;\n    graphicsBatch.attributeSize = (vertices.length / 2) - vertOffset;\n\n    graphicsBatch.baseColor = data.style;\n    graphicsBatch.alpha = data.alpha;\n\n    graphicsBatch.texture = texture;\n    graphicsBatch.geometryData = geometryData;\n\n    batches.push(graphicsBatch);\n}\n\nfunction addShapePathToGeometryData(\n    shapePath: ShapePath,\n    style: ConvertedFillStyle | ConvertedStrokeStyle,\n    hole: GraphicsPath,\n    isStroke: boolean,\n    batches: BatchableGraphics[],\n    geometryData: {\n        vertices: number[];\n        uvs: number[];\n        indices: number[];\n    }\n)\n{\n    const { vertices, uvs, indices } = geometryData;\n    const lastIndex = shapePath.shapePrimitives.length - 1;\n\n    shapePath.shapePrimitives.forEach(({ shape, transform: matrix }, i) =>\n    {\n        const indexOffset = indices.length;\n        const vertOffset = vertices.length / 2;\n\n        const points: number[] = [];\n\n        const build = shapeBuilders[shape.type];\n        let topology: Topology = 'triangle-list';\n        // TODO - this can be cached...\n        // TODO - THIS IS DONE TWICE!!!!!!\n        // ONCE FOR STROKE AND ONCE FOR FILL\n        // move to the ShapePath2D class itself?\n\n        build.build(shape, points);\n\n        if (matrix)\n        {\n            transformVertices(points, matrix);\n        }\n\n        if (!isStroke)\n        {\n            if (hole && lastIndex === i)\n            {\n                if (lastIndex !== 0)\n                {\n                    console.warn('[Pixi Graphics] only the last shape have be cut out');\n                }\n\n                const holeIndices: number[] = [];\n\n                const otherPoints = points.slice();\n\n                const holeArrays = getHoleArrays(hole.shapePath);\n\n                holeArrays.forEach((holePoints) =>\n                {\n                    holeIndices.push(otherPoints.length / 2);\n                    otherPoints.push(...holePoints);\n                });\n\n                triangulateWithHoles(otherPoints, holeIndices, vertices, 2, vertOffset, indices, indexOffset);\n            }\n            else\n            {\n                build.triangulate(points, vertices, 2, vertOffset, indices, indexOffset);\n            }\n        }\n        else\n        {\n            const close = (shape as Polygon).closePath ?? true;\n            const lineStyle = style as ConvertedStrokeStyle;\n\n            if (!lineStyle.pixelLine)\n            {\n                buildLine(points, lineStyle, false, close, vertices, indices);\n            }\n            else\n            {\n                buildPixelLine(points, close, vertices, indices);\n                topology = 'line-list';\n            }\n        }\n\n        const uvsOffset = uvs.length / 2;\n\n        const texture = style.texture;\n\n        if (texture !== Texture.WHITE)\n        {\n            const textureMatrix = style.matrix;\n\n            if (textureMatrix)\n            {\n                // todo can prolly do this before calculating uvs..\n                if (matrix)\n                {\n                    textureMatrix.append(matrix.clone().invert());\n                }\n\n                buildUvs(vertices, 2, vertOffset, uvs, uvsOffset, 2, (vertices.length / 2) - vertOffset, textureMatrix);\n            }\n        }\n        else\n        {\n            buildSimpleUvs(uvs, uvsOffset, 2, (vertices.length / 2) - vertOffset);\n        }\n\n        const graphicsBatch = BigPool.get(BatchableGraphics);\n\n        graphicsBatch.indexOffset = indexOffset;\n        graphicsBatch.indexSize = indices.length - indexOffset;\n\n        graphicsBatch.attributeOffset = vertOffset;\n        graphicsBatch.attributeSize = (vertices.length / 2) - vertOffset;\n\n        graphicsBatch.baseColor = style.color;\n        graphicsBatch.alpha = style.alpha;\n\n        graphicsBatch.texture = texture;\n        graphicsBatch.geometryData = geometryData;\n        graphicsBatch.topology = topology;\n\n        batches.push(graphicsBatch);\n    });\n}\n\nfunction getHoleArrays(shape: ShapePath)\n{\n    if (!shape) return [];\n\n    const holePrimitives = shape.shapePrimitives;\n\n    const holeArrays = [];\n\n    for (let k = 0; k < holePrimitives.length; k++)\n    {\n        const holePrimitive = holePrimitives[k].shape;\n\n        // TODO - need to transform the points via there transform here..\n        const holePoints: number[] = [];\n\n        const holeBuilder = shapeBuilders[holePrimitive.type] as ShapeBuildCommand;\n\n        holeBuilder.build(holePrimitive, holePoints);\n\n        holeArrays.push(holePoints);\n    }\n\n    return holeArrays;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 3879, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3885, "column": 0}, "map": {"version":3,"file":"GraphicsContextSystem.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/GraphicsContextSystem.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\nimport { getTextureBatchBindGroup } from '../../../rendering/batcher/gpu/getTextureBatchBindGroup';\nimport { DefaultBatcher } from '../../../rendering/batcher/shared/DefaultBatcher';\nimport { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport { deprecation, v8_3_4 } from '../../../utils/logging/deprecation';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { buildContextBatches } from './utils/buildContextBatches';\n\nimport type { Batcher } from '../../../rendering/batcher/shared/Batcher';\nimport type { System } from '../../../rendering/renderers/shared/system/System';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { BatchableGraphics } from './BatchableGraphics';\nimport type { GraphicsContext } from './GraphicsContext';\n\ninterface GeometryData\n{\n    vertices: number[];\n    uvs: number[];\n    indices: number[];\n}\n\n/**\n * A class that holds batchable graphics data for a GraphicsContext.\n * @memberof rendering\n * @ignore\n */\nexport class GpuGraphicsContext\n{\n    public isBatchable: boolean;\n    public context: GraphicsContext;\n\n    public batches: BatchableGraphics[] = [];\n    public geometryData: GeometryData = {\n        vertices: [],\n        uvs: [],\n        indices: [],\n    };\n    public graphicsData: GraphicsContextRenderData;\n}\n\n/**\n * A class that holds the render data for a GraphicsContext.\n * @memberof rendering\n * @ignore\n */\nexport class GraphicsContextRenderData\n{\n    public batcher: Batcher = new DefaultBatcher();\n    public instructions = new InstructionSet();\n\n    public init()\n    {\n        this.instructions.reset();\n    }\n\n    /**\n     * @deprecated since version 8.0.0\n     * Use `batcher.geometry` instead.\n     * @see {Batcher#geometry}\n     */\n    get geometry()\n    {\n        // #if _DEBUG\n        deprecation(v8_3_4, 'GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead.');\n        // #endif\n\n        return this.batcher.geometry;\n    }\n}\n\n/**\n * Options for the GraphicsContextSystem.\n * @memberof rendering\n */\nexport interface GraphicsContextSystemOptions\n{\n    /** A value from 0 to 1 that controls the smoothness of bezier curves (the higher the smoother) */\n    bezierSmoothness?: number;\n}\n\n/**\n * A system that manages the rendering of GraphicsContexts.\n * @memberof rendering\n */\nexport class GraphicsContextSystem implements System<GraphicsContextSystemOptions>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'graphicsContext'\n    } as const;\n\n    /** The default options for the GraphicsContextSystem. */\n    public static readonly defaultOptions: GraphicsContextSystemOptions = {\n        /**\n         * A value from 0 to 1 that controls the smoothness of bezier curves (the higher the smoother)\n         * @default 0.5\n         */\n        bezierSmoothness: 0.5,\n    };\n\n    // the root context batches, used to either make a batch or geometry\n    // all graphics use this as a base\n    private _gpuContextHash: Record<number, GpuGraphicsContext> = {};\n    // used for non-batchable graphics\n    private _graphicsDataContextHash: Record<number, GraphicsContextRenderData> = Object.create(null);\n\n    constructor(renderer: Renderer)\n    {\n        renderer.renderableGC.addManagedHash(this, '_gpuContextHash');\n        renderer.renderableGC.addManagedHash(this, '_graphicsDataContextHash');\n    }\n\n    /**\n     * Runner init called, update the default options\n     * @ignore\n     */\n    public init(options?: GraphicsContextSystemOptions)\n    {\n        GraphicsContextSystem.defaultOptions.bezierSmoothness = options?.bezierSmoothness\n            ?? GraphicsContextSystem.defaultOptions.bezierSmoothness;\n    }\n\n    public getContextRenderData(context: GraphicsContext): GraphicsContextRenderData\n    {\n        return this._graphicsDataContextHash[context.uid] || this._initContextRenderData(context);\n    }\n\n    // Context management functions\n    public updateGpuContext(context: GraphicsContext)\n    {\n        let gpuContext: GpuGraphicsContext = this._gpuContextHash[context.uid]\n\n            || this._initContext(context);\n\n        if (context.dirty)\n        {\n            if (gpuContext)\n            {\n                this._cleanGraphicsContextData(context);\n            }\n            else\n            {\n                gpuContext = this._initContext(context);\n            }\n\n            buildContextBatches(context, gpuContext);\n\n            const batchMode = context.batchMode;\n\n            if (context.customShader || batchMode === 'no-batch')\n            {\n                gpuContext.isBatchable = false;\n            }\n            else if (batchMode === 'auto')\n            {\n                gpuContext.isBatchable = (gpuContext.geometryData.vertices.length < 400);\n            }\n\n            context.dirty = false;\n        }\n\n        return gpuContext;\n    }\n\n    public getGpuContext(context: GraphicsContext): GpuGraphicsContext\n    {\n        return this._gpuContextHash[context.uid] || this._initContext(context);\n    }\n\n    private _initContextRenderData(context: GraphicsContext): GraphicsContextRenderData\n    {\n        const graphicsData: GraphicsContextRenderData = BigPool.get(GraphicsContextRenderData);// ();\n\n        const { batches, geometryData } = this._gpuContextHash[context.uid];\n\n        const vertexSize = geometryData.vertices.length;\n        const indexSize = geometryData.indices.length;\n\n        for (let i = 0; i < batches.length; i++)\n        {\n            batches[i].applyTransform = false;\n        }\n\n        const batcher = graphicsData.batcher;\n\n        // TODO we can pool buffers here eventually..\n        batcher.ensureAttributeBuffer(vertexSize);\n        batcher.ensureIndexBuffer(indexSize);\n\n        batcher.begin();\n\n        for (let i = 0; i < batches.length; i++)\n        {\n            const batch = batches[i];\n\n            batcher.add(batch);\n        }\n\n        batcher.finish(graphicsData.instructions);\n\n        const geometry = batcher.geometry;\n\n        // not to self - this works as we are assigning the batchers array buffer\n        // once its up loaded - this buffer is then put back in the pool to be reused.\n        // this mean we don't have to creating new Batchers for each graphics items\n        geometry.indexBuffer.setDataWithSize(batcher.indexBuffer, batcher.indexSize, true);\n        geometry.buffers[0].setDataWithSize(batcher.attributeBuffer.float32View, batcher.attributeSize, true);\n\n        const drawBatches = batcher.batches;\n\n        for (let i = 0; i < drawBatches.length; i++)\n        {\n            const batch = drawBatches[i];\n\n            batch.bindGroup = getTextureBatchBindGroup(batch.textures.textures, batch.textures.count);\n        }\n\n        this._graphicsDataContextHash[context.uid] = graphicsData;\n\n        return graphicsData;\n    }\n\n    private _initContext(context: GraphicsContext): GpuGraphicsContext\n    {\n        const gpuContext = new GpuGraphicsContext();\n\n        gpuContext.context = context;\n\n        this._gpuContextHash[context.uid] = gpuContext;\n\n        context.on('destroy', this.onGraphicsContextDestroy, this);\n\n        return this._gpuContextHash[context.uid];\n    }\n\n    protected onGraphicsContextDestroy(context: GraphicsContext)\n    {\n        this._cleanGraphicsContextData(context);\n\n        context.off('destroy', this.onGraphicsContextDestroy, this);\n\n        this._gpuContextHash[context.uid] = null;\n    }\n\n    private _cleanGraphicsContextData(context: GraphicsContext)\n    {\n        const gpuContext: GpuGraphicsContext = this._gpuContextHash[context.uid];\n\n        if (!gpuContext.isBatchable)\n        {\n            if (this._graphicsDataContextHash[context.uid])\n            {\n                BigPool.return(this.getContextRenderData(context) as PoolItem);\n\n                // we will rebuild this...\n                this._graphicsDataContextHash[context.uid] = null;\n            }\n        }\n\n        if (gpuContext.batches)\n        {\n            gpuContext.batches.forEach((batch) =>\n            {\n                BigPool.return(batch as PoolItem);\n            });\n        }\n    }\n\n    public destroy()\n    {\n        // Clean up all graphics contexts\n\n        for (const i in this._gpuContextHash)\n        {\n            if (this._gpuContextHash[i])\n            {\n                this.onGraphicsContextDestroy(this._gpuContextHash[i].context);\n            }\n        }\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AA2BO,MAAM,kBACb,CAAA;IADO,WAAA,EAAA;QAKH,IAAA,CAAO,OAAA,GAA+B,EAAC,CAAA;QACvC,IAAA,CAAO,YAA6B,GAAA;YAChC,UAAU,EAAC;YACX,KAAK,EAAC;YACN,SAAS,EAAC;QAAA,CACd,CAAA;IAAA,CAAA;AAEJ,CAAA;AAOO,MAAM,yBACb,CAAA;IADO,WAAA,EAAA;QAEI,IAAA,CAAA,OAAA,GAAmB,IAAI,2MAAe,EAAA,CAAA;QACtC,IAAA,CAAA,YAAA,GAAe,gNAAI,iBAAe,EAAA,CAAA;IAAA,CAAA;IAElC,IACP,GAAA;QACI,IAAA,CAAK,YAAA,CAAa,KAAM,EAAA,CAAA;IAAA,CAC5B;IAAA;;;;GAAA,GAOA,IAAI,QACJ,GAAA;qLAEI,cAAA,2KAAY,SAAA,EAAQ,wFAAwF,CAAA,CAAA;QAG5G,OAAO,IAAA,CAAK,OAAQ,CAAA,QAAA,CAAA;IAAA,CACxB;AACJ,CAAA;AAgBO,MAAM,sBAAA,GAAN,MAAM,sBACb,CAAA;IA0BI,YAAY,QACZ,CAAA;QALA,oEAAA;QAAA,kCAAA;QAAA,IAAA,CAAQ,eAAA,GAAsD,CAAA,CAAC,CAAA;QAE/D,kCAAA;QAAQ,IAAA,CAAA,wBAAA,GAAA,aAAA,GAA6E,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;QAInF,QAAA,CAAA,YAAA,CAAa,cAAe,CAAA,IAAA,EAAM,iBAAiB,CAAA,CAAA;QACnD,QAAA,CAAA,YAAA,CAAa,cAAe,CAAA,IAAA,EAAM,0BAA0B,CAAA,CAAA;IAAA,CACzE;IAAA;;;GAAA,GAMO,KAAK,OACZ,EAAA;QACI,sBAAA,CAAsB,cAAe,CAAA,gBAAA,GAAmB,OAAS,EAAA,gBAAA,IAC1D,uBAAsB,cAAe,CAAA,gBAAA,CAAA;IAAA,CAChD;IAEO,qBAAqB,OAC5B,EAAA;QACI,OAAO,IAAA,CAAK,wBAAyB,CAAA,OAAA,CAAQ,GAAG,CAAK,IAAA,IAAA,CAAK,sBAAA,CAAuB,OAAO,CAAA,CAAA;IAAA,CAC5F;IAAA,+BAAA;IAGO,iBAAiB,OACxB,EAAA;QACQ,IAAA,UAAA,GAAiC,IAAA,CAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAE9D,IAAA,IAAA,CAAK,YAAA,CAAa,OAAO,CAAA,CAAA;QAEhC,IAAI,QAAQ,KACZ,EAAA;YACI,IAAI,UACJ,EAAA;gBACI,IAAA,CAAK,yBAAA,CAA0B,OAAO,CAAA,CAAA;YAAA,CAG1C,MAAA;gBACiB,UAAA,GAAA,IAAA,CAAK,YAAA,CAAa,OAAO,CAAA,CAAA;YAAA,CAC1C;aAEA,8NAAA,EAAoB,SAAS,UAAU,CAAA,CAAA;YAEvC,MAAM,YAAY,OAAQ,CAAA,SAAA,CAAA;YAEtB,IAAA,OAAA,CAAQ,YAAgB,IAAA,SAAA,KAAc,UAC1C,EAAA;gBACI,UAAA,CAAW,WAAc,GAAA,KAAA,CAAA;YAAA,CAC7B,MAAA,IACS,cAAc,MACvB,EAAA;gBACI,UAAA,CAAW,WAAe,GAAA,UAAA,CAAW,YAAa,CAAA,QAAA,CAAS,MAAS,GAAA,GAAA,CAAA;YAAA,CACxE;YAEA,OAAA,CAAQ,KAAQ,GAAA,KAAA,CAAA;QAAA,CACpB;QAEO,OAAA,UAAA,CAAA;IAAA,CACX;IAEO,cAAc,OACrB,EAAA;QACI,OAAO,IAAA,CAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAAK,IAAA,IAAA,CAAK,YAAA,CAAa,OAAO,CAAA,CAAA;IAAA,CACzE;IAEQ,uBAAuB,OAC/B,EAAA;QACU,MAAA,YAAA,uKAA0C,UAAQ,CAAA,GAAA,CAAI,yBAAyB,CAAA,CAAA;QAErF,MAAM,EAAE,OAAS,EAAA,YAAA,EAAA,GAAiB,IAAK,CAAA,eAAA,CAAgB,QAAQ,GAAG,CAAA,CAAA;QAE5D,MAAA,UAAA,GAAa,aAAa,QAAS,CAAA,MAAA,CAAA;QACnC,MAAA,SAAA,GAAY,aAAa,OAAQ,CAAA,MAAA,CAAA;QAEvC,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,MAAA,EAAQ,CACpC,EAAA,CAAA;YACY,OAAA,CAAA,CAAC,CAAA,CAAE,cAAiB,GAAA,KAAA,CAAA;QAAA,CAChC;QAEA,MAAM,UAAU,YAAa,CAAA,OAAA,CAAA;QAG7B,OAAA,CAAQ,qBAAA,CAAsB,UAAU,CAAA,CAAA;QACxC,OAAA,CAAQ,iBAAA,CAAkB,SAAS,CAAA,CAAA;QAEnC,OAAA,CAAQ,KAAM,EAAA,CAAA;QAEd,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,OAAA,CAAQ,MAAA,EAAQ,CACpC,EAAA,CAAA;YACU,MAAA,KAAA,GAAQ,OAAA,CAAQ,CAAC,CAAA,CAAA;YAEvB,OAAA,CAAQ,GAAA,CAAI,KAAK,CAAA,CAAA;QAAA,CACrB;QAEQ,OAAA,CAAA,MAAA,CAAO,aAAa,YAAY,CAAA,CAAA;QAExC,MAAM,WAAW,OAAQ,CAAA,QAAA,CAAA;QAKzB,QAAA,CAAS,WAAA,CAAY,eAAgB,CAAA,OAAA,CAAQ,WAAa,EAAA,OAAA,CAAQ,SAAA,EAAW,IAAI,CAAA,CAAA;QACxE,QAAA,CAAA,OAAA,CAAQ,CAAC,CAAE,CAAA,eAAA,CAAgB,QAAQ,eAAgB,CAAA,WAAA,EAAa,OAAQ,CAAA,aAAA,EAAe,IAAI,CAAA,CAAA;QAEpG,MAAM,cAAc,OAAQ,CAAA,OAAA,CAAA;QAE5B,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,MAAA,EAAQ,CACxC,EAAA,CAAA;YACU,MAAA,KAAA,GAAQ,WAAA,CAAY,CAAC,CAAA,CAAA;YAE3B,KAAA,CAAM,SAAA,OAAY,4NAAA,AAAyB,EAAA,KAAA,CAAM,QAAA,CAAS,QAAU,EAAA,KAAA,CAAM,QAAA,CAAS,KAAK,CAAA,CAAA;QAAA,CAC5F;QAEK,IAAA,CAAA,wBAAA,CAAyB,OAAQ,CAAA,GAAG,CAAI,GAAA,YAAA,CAAA;QAEtC,OAAA,YAAA,CAAA;IAAA,CACX;IAEQ,aAAa,OACrB,EAAA;QACU,MAAA,UAAA,GAAa,IAAI,kBAAmB,EAAA,CAAA;QAE1C,UAAA,CAAW,OAAU,GAAA,OAAA,CAAA;QAEhB,IAAA,CAAA,eAAA,CAAgB,OAAQ,CAAA,GAAG,CAAI,GAAA,UAAA,CAAA;QAEpC,OAAA,CAAQ,EAAG,CAAA,SAAA,EAAW,IAAK,CAAA,wBAAA,EAA0B,IAAI,CAAA,CAAA;QAElD,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;IAAA,CAC3C;IAEU,yBAAyB,OACnC,EAAA;QACI,IAAA,CAAK,yBAAA,CAA0B,OAAO,CAAA,CAAA;QAEtC,OAAA,CAAQ,GAAI,CAAA,SAAA,EAAW,IAAK,CAAA,wBAAA,EAA0B,IAAI,CAAA,CAAA;QAErD,IAAA,CAAA,eAAA,CAAgB,OAAQ,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;IAAA,CACxC;IAEQ,0BAA0B,OAClC,EAAA;QACI,MAAM,UAAiC,GAAA,IAAA,CAAK,eAAgB,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA;QAEnE,IAAA,CAAC,WAAW,WAChB,EAAA;YACI,IAAI,IAAK,CAAA,wBAAA,CAAyB,OAAQ,CAAA,GAAG,CAC7C,EAAA;oLACI,UAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,oBAAqB,CAAA,OAAO,CAAa,CAAA,CAAA;gBAGxD,IAAA,CAAA,wBAAA,CAAyB,OAAQ,CAAA,GAAG,CAAI,GAAA,IAAA,CAAA;YAAA,CACjD;QAAA,CACJ;QAEA,IAAI,WAAW,OACf,EAAA;YACe,UAAA,CAAA,OAAA,CAAQ,OAAQ,CAAA,CAAC,KAC5B,KAAA;oLACI,UAAA,CAAQ,MAAA,CAAO,KAAiB,CAAA,CAAA;YAAA,CACnC,CAAA,CAAA;QAAA,CACL;IAAA,CACJ;IAEO,OACP,GAAA;QAGe,IAAA,MAAA,CAAA,IAAK,IAAA,CAAK,eACrB,CAAA;YACQ,IAAA,IAAA,CAAK,eAAgB,CAAA,CAAC,CAC1B,EAAA;gBACI,IAAA,CAAK,wBAAyB,CAAA,IAAA,CAAK,eAAgB,CAAA,CAAC,CAAA,CAAE,OAAO,CAAA,CAAA;YAAA,CACjE;QAAA,CACJ;IAAA,CACJ;AACJ,CAAA,CAAA;AAAA,YAAA,GAzMa,sBAAA,CAGK,SAAY,GAAA;IACtB,IAAM,EAAA;0KACF,gBAAc,CAAA,WAAA;0KACd,gBAAc,CAAA,YAAA;0KACd,gBAAc,CAAA,YAAA;KAClB;IACA,IAAM,EAAA,iBAAA;AACV,CAAA,CAAA;AAAA,uDAAA,GAVS,sBAAA,CAac,cAA+C,GAAA;IAAA;;;GAAA,GAKlE,gBAAkB,EAAA,GAAA;AACtB,CAAA,CAAA;AAnBG,IAAM,qBAAN,GAAA","ignoreList":[0]}},
    {"offset": {"line": 4053, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4059, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { GraphicsContextSystem } from './shared/GraphicsContextSystem';\nimport { GraphicsPipe } from './shared/GraphicsPipe';\n\nextensions.add(GraphicsPipe);\nextensions.add(GraphicsContextSystem);\n"],"names":[],"mappings":";;;;;;;;kKAIA,aAAA,CAAW,GAAA,sLAAI,eAAY,CAAA,CAAA;kKAC3B,aAAA,CAAW,GAAA,+LAAI,wBAAqB,CAAA","ignoreList":[0]}},
    {"offset": {"line": 4069, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4075, "column": 0}, "map": {"version":3,"file":"BatchableMesh.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/mesh/shared/BatchableMesh.ts"],"sourcesContent":["import type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { Batch, Batcher } from '../../../rendering/batcher/shared/Batcher';\nimport type { DefaultBatchableMeshElement } from '../../../rendering/batcher/shared/DefaultBatcher';\nimport type { Topology } from '../../../rendering/renderers/shared/geometry/const';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { ViewContainer } from '../../view/ViewContainer';\nimport type { MeshGeometry } from './MeshGeometry';\n\n/**\n * A batchable mesh object.\n * @ignore\n */\nexport class BatchableMesh implements DefaultBatchableMeshElement\n{\n    public batcherName = 'default';\n\n    public _topology: Topology;\n\n    public readonly packAsQuad = false;\n    public location: number;\n\n    public renderable: ViewContainer;\n\n    public indexOffset = 0;\n    public attributeOffset = 0;\n\n    public texture: Texture;\n    public geometry: MeshGeometry;\n    public transform: Matrix;\n    public roundPixels: 0 | 1 = 0;\n\n    public _attributeStart: number;\n    public _batcher: Batcher = null;\n    public _batch: Batch = null;\n    public _indexStart: number;\n    public _textureId: number;\n\n    private _transformedUvs: Float32Array;\n    private _uvUpdateId: number = -1;\n    private _textureMatrixUpdateId: number = -1;\n\n    get blendMode() { return this.renderable.groupBlendMode; }\n\n    get topology() { return this._topology || this.geometry.topology; }\n    set topology(value: Topology) { this._topology = value; }\n\n    public reset()\n    {\n        this.renderable = null;\n        this.texture = null;\n        this._batcher = null;\n        this._batch = null;\n        this.geometry = null;\n        this._uvUpdateId = -1;\n        this._textureMatrixUpdateId = -1;\n    }\n\n    get uvs()\n    {\n        const geometry = this.geometry;\n\n        const uvBuffer = geometry.getBuffer('aUV');\n\n        const uvs = uvBuffer.data;\n\n        let transformedUvs = uvs;\n        const textureMatrix = this.texture.textureMatrix;\n\n        if (!textureMatrix.isSimple)\n        {\n            transformedUvs = this._transformedUvs;\n\n            if (this._textureMatrixUpdateId !== textureMatrix._updateID || this._uvUpdateId !== uvBuffer._updateID)\n            {\n                if (!transformedUvs || transformedUvs.length < uvs.length)\n                {\n                    transformedUvs = this._transformedUvs = new Float32Array(uvs.length);\n                }\n\n                this._textureMatrixUpdateId = textureMatrix._updateID;\n                this._uvUpdateId = uvBuffer._updateID;\n\n                textureMatrix.multiplyUvs(uvs as Float32Array, transformedUvs);\n            }\n        }\n\n        return transformedUvs as Float32Array;\n    }\n\n    get positions()\n    {\n        return this.geometry.positions;\n    }\n\n    get indices()\n    {\n        return this.geometry.indices;\n    }\n\n    get color()\n    {\n        return this.renderable.groupColorAlpha;\n    }\n\n    get groupTransform()\n    {\n        return this.renderable.groupTransform;\n    }\n\n    get attributeSize()\n    {\n        return this.geometry.positions.length / 2;\n    }\n\n    get indexSize()\n    {\n        return this.geometry.indices.length;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4149, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4155, "column": 0}, "map": {"version":3,"file":"MeshPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/mesh/shared/MeshPipe.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { BindGroup } from '../../../rendering/renderers/gpu/shader/BindGroup';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { getAdjustedBlendModeBlend } from '../../../rendering/renderers/shared/state/getAdjustedBlendModeBlend';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { color32BitToUniform } from '../../graphics/gpu/colorToUniform';\nimport { BatchableMesh } from './BatchableMesh';\n\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type {\n    InstructionPipe,\n    RenderPipe\n} from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { PoolItem } from '../../../utils/pool/Pool';\nimport type { Container } from '../../container/Container';\nimport type { Mesh } from './Mesh';\n\n// TODO Record mode is a P2, will get back to this as it's not a priority\n// const recordMode = true;\n\ninterface MeshData\n{\n    batched: boolean;\n    indexSize: number;\n    vertexSize: number;\n}\n\nexport interface MeshAdaptor\n{\n    init(): void;\n    execute(meshPipe: MeshPipe, mesh: Mesh): void;\n    destroy(): void;\n}\n\nexport class MeshPipe implements RenderPipe<Mesh>, InstructionPipe<Mesh>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'mesh',\n    } as const;\n\n    public localUniforms = new UniformGroup({\n        uTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n        uColor: { value: new Float32Array([1, 1, 1, 1]), type: 'vec4<f32>' },\n        uRound: { value: 0, type: 'f32' },\n    });\n\n    public localUniformsBindGroup = new BindGroup({\n        0: this.localUniforms,\n    });\n\n    public renderer: Renderer;\n\n    private _meshDataHash: Record<number, MeshData> = Object.create(null);\n    private _gpuBatchableMeshHash: Record<number, BatchableMesh> = Object.create(null);\n    private _adaptor: MeshAdaptor;\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: Renderer, adaptor: MeshAdaptor)\n    {\n        this.renderer = renderer;\n        this._adaptor = adaptor;\n\n        this._adaptor.init();\n\n        renderer.renderableGC.addManagedHash(this, '_gpuBatchableMeshHash');\n        renderer.renderableGC.addManagedHash(this, '_meshDataHash');\n    }\n\n    public validateRenderable(mesh: Mesh): boolean\n    {\n        const meshData = this._getMeshData(mesh);\n\n        const wasBatched = meshData.batched;\n\n        const isBatched = mesh.batched;\n\n        meshData.batched = isBatched;\n\n        if (wasBatched !== isBatched)\n        {\n            return true;\n        }\n        else if (isBatched)\n        {\n            const geometry = mesh._geometry;\n\n            // no need to break the batch if it's the same size\n            if (geometry.indices.length !== meshData.indexSize\n                    || geometry.positions.length !== meshData.vertexSize)\n            {\n                meshData.indexSize = geometry.indices.length;\n                meshData.vertexSize = geometry.positions.length;\n\n                return true;\n            }\n\n            const batchableMesh = this._getBatchableMesh(mesh);\n\n            return !batchableMesh._batcher.checkAndUpdateTexture(\n                batchableMesh,\n                mesh.texture\n            );\n        }\n\n        return false;\n    }\n\n    public addRenderable(mesh: Mesh, instructionSet: InstructionSet)\n    {\n        const batcher = this.renderer.renderPipes.batch;\n\n        const { batched } = this._getMeshData(mesh);\n\n        if (batched)\n        {\n            const gpuBatchableMesh = this._getBatchableMesh(mesh);\n\n            gpuBatchableMesh.texture = mesh._texture;\n            gpuBatchableMesh.geometry = mesh._geometry;\n\n            batcher.addToBatch(gpuBatchableMesh, instructionSet);\n        }\n        else\n        {\n            batcher.break(instructionSet);\n\n            instructionSet.add(mesh);\n        }\n    }\n\n    public updateRenderable(mesh: Mesh)\n    {\n        if (mesh.batched)\n        {\n            const gpuBatchableMesh = this._gpuBatchableMeshHash[mesh.uid];\n\n            gpuBatchableMesh.texture = mesh._texture;\n            gpuBatchableMesh.geometry = mesh._geometry;\n\n            gpuBatchableMesh._batcher.updateElement(gpuBatchableMesh);\n        }\n    }\n\n    public destroyRenderable(mesh: Mesh)\n    {\n        this._meshDataHash[mesh.uid] = null;\n\n        const gpuMesh = this._gpuBatchableMeshHash[mesh.uid];\n\n        if (gpuMesh)\n        {\n            BigPool.return(gpuMesh as PoolItem);\n            this._gpuBatchableMeshHash[mesh.uid] = null;\n        }\n\n        mesh.off('destroyed', this._destroyRenderableBound);\n    }\n\n    public execute(mesh: Mesh)\n    {\n        if (!mesh.isRenderable) return;\n\n        mesh.state.blendMode = getAdjustedBlendModeBlend(mesh.groupBlendMode, mesh.texture._source);\n\n        const localUniforms = this.localUniforms;\n\n        localUniforms.uniforms.uTransformMatrix = mesh.groupTransform;\n        localUniforms.uniforms.uRound = this.renderer._roundPixels | mesh._roundPixels;\n        localUniforms.update();\n\n        color32BitToUniform(\n            mesh.groupColorAlpha,\n            localUniforms.uniforms.uColor,\n            0\n        );\n\n        this._adaptor.execute(this, mesh);\n    }\n\n    private _getMeshData(mesh: Mesh): MeshData\n    {\n        return this._meshDataHash[mesh.uid] || this._initMeshData(mesh);\n    }\n\n    private _initMeshData(mesh: Mesh): MeshData\n    {\n        this._meshDataHash[mesh.uid] = {\n            batched: mesh.batched,\n            indexSize: mesh._geometry.indices?.length,\n            vertexSize: mesh._geometry.positions?.length,\n        };\n\n        mesh.on('destroyed', this._destroyRenderableBound);\n\n        return this._meshDataHash[mesh.uid];\n    }\n\n    private _getBatchableMesh(mesh: Mesh): BatchableMesh\n    {\n        return this._gpuBatchableMeshHash[mesh.uid] || this._initBatchableMesh(mesh);\n    }\n\n    private _initBatchableMesh(mesh: Mesh): BatchableMesh\n    {\n        // TODO - make this batchable graphics??\n        const gpuMesh: BatchableMesh = BigPool.get(BatchableMesh);\n\n        gpuMesh.renderable = mesh;\n        gpuMesh.texture = mesh._texture;\n        gpuMesh.transform = mesh.groupTransform;\n        gpuMesh.roundPixels = (this.renderer._roundPixels | mesh._roundPixels) as 0 | 1;\n\n        this._gpuBatchableMeshHash[mesh.uid] = gpuMesh;\n\n        return gpuMesh;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuBatchableMeshHash)\n        {\n            if (this._gpuBatchableMeshHash[i])\n            {\n                BigPool.return(this._gpuBatchableMeshHash[i] as PoolItem);\n            }\n        }\n\n        this._gpuBatchableMeshHash = null;\n        this._meshDataHash = null;\n\n        this.localUniforms = null;\n        this.localUniformsBindGroup = null;\n\n        this._adaptor.destroy();\n        this._adaptor = null;\n\n        this.renderer = null;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4316, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4322, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/mesh/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { MeshPipe } from './shared/MeshPipe';\n\nextensions.add(MeshPipe);\n"],"names":[],"mappings":";;;;;;kKAGA,aAAA,CAAW,GAAA,8KAAI,WAAQ,CAAA","ignoreList":[0]}},
    {"offset": {"line": 4329, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4335, "column": 0}, "map": {"version":3,"file":"GlParticleContainerAdaptor.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/gl/GlParticleContainerAdaptor.ts"],"sourcesContent":["import type { WebGLRenderer } from '../../../rendering/renderers/gl/WebGLRenderer';\nimport type { ParticleContainer } from '../shared/ParticleContainer';\nimport type { ParticleContainerAdaptor, ParticleContainerPipe } from '../shared/ParticleContainerPipe';\n\nexport class GlParticleContainerAdaptor implements ParticleContainerAdaptor\n{\n    public execute(particleContainerPipe: ParticleContainerPipe, container: ParticleContainer)\n    {\n        const state = particleContainerPipe.state;\n        const renderer = particleContainerPipe.renderer as WebGLRenderer;\n        const shader = container.shader || particleContainerPipe.defaultShader;\n\n        shader.resources.uTexture = container.texture._source;\n        shader.resources.uniforms = particleContainerPipe.localUniforms;\n\n        const gl = renderer.gl;\n\n        const buffer = particleContainerPipe.getBuffers(container);\n\n        // now lets upload and render the buffers..\n        renderer.shader.bind(shader);\n        renderer.state.set(state);\n        renderer.geometry.bind(buffer.geometry, shader.glProgram);\n\n        const byteSize = buffer.geometry.indexBuffer.data.BYTES_PER_ELEMENT;\n        const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;\n\n        gl.drawElements(gl.TRIANGLES, container.particleChildren.length * 6, glType, 0);\n    }\n}\n"],"names":[],"mappings":";;;;AAIO,MAAM,0BACb,CAAA;IACW,OAAA,CAAQ,qBAAA,EAA8C,SAC7D,EAAA;QACI,MAAM,QAAQ,qBAAsB,CAAA,KAAA,CAAA;QACpC,MAAM,WAAW,qBAAsB,CAAA,QAAA,CAAA;QACjC,MAAA,MAAA,GAAS,SAAU,CAAA,MAAA,IAAU,qBAAsB,CAAA,aAAA,CAAA;QAElD,MAAA,CAAA,SAAA,CAAU,QAAW,GAAA,SAAA,CAAU,OAAQ,CAAA,OAAA,CAAA;QACvC,MAAA,CAAA,SAAA,CAAU,QAAA,GAAW,qBAAsB,CAAA,aAAA,CAAA;QAElD,MAAM,KAAK,QAAS,CAAA,EAAA,CAAA;QAEd,MAAA,MAAA,GAAS,qBAAsB,CAAA,UAAA,CAAW,SAAS,CAAA,CAAA;QAGhD,QAAA,CAAA,MAAA,CAAO,IAAA,CAAK,MAAM,CAAA,CAAA;QAClB,QAAA,CAAA,KAAA,CAAM,GAAA,CAAI,KAAK,CAAA,CAAA;QACxB,QAAA,CAAS,QAAS,CAAA,IAAA,CAAK,MAAO,CAAA,QAAA,EAAU,OAAO,SAAS,CAAA,CAAA;QAExD,MAAM,QAAW,GAAA,MAAA,CAAO,QAAS,CAAA,WAAA,CAAY,IAAK,CAAA,iBAAA,CAAA;QAClD,MAAM,MAAS,GAAA,QAAA,KAAa,CAAI,GAAA,EAAA,CAAG,cAAA,GAAiB,EAAG,CAAA,YAAA,CAAA;QAEpD,EAAA,CAAA,YAAA,CAAa,GAAG,SAAW,EAAA,SAAA,CAAU,gBAAA,CAAiB,MAAS,GAAA,CAAA,EAAG,QAAQ,CAAC,CAAA,CAAA;IAAA,CAClF;AACJ","ignoreList":[0]}},
    {"offset": {"line": 4358, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4364, "column": 0}, "map": {"version":3,"file":"particles.vert.mjs","sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 4370, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4376, "column": 0}, "map": {"version":3,"file":"particles.frag.mjs","sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 4382, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4388, "column": 0}, "map": {"version":3,"file":"particles.wgsl.mjs","sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 4394, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4400, "column": 0}, "map": {"version":3,"file":"ParticleShader.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/shared/shader/ParticleShader.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { GlProgram } from '../../../../rendering/renderers/gl/shader/GlProgram';\nimport { GpuProgram } from '../../../../rendering/renderers/gpu/shader/GpuProgram';\nimport { Shader } from '../../../../rendering/renderers/shared/shader/Shader';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { TextureStyle } from '../../../../rendering/renderers/shared/texture/TextureStyle';\nimport fragment from './particles.frag';\nimport vertex from './particles.vert';\nimport wgsl from './particles.wgsl';\n\nexport class ParticleShader extends Shader\n{\n    constructor()\n    {\n        const glProgram = GlProgram.from({\n            vertex,\n            fragment\n        });\n\n        const gpuProgram = GpuProgram.from({\n            fragment: {\n                source: wgsl,\n                entryPoint: 'mainFragment'\n            },\n            vertex: {\n                source: wgsl,\n                entryPoint: 'mainVertex'\n            }\n        });\n\n        super({\n            glProgram,\n            gpuProgram,\n            resources: {\n                // this will be replaced with the texture from the particle container\n                uTexture: Texture.WHITE.source,\n                // this will be replaced with the texture style from the particle container\n                uSampler: new TextureStyle({}),\n                // this will be replaced with the local uniforms from the particle container\n                uniforms: {\n                    uTranslationMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n                    uColor: { value: new Color(0xFFFFFF), type: 'vec4<f32>' },\n                    uRound: { value: 1, type: 'f32' },\n                    uResolution: { value: [0, 0], type: 'vec2<f32>' },\n                }\n            }\n        });\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAWO,MAAM,qNAAuB,SACpC,CAAA;IACI,WACA,EAAA;QACU,MAAA,SAAA,gMAAY,YAAA,CAAU,IAAK,CAAA;qOAC7B,UAAA;uOACA,UAAA;QAAA,CACH,CAAA,CAAA;QAEK,MAAA,UAAA,iMAAa,cAAA,CAAW,IAAK,CAAA;YAC/B,QAAU,EAAA;gBACN,MAAQ,mNAAA,UAAA;gBACR,UAAY,EAAA,cAAA;YAAA,CAChB;YACA,MAAQ,EAAA;gBACJ,MAAQ,mNAAA,UAAA;gBACR,UAAY,EAAA,YAAA;YAAA,CAChB;QAAA,CACH,CAAA,CAAA;QAEK,KAAA,CAAA;YACF,SAAA;YACA,UAAA;YACA,SAAW,EAAA;gBAAA,qEAAA;gBAEP,QAAA,EAAU,0MAAA,CAAQ,KAAM,CAAA,MAAA;gBAAA,2EAAA;gBAExB,QAAU,EAAA,yMAAI,eAAa,CAAA,CAAA,CAAE,CAAA;gBAAA,4EAAA;gBAE7B,QAAU,EAAA;oBACN,oBAAoB;wBAAE,KAAA,EAAO,uKAAI,SAAO,EAAA;wBAAG,MAAM,aAAc;oBAAA,CAAA;oBAC/D,MAAA,EAAQ;wBAAE,KAAO,EAAA,4JAAI,QAAA,CAAM,QAAQ,CAAA;wBAAG,MAAM,WAAY;oBAAA,CAAA;oBACxD,MAAQ,EAAA;wBAAE,KAAO,EAAA,CAAA;wBAAG,MAAM,KAAM;oBAAA,CAAA;oBAChC,WAAA,EAAa;wBAAE,KAAO,EAAA;4BAAC;4BAAG,CAAC;yBAAA;wBAAG,MAAM,WAAY;oBAAA,CAAA;gBAAA,CACpD;YAAA,CACJ;QAAA,CACH,CAAA,CAAA;IAAA,CACL;AACJ","ignoreList":[0]}},
    {"offset": {"line": 4476, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4482, "column": 0}, "map": {"version":3,"file":"createIndicesForQuads.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/shared/utils/createIndicesForQuads.ts"],"sourcesContent":["/**\n * Generic Mask Stack data structure\n * @function createIndicesForQuads\n * @param {number} size - Number of quads\n * @param {Uint16Array|Uint32Array} [outBuffer] - Buffer for output, length has to be `6 * size`\n * @returns {Uint16Array|Uint32Array} - Resulting index buffer\n */\nexport function createIndicesForQuads(\n    size: number,\n    outBuffer: Uint16Array | Uint32Array | null = null\n): Uint16Array | Uint32Array\n{\n    // the total number of indices in our array, there are 6 points per quad.\n    const totalIndices = size * 6;\n\n    // Check if we need to use Uint32Array\n    if (totalIndices > 65535)\n    {\n        outBuffer ||= new Uint32Array(totalIndices); // Use Uint32Array if needed\n    }\n    else\n    {\n        outBuffer ||= new Uint16Array(totalIndices);\n    }\n\n    if (outBuffer.length !== totalIndices)\n    {\n        throw new Error(`Out buffer length is incorrect, got ${outBuffer.length} and expected ${totalIndices}`);\n    }\n\n    // fill the indices with the quads to draw\n    for (let i = 0, j = 0; i < totalIndices; i += 6, j += 4)\n    {\n        outBuffer[i + 0] = j + 0;\n        outBuffer[i + 1] = j + 1;\n        outBuffer[i + 2] = j + 2;\n        outBuffer[i + 3] = j + 0;\n        outBuffer[i + 4] = j + 2;\n        outBuffer[i + 5] = j + 3;\n    }\n\n    return outBuffer;\n}\n"],"names":[],"mappings":";;;;AAOgB,SAAA,qBAAA,CACZ,IACA,EAAA,SAAA,GAA8C,IAElD,EAAA;IAEI,MAAM,eAAe,IAAO,GAAA,CAAA,CAAA;IAG5B,IAAI,eAAe,KACnB,EAAA;QACkB,SAAA,IAAA,CAAA,SAAA,GAAA,IAAI,YAAY,YAAY,CAAA,CAAA,CAAA;IAAA,CAG9C,MAAA;QACkB,SAAA,IAAA,CAAA,SAAA,GAAA,IAAI,YAAY,YAAY,CAAA,CAAA,CAAA;IAAA,CAC9C;IAEI,IAAA,SAAA,CAAU,MAAA,KAAW,YACzB,EAAA;QACI,MAAM,IAAI,KAAM,CAAA,CAAA,oCAAA,EAAuC,UAAU,MAAM,CAAA,cAAA,EAAiB,YAAY,CAAE,CAAA,CAAA,CAAA;IAAA,CAC1G;IAGS,IAAA,IAAA,CAAA,GAAI,GAAG,CAAI,GAAA,CAAA,EAAG,IAAI,YAAc,EAAA,CAAA,IAAK,CAAG,EAAA,CAAA,IAAK,CACtD,CAAA;QACc,SAAA,CAAA,CAAA,GAAI,CAAC,CAAA,GAAI,CAAI,GAAA,CAAA,CAAA;QACb,SAAA,CAAA,CAAA,GAAI,CAAC,CAAA,GAAI,CAAI,GAAA,CAAA,CAAA;QACb,SAAA,CAAA,CAAA,GAAI,CAAC,CAAA,GAAI,CAAI,GAAA,CAAA,CAAA;QACb,SAAA,CAAA,CAAA,GAAI,CAAC,CAAA,GAAI,CAAI,GAAA,CAAA,CAAA;QACb,SAAA,CAAA,CAAA,GAAI,CAAC,CAAA,GAAI,CAAI,GAAA,CAAA,CAAA;QACb,SAAA,CAAA,CAAA,GAAI,CAAC,CAAA,GAAI,CAAI,GAAA,CAAA,CAAA;IAAA,CAC3B;IAEO,OAAA,SAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 4508, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4514, "column": 0}, "map": {"version":3,"file":"generateParticleUpdateFunction.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/shared/utils/generateParticleUpdateFunction.ts"],"sourcesContent":["import {\n    getAttributeInfoFromFormat\n} from '../../../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat';\n\nimport type { IParticle } from '../Particle';\nimport type { ParticleRendererProperty } from '../particleData';\n\n// TODO rename to update function\nexport type ParticleUpdateFunction = (ps: IParticle[], f32v: Float32Array, u32v: Uint32Array) => void;\n\nexport function generateParticleUpdateFunction(properties: Record<string, ParticleRendererProperty>)\n{\n    return {\n        dynamicUpdate: generateUpdateFunction(properties, true),\n        staticUpdate: generateUpdateFunction(properties, false),\n    };\n}\n\nfunction generateUpdateFunction(\n    properties: Record<string, ParticleRendererProperty>,\n    dynamic: boolean\n): ParticleUpdateFunction\n{\n    const funcFragments: string[] = [];\n\n    funcFragments.push(`\n      \n        var index = 0;\n\n        for (let i = 0; i < ps.length; ++i)\n        {\n            const p = ps[i];\n\n            `);\n\n    let offset = 0;\n\n    for (const i in properties)\n    {\n        const property = properties[i];\n\n        if (dynamic !== property.dynamic) continue;\n\n        funcFragments.push(`offset = index + ${offset}`);\n\n        funcFragments.push(property.code);\n\n        const attributeInfo = getAttributeInfoFromFormat(property.format);\n\n        offset += attributeInfo.stride / 4;\n    }\n\n    funcFragments.push(`\n            index += stride * 4;\n        }\n    `);\n\n    // add to the front..\n    funcFragments.unshift(`\n        var stride = ${offset};\n    `);\n\n    const functionSource = funcFragments.join('\\n');\n\n    // eslint-disable-next-line no-new-func\n    return new Function('ps', 'f32v', 'u32v', functionSource) as ParticleUpdateFunction;\n}\n"],"names":[],"mappings":";;;;;;AAUO,SAAS,+BAA+B,UAC/C,EAAA;IACW,OAAA;QACH,aAAA,EAAe,sBAAuB,CAAA,UAAA,EAAY,IAAI,CAAA;QACtD,YAAA,EAAc,sBAAuB,CAAA,UAAA,EAAY,KAAK,CAAA;IAAA,CAC1D,CAAA;AACJ,CAAA;AAEA,SAAS,sBAAA,CACL,UAAA,EACA,OAEJ,EAAA;IACI,MAAM,gBAA0B,EAAC,CAAA;IAEjC,aAAA,CAAc,IAAK,CAAA,CAAA;;;;;;;;YAQV,CAAA,CAAA,CAAA;IAET,IAAI,MAAS,GAAA,CAAA,CAAA;IAEb,IAAA,MAAW,KAAK,UAChB,CAAA;QACU,MAAA,QAAA,GAAW,UAAA,CAAW,CAAC,CAAA,CAAA;QAE7B,IAAI,YAAY,QAAS,CAAA,OAAA,EAAS,SAAA;QAEpB,aAAA,CAAA,IAAA,CAAK,CAAoB,iBAAA,EAAA,MAAM,CAAE,CAAA,CAAA,CAAA;QAEjC,aAAA,CAAA,IAAA,CAAK,SAAS,IAAI,CAAA,CAAA;QAE1B,MAAA,aAAA,oOAAgB,6BAAA,AAA2B,EAAA,QAAA,CAAS,MAAM,CAAA,CAAA;QAEhE,MAAA,IAAU,cAAc,MAAS,GAAA,CAAA,CAAA;IAAA,CACrC;IAEA,aAAA,CAAc,IAAK,CAAA,CAAA;;;IAGlB,CAAA,CAAA,CAAA;IAGD,aAAA,CAAc,OAAQ,CAAA,CAAA;qBAAA,EACH,MAAM,CAAA;IACxB,CAAA,CAAA,CAAA;IAEK,MAAA,cAAA,GAAiB,aAAc,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;IAG9C,OAAO,IAAI,QAAA,CAAS,IAAM,EAAA,MAAA,EAAQ,QAAQ,cAAc,CAAA,CAAA;AAC5D","ignoreList":[0]}},
    {"offset": {"line": 4558, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4564, "column": 0}, "map": {"version":3,"file":"ParticleBuffer.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/shared/ParticleBuffer.ts"],"sourcesContent":["import { Buffer } from '../../../rendering/renderers/shared/buffer/Buffer';\nimport { BufferUsage } from '../../../rendering/renderers/shared/buffer/const';\nimport { Geometry } from '../../../rendering/renderers/shared/geometry/Geometry';\nimport { getAttributeInfoFromFormat } from '../../../rendering/renderers/shared/geometry/utils/getAttributeInfoFromFormat';\nimport { ViewableBuffer } from '../../../utils/data/ViewableBuffer';\nimport { createIndicesForQuads } from './utils/createIndicesForQuads';\nimport { generateParticleUpdateFunction } from './utils/generateParticleUpdateFunction';\n\nimport type { IndexBufferArray } from '../../../rendering/renderers/shared/geometry/Geometry';\nimport type { IParticle } from './Particle';\nimport type { ParticleRendererProperty } from './particleData';\nimport type { ParticleUpdateFunction } from './utils/generateParticleUpdateFunction';\n\n/**\n * Options for creating a ParticleBuffer.\n * @property {number} size - The size of the particle buffer.\n * @property {Record<string, ParticleRendererProperty>} properties - A record of attributes that the particle container uses.\n */\nexport interface ParticleBufferOptions\n{\n    size: number;\n    properties: Record<string, ParticleRendererProperty>;\n}\n\n/**\n * The ParticleBuffer holds the buffers and geometry for a particle container.\n * It also contains the upload functions for the static and dynamic properties.\n * @internal\n */\nexport class ParticleBuffer\n{\n    /** The buffer containing static attribute data for all elements in the batch. */\n    public staticAttributeBuffer: ViewableBuffer;\n    /** The buffer containing dynamic attribute data for all elements in the batch. */\n    public dynamicAttributeBuffer: ViewableBuffer;\n\n    private readonly _staticBuffer: Buffer;\n    private readonly _dynamicBuffer: Buffer;\n\n    /** The buffer containing index data for all elements in the batch. */\n    public indexBuffer: IndexBufferArray;\n\n    private readonly _dynamicStride: number;\n    private readonly _staticStride: number;\n\n    /** The geometry of the particle buffer. */\n    public readonly geometry: Geometry;\n\n    private _size = 0;\n    private readonly _dynamicUpload: ParticleUpdateFunction;\n    private readonly _staticUpload: ParticleUpdateFunction;\n    private readonly _generateParticleUpdateCache: Record<string, {\n        dynamicUpdate: ParticleUpdateFunction;\n        staticUpdate: ParticleUpdateFunction;\n    }> = {};\n\n    constructor(options: ParticleBufferOptions)\n    {\n        // size in sprites!\n        const size = this._size = options.size ?? 1000;\n\n        // TODO add the option to specify what is dynamic!\n        const properties = options.properties;\n\n        // in bytes!\n        let staticVertexSize = 0;\n        let dynamicVertexSize = 0;\n\n        for (const i in properties)\n        {\n            const property = properties[i];\n            const attributeInfo = getAttributeInfoFromFormat(property.format);\n\n            if (property.dynamic)\n            {\n                // dynamic.\n                dynamicVertexSize += attributeInfo.stride;\n            }\n            else\n            {\n                // static.\n                staticVertexSize += attributeInfo.stride;\n            }\n        }\n\n        this._dynamicStride = dynamicVertexSize / 4;\n        this._staticStride = staticVertexSize / 4;\n\n        this.staticAttributeBuffer = new ViewableBuffer(size * 4 * staticVertexSize);\n        this.dynamicAttributeBuffer = new ViewableBuffer(size * 4 * dynamicVertexSize);\n\n        this.indexBuffer = createIndicesForQuads(size);\n\n        // build geometry..\n\n        const geometry = new Geometry();\n\n        let dynamicOffset = 0;\n        let staticOffset = 0;\n\n        this._staticBuffer = new Buffer({\n            data: new Float32Array(1),\n            label: 'static-particle-buffer',\n            shrinkToFit: false,\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n        });\n\n        this._dynamicBuffer = new Buffer({\n            data: new Float32Array(1),\n            label: 'dynamic-particle-buffer',\n            shrinkToFit: false,\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST\n        });\n\n        for (const i in properties)\n        {\n            const property = properties[i];\n            const attributeInfo = getAttributeInfoFromFormat(property.format);\n\n            if (property.dynamic)\n            {\n                geometry.addAttribute(property.attributeName, {\n                    buffer: this._dynamicBuffer,\n                    stride: this._dynamicStride * 4,\n                    offset: dynamicOffset * 4,\n                    format: property.format,\n                });\n                dynamicOffset += attributeInfo.size;\n            }\n            else\n            {\n                geometry.addAttribute(property.attributeName, {\n                    buffer: this._staticBuffer,\n                    stride: this._staticStride * 4,\n                    offset: staticOffset * 4,\n                    format: property.format,\n                });\n                staticOffset += attributeInfo.size;\n            }\n        }\n\n        geometry.addIndex(this.indexBuffer);\n\n        const uploadFunction = this.getParticleUpdate(properties);\n\n        this._dynamicUpload = uploadFunction.dynamicUpdate;\n        this._staticUpload = uploadFunction.staticUpdate;\n\n        this.geometry = geometry;\n    }\n\n    public getParticleUpdate(properties: Record<string, ParticleRendererProperty>)\n    {\n        const key = getParticleSyncKey(properties);\n\n        if (this._generateParticleUpdateCache[key])\n        {\n            return this._generateParticleUpdateCache[key];\n        }\n\n        this._generateParticleUpdateCache[key] = this.generateParticleUpdate(properties);\n\n        return this._generateParticleUpdateCache[key];\n    }\n\n    public generateParticleUpdate(properties: Record<string, ParticleRendererProperty>)\n    {\n        return generateParticleUpdateFunction(properties);\n    }\n\n    public update(particles: IParticle[], uploadStatic: boolean)\n    {\n        // first resize the buffers if needed!\n        // TODO resize!\n        if (particles.length > this._size)\n        {\n            uploadStatic = true;\n\n            this._size = Math.max(particles.length, (this._size * 1.5) | 0);\n\n            this.staticAttributeBuffer = new ViewableBuffer(this._size * this._staticStride * 4 * 4);\n            this.dynamicAttributeBuffer = new ViewableBuffer(this._size * this._dynamicStride * 4 * 4);\n            this.indexBuffer = createIndicesForQuads(this._size);\n\n            this.geometry.indexBuffer.setDataWithSize(\n                this.indexBuffer, this.indexBuffer.byteLength, true);\n        }\n\n        const dynamicAttributeBuffer = this.dynamicAttributeBuffer;\n\n        this._dynamicUpload(particles, dynamicAttributeBuffer.float32View, dynamicAttributeBuffer.uint32View);\n\n        this._dynamicBuffer.setDataWithSize(\n            this.dynamicAttributeBuffer.float32View, particles.length * this._dynamicStride * 4, true);\n\n        if (uploadStatic)\n        {\n            const staticAttributeBuffer = this.staticAttributeBuffer;\n\n            this._staticUpload(particles, staticAttributeBuffer.float32View, staticAttributeBuffer.uint32View);\n\n            this._staticBuffer.setDataWithSize(\n                staticAttributeBuffer.float32View, particles.length * this._staticStride * 4, true);\n        }\n    }\n\n    public destroy()\n    {\n        this._staticBuffer.destroy();\n        this._dynamicBuffer.destroy();\n        this.geometry.destroy();\n    }\n}\n\nfunction getParticleSyncKey(properties: Record<string, ParticleRendererProperty>)\n{\n    const keyGen: string[] = [];\n\n    for (const key in properties)\n    {\n        const property = properties[key];\n\n        keyGen.push(key, property.code, property.dynamic ? 'd' : 's');\n    }\n\n    return keyGen.join('_');\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4691, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4697, "column": 0}, "map": {"version":3,"file":"ParticleContainerPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/shared/ParticleContainerPipe.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { getAdjustedBlendModeBlend } from '../../../rendering/renderers/shared/state/getAdjustedBlendModeBlend';\nimport { State } from '../../../rendering/renderers/shared/state/State';\nimport { color32BitToUniform } from '../../graphics/gpu/colorToUniform';\nimport { ParticleBuffer } from './ParticleBuffer';\nimport { ParticleShader } from './shader/ParticleShader';\n\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { Container } from '../../container/Container';\nimport type { ParticleContainer } from './ParticleContainer';\n\nexport interface ParticleContainerAdaptor\n{\n    execute(particleContainerPop: ParticleContainerPipe, container: ParticleContainer): void;\n}\n\n/**\n * Renderer for Particles that is designer for speed over feature set.\n * @memberof scene\n */\nexport class ParticleContainerPipe implements RenderPipe<ParticleContainer>\n{\n    /** The default shader that is used if a sprite doesn't have a more specific one. */\n    public defaultShader: Shader;\n\n    public adaptor: ParticleContainerAdaptor;\n    public readonly state = State.for2d();\n    public readonly renderer: Renderer;\n\n    private _gpuBufferHash: Record<number, ParticleBuffer> = Object.create(null);\n    // eslint-disable-next-line max-len\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as unknown as (renderable: Container) => void;\n\n    public readonly localUniforms = new UniformGroup({\n        uTranslationMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n        uColor: { value: new Float32Array(4), type: 'vec4<f32>' },\n        uRound: { value: 1, type: 'f32' },\n        uResolution: { value: [0, 0], type: 'vec2<f32>' },\n    });\n\n    /**\n     * @param renderer - The renderer this sprite batch works for.\n     * @param adaptor\n     */\n    constructor(renderer: Renderer, adaptor: ParticleContainerAdaptor)\n    {\n        this.renderer = renderer;\n\n        this.adaptor = adaptor;\n\n        this.defaultShader = new ParticleShader();\n\n        this.state = State.for2d();\n    }\n\n    public validateRenderable(_renderable: ParticleContainer): boolean\n    {\n        // always fine :D\n        return false;\n    }\n\n    public addRenderable(renderable: ParticleContainer, instructionSet: InstructionSet)\n    {\n        this.renderer.renderPipes.batch.break(instructionSet);\n        instructionSet.add(renderable);\n    }\n\n    public getBuffers(renderable: ParticleContainer): ParticleBuffer\n    {\n        return this._gpuBufferHash[renderable.uid] || this._initBuffer(renderable);\n    }\n\n    private _initBuffer(renderable: ParticleContainer): ParticleBuffer\n    {\n        this._gpuBufferHash[renderable.uid] = new ParticleBuffer({\n            size: renderable.particleChildren.length,\n            properties: renderable._properties,\n        });\n\n        renderable.on('destroyed', this._destroyRenderableBound);\n\n        return this._gpuBufferHash[renderable.uid];\n    }\n\n    public updateRenderable(_renderable: ParticleContainer)\n    {\n        // nothing to be done here!\n\n    }\n\n    public destroyRenderable(renderable: ParticleContainer)\n    {\n        const buffer = this._gpuBufferHash[renderable.uid];\n\n        buffer.destroy();\n\n        this._gpuBufferHash[renderable.uid] = null;\n\n        renderable.off('destroyed', this._destroyRenderableBound);\n    }\n\n    public execute(container: ParticleContainer): void\n    {\n        const children = container.particleChildren;\n\n        if (children.length === 0)\n        {\n            return;\n        }\n\n        const renderer = this.renderer;\n        const buffer = this.getBuffers(container);\n\n        container.texture ||= children[0].texture;\n\n        const state = this.state;\n\n        buffer.update(children, container._childrenDirty);\n        container._childrenDirty = false;\n\n        state.blendMode = getAdjustedBlendModeBlend(container.blendMode, container.texture._source);\n\n        const uniforms = this.localUniforms.uniforms;\n\n        const transformationMatrix = uniforms.uTranslationMatrix;\n\n        container.worldTransform.copyTo(transformationMatrix);\n\n        transformationMatrix.prepend(renderer.globalUniforms.globalUniformData.projectionMatrix);\n\n        uniforms.uResolution = renderer.globalUniforms.globalUniformData.resolution;\n        uniforms.uRound = renderer._roundPixels | container._roundPixels;\n\n        color32BitToUniform(\n            container.groupColorAlpha,\n            uniforms.uColor,\n            0\n        );\n\n        this.adaptor.execute(this, container);\n    }\n\n    /** Destroys the ParticleRenderer. */\n    public destroy(): void\n    {\n        if (this.defaultShader)\n        {\n            this.defaultShader.destroy();\n            this.defaultShader = null;\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 4805, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4811, "column": 0}, "map": {"version":3,"file":"GlParticleContainerPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/shared/GlParticleContainerPipe.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\nimport { GlParticleContainerAdaptor } from '../gl/GlParticleContainerAdaptor';\nimport { ParticleContainerPipe } from './ParticleContainerPipe';\n\nimport type { WebGLRenderer } from '../../../rendering/renderers/gl/WebGLRenderer';\n\nexport class GlParticleContainerPipe extends ParticleContainerPipe\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n        ],\n        name: 'particle',\n    } as const;\n\n    constructor(renderer: WebGLRenderer)\n    {\n        super(renderer, new GlParticleContainerAdaptor());\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAMO,MAAM,2OAAgC,wBAC7C,CAAA;IASI,YAAY,QACZ,CAAA;QACU,KAAA,CAAA,QAAA,EAAU,IAAI,yOAAA,EAA4B,CAAA,CAAA;IAAA,CACpD;AACJ,CAAA;AAAA,YAAA,GAda,uBAAA,CAGK,SAAY,GAAA;IACtB,IAAM,EAAA;0KACF,gBAAc,CAAA,UAAA;KAClB;IACA,IAAM,EAAA,UAAA;AACV,CAAA","ignoreList":[0]}},
    {"offset": {"line": 4834, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4840, "column": 0}, "map": {"version":3,"file":"GpuParticleContainerAdaptor.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/gpu/GpuParticleContainerAdaptor.ts"],"sourcesContent":["import type { WebGPURenderer } from '../../../rendering/renderers/gpu/WebGPURenderer';\nimport type { ParticleContainer } from '../shared/ParticleContainer';\nimport type { ParticleContainerAdaptor, ParticleContainerPipe } from '../shared/ParticleContainerPipe';\n\nexport class GpuParticleContainerAdaptor implements ParticleContainerAdaptor\n{\n    public execute(particleContainerPipe: ParticleContainerPipe, container: ParticleContainer)\n    {\n        const renderer = particleContainerPipe.renderer as WebGPURenderer;\n\n        const shader = container.shader || particleContainerPipe.defaultShader;\n\n        shader.groups[0] = renderer.renderPipes.uniformBatch.getUniformBindGroup(particleContainerPipe.localUniforms, true);\n\n        shader.groups[1] = renderer.texture.getTextureBindGroup(container.texture);\n\n        const state = particleContainerPipe.state;\n\n        const buffer = particleContainerPipe.getBuffers(container);\n\n        renderer.encoder.draw({\n            geometry: buffer.geometry,\n            shader: container.shader || particleContainerPipe.defaultShader,\n            state,\n            size: container.particleChildren.length * 6,\n        });\n    }\n}\n"],"names":[],"mappings":";;;;AAIO,MAAM,2BACb,CAAA;IACW,OAAA,CAAQ,qBAAA,EAA8C,SAC7D,EAAA;QACI,MAAM,WAAW,qBAAsB,CAAA,QAAA,CAAA;QAEjC,MAAA,MAAA,GAAS,SAAU,CAAA,MAAA,IAAU,qBAAsB,CAAA,aAAA,CAAA;QAElD,MAAA,CAAA,MAAA,CAAO,CAAC,CAAI,GAAA,QAAA,CAAS,WAAA,CAAY,YAAa,CAAA,mBAAA,CAAoB,qBAAsB,CAAA,aAAA,EAAe,IAAI,CAAA,CAAA;QAElH,MAAA,CAAO,MAAA,CAAO,CAAC,CAAA,GAAI,SAAS,OAAQ,CAAA,mBAAA,CAAoB,UAAU,OAAO,CAAA,CAAA;QAEzE,MAAM,QAAQ,qBAAsB,CAAA,KAAA,CAAA;QAE9B,MAAA,MAAA,GAAS,qBAAsB,CAAA,UAAA,CAAW,SAAS,CAAA,CAAA;QAEzD,QAAA,CAAS,OAAA,CAAQ,IAAK,CAAA;YAClB,UAAU,MAAO,CAAA,QAAA;YACjB,MAAA,EAAQ,SAAU,CAAA,MAAA,IAAU,qBAAsB,CAAA,aAAA;YAClD,KAAA;YACA,IAAA,EAAM,SAAU,CAAA,gBAAA,CAAiB,MAAS,GAAA,CAAA;QAAA,CAC7C,CAAA,CAAA;IAAA,CACL;AACJ","ignoreList":[0]}},
    {"offset": {"line": 4862, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4868, "column": 0}, "map": {"version":3,"file":"GpuParticleContainerPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/shared/GpuParticleContainerPipe.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\nimport { GpuParticleContainerAdaptor } from '../gpu/GpuParticleContainerAdaptor';\nimport { ParticleContainerPipe } from './ParticleContainerPipe';\n\nimport type { WebGPURenderer } from '../../../rendering/renderers/gpu/WebGPURenderer';\n\nexport class GpuParticleContainerPipe extends ParticleContainerPipe\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGPUPipes,\n        ],\n        name: 'particle',\n    } as const;\n\n    constructor(renderer: WebGPURenderer)\n    {\n        super(renderer, new GpuParticleContainerAdaptor());\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAMO,MAAM,4OAAiC,wBAC9C,CAAA;IASI,YAAY,QACZ,CAAA;QACU,KAAA,CAAA,QAAA,EAAU,IAAI,4OAAA,EAA6B,CAAA,CAAA;IAAA,CACrD;AACJ,CAAA;AAAA,YAAA,GAda,wBAAA,CAGK,SAAY,GAAA;IACtB,IAAM,EAAA;0KACF,gBAAc,CAAA,WAAA;KAClB;IACA,IAAM,EAAA,UAAA;AACV,CAAA","ignoreList":[0]}},
    {"offset": {"line": 4891, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4897, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/particle-container/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { GlParticleContainerPipe } from './shared/GlParticleContainerPipe';\nimport { GpuParticleContainerPipe } from './shared/GpuParticleContainerPipe';\n\n// NOTE: this is the first occurrence of needing both gl and gpu pipes in the same file\n// This could cause some issues with tree shaking in the future.\n// Right now these two files do not import anything specific for a renderer, so is not an issue for now.\nextensions.add(GlParticleContainerPipe);\nextensions.add(GpuParticleContainerPipe);\n"],"names":[],"mappings":";;;;;;;;kKAOA,aAAA,CAAW,GAAA,8MAAI,0BAAuB,CAAA,CAAA;kKACtC,aAAA,CAAW,GAAA,+MAAI,2BAAwB,CAAA","ignoreList":[0]}},
    {"offset": {"line": 4907, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4913, "column": 0}, "map": {"version":3,"file":"fontStringFromTextStyle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/canvas/utils/fontStringFromTextStyle.ts"],"sourcesContent":["import type { TextStyle } from '../../TextStyle';\n\nconst genericFontFamilies = [\n    'serif',\n    'sans-serif',\n    'monospace',\n    'cursive',\n    'fantasy',\n    'system-ui',\n];\n\n/**\n * Generates a font style string to use for `TextMetrics.measureFont()`.\n * @param style\n * @returns Font style string, for passing to `TextMetrics.measureFont()`\n */\nexport function fontStringFromTextStyle(style: TextStyle): string\n{\n    // build canvas api font setting from individual components. Convert a numeric style.fontSize to px\n    const fontSizeString = (typeof style.fontSize === 'number') ? `${style.fontSize}px` : style.fontSize;\n\n    // Clean-up fontFamily property by quoting each font name\n    // this will support font names with spaces\n    let fontFamilies: string | string[] = style.fontFamily;\n\n    if (!Array.isArray(style.fontFamily))\n    {\n        fontFamilies = style.fontFamily.split(',');\n    }\n\n    for (let i = fontFamilies.length - 1; i >= 0; i--)\n    {\n        // Trim any extra white-space\n        let fontFamily = fontFamilies[i].trim();\n\n        // Check if font already contains strings\n        if (!(/([\\\"\\'])[^\\'\\\"]+\\1/).test(fontFamily) && !genericFontFamilies.includes(fontFamily))\n        {\n            fontFamily = `\"${fontFamily}\"`;\n        }\n        (fontFamilies as string[])[i] = fontFamily;\n    }\n\n    // eslint-disable-next-line max-len\n    return `${style.fontStyle} ${style.fontVariant} ${style.fontWeight} ${fontSizeString} ${(fontFamilies as string[]).join(',')}`;\n}\n"],"names":[],"mappings":";;;;AAEA,MAAM,mBAAsB,GAAA;IACxB,OAAA;IACA,YAAA;IACA,WAAA;IACA,SAAA;IACA,SAAA;IACA,WAAA;CACJ,CAAA;AAOO,SAAS,wBAAwB,KACxC,EAAA;IAEU,MAAA,cAAA,GAAkB,OAAO,KAAM,CAAA,QAAA,KAAa,WAAY,CAAG,EAAA,KAAA,CAAM,QAAQ,CAAA,EAAA,CAAA,GAAO,KAAM,CAAA,QAAA,CAAA;IAI5F,IAAI,eAAkC,KAAM,CAAA,UAAA,CAAA;IAE5C,IAAI,CAAC,KAAA,CAAM,OAAQ,CAAA,KAAA,CAAM,UAAU,CACnC,EAAA;QACmB,YAAA,GAAA,KAAA,CAAM,UAAW,CAAA,KAAA,CAAM,GAAG,CAAA,CAAA;IAAA,CAC7C;IAEA,IAAA,IAAS,IAAI,YAAa,CAAA,MAAA,GAAS,CAAG,EAAA,CAAA,IAAK,GAAG,CAC9C,EAAA,CAAA;QAEI,IAAI,UAAa,GAAA,YAAA,CAAa,CAAC,CAAA,CAAE,IAAK,EAAA,CAAA;QAGlC,IAAA,CAAE,qBAAsB,IAAK,CAAA,UAAU,KAAK,CAAC,mBAAA,CAAoB,QAAS,CAAA,UAAU,CACxF,EAAA;YACI,UAAA,GAAa,CAAA,CAAA,EAAI,UAAU,CAAA,CAAA,CAAA,CAAA;QAAA,CAC/B;QACC,YAAA,CAA0B,CAAC,CAAI,GAAA,UAAA,CAAA;IAAA,CACpC;IAGA,OAAO,CAAG,EAAA,KAAA,CAAM,SAAS,CAAA,CAAA,EAAI,MAAM,WAAW,CAAA,CAAA,EAAI,KAAM,CAAA,UAAU,CAAA,CAAA,EAAI,cAAc,CAAA,CAAA,EAAK,YAA0B,CAAA,IAAA,CAAK,GAAG,CAAC,CAAA,CAAA,CAAA;AAChI","ignoreList":[0]}},
    {"offset": {"line": 4942, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4948, "column": 0}, "map": {"version":3,"file":"CanvasTextMetrics.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/canvas/CanvasTextMetrics.ts"],"sourcesContent":["import { DOMAdapter } from '../../../environment/adapter';\nimport { fontStringFromTextStyle } from './utils/fontStringFromTextStyle';\n\nimport type { ICanvas, ICanvasRenderingContext2DSettings } from '../../../environment/canvas/ICanvas';\nimport type { ICanvasRenderingContext2D } from '../../../environment/canvas/ICanvasRenderingContext2D';\nimport type { TextStyle, TextStyleWhiteSpace } from '../TextStyle';\n\n// The type for Intl.Segmenter is only available since TypeScript 4.7.2, so let's make a polyfill for it.\ninterface ISegmentData\n{\n    segment: string;\n}\ninterface ISegments\n{\n    [Symbol.iterator](): IterableIterator<ISegmentData>;\n}\ninterface ISegmenter\n{\n    segment(input: string): ISegments;\n}\ninterface IIntl\n{\n    Segmenter?: {\n        prototype: ISegmenter;\n        new(): ISegmenter;\n    };\n}\n\n/**\n * A number, or a string containing a number.\n * @memberof text\n * @typedef {object} FontMetrics\n * @property {number} ascent - Font ascent\n * @property {number} descent - Font descent\n * @property {number} fontSize - Font size\n */\nexport interface FontMetrics\n{\n    ascent: number;\n    descent: number;\n    fontSize: number;\n}\n\ntype CharacterWidthCache = Record<string, number>;\n\n// Default settings used for all getContext calls\nconst contextSettings: ICanvasRenderingContext2DSettings = {\n    // TextMetrics requires getImageData readback for measuring fonts.\n    willReadFrequently: true,\n};\n\n/**\n * The TextMetrics object represents the measurement of a block of text with a specified style.\n * @example\n * import { TextMetrics, TextStyle } from 'pixi.js';\n *\n * const style = new TextStyle({\n *     fontFamily: 'Arial',\n *     fontSize: 24,\n *     fill: 0xff1010,\n *     align: 'center',\n * });\n * const textMetrics = TextMetrics.measureText('Your text', style);\n * @memberof text\n */\nexport class CanvasTextMetrics\n{\n    /** The text that was measured. */\n    public text: string;\n\n    /** The style that was measured. */\n    public style: TextStyle;\n\n    /** The measured width of the text. */\n    public width: number;\n\n    /** The measured height of the text. */\n    public height: number;\n\n    /** An array of lines of the text broken by new lines and wrapping is specified in style. */\n    public lines: string[];\n\n    /** An array of the line widths for each line matched to `lines`. */\n    public lineWidths: number[];\n\n    /** The measured line height for this style. */\n    public lineHeight: number;\n\n    /** The maximum line width for all measured lines. */\n    public maxLineWidth: number;\n\n    /** The font properties object from TextMetrics.measureFont. */\n    public fontProperties: FontMetrics;\n\n    /**\n     * String used for calculate font metrics.\n     * These characters are all tall to help calculate the height required for text.\n     */\n    public static METRICS_STRING = '|ÉqÅ';\n\n    /** Baseline symbol for calculate font metrics. */\n    public static BASELINE_SYMBOL = 'M';\n\n    /** Baseline multiplier for calculate font metrics. */\n    public static BASELINE_MULTIPLIER = 1.4;\n\n    /** Height multiplier for setting height of canvas to calculate font metrics. */\n    public static HEIGHT_MULTIPLIER = 2.0;\n\n    /**\n     * A Unicode \"character\", or \"grapheme cluster\", can be composed of multiple Unicode code points,\n     * such as letters with diacritical marks (e.g. `'\\u0065\\u0301'`, letter e with acute)\n     * or emojis with modifiers (e.g. `'\\uD83E\\uDDD1\\u200D\\uD83D\\uDCBB'`, technologist).\n     * The new `Intl.Segmenter` API in ES2022 can split the string into grapheme clusters correctly. If it is not available,\n     * PixiJS will fallback to use the iterator of String, which can only spilt the string into code points.\n     * If you want to get full functionality in environments that don't support `Intl.Segmenter` (such as Firefox),\n     * you can use other libraries such as [grapheme-splitter]{@link https://www.npmjs.com/package/grapheme-splitter}\n     * or [graphemer]{@link https://www.npmjs.com/package/graphemer} to create a polyfill. Since these libraries can be\n     * relatively large in size to handle various Unicode grapheme clusters properly, PixiJS won't use them directly.\n     */\n    public static graphemeSegmenter: (s: string) => string[] = (() =>\n    {\n        if (typeof (Intl as IIntl)?.Segmenter === 'function')\n        {\n            const segmenter = new (Intl as IIntl).Segmenter();\n\n            return (s: string) => [...segmenter.segment(s)].map((x) => x.segment);\n        }\n\n        return (s: string) => [...s];\n    })();\n\n    public static _experimentalLetterSpacingSupported?: boolean;\n\n    /**\n     * Checking that we can use modern canvas 2D API.\n     *\n     * Note: This is an unstable API, Chrome < 94 use `textLetterSpacing`, later versions use `letterSpacing`.\n     * @see TextMetrics.experimentalLetterSpacing\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/ICanvasRenderingContext2D/letterSpacing\n     * @see https://developer.chrome.com/origintrials/#/view_trial/3585991203293757441\n     */\n    public static get experimentalLetterSpacingSupported(): boolean\n    {\n        let result = CanvasTextMetrics._experimentalLetterSpacingSupported;\n\n        if (result !== undefined)\n        {\n            const proto = DOMAdapter.get().getCanvasRenderingContext2D().prototype;\n\n            result\n                = CanvasTextMetrics._experimentalLetterSpacingSupported\n                = 'letterSpacing' in proto || 'textLetterSpacing' in proto;\n        }\n\n        return result;\n    }\n\n    /**\n     * New rendering behavior for letter-spacing which uses Chrome's new native API. This will\n     * lead to more accurate letter-spacing results because it does not try to manually draw\n     * each character. However, this Chrome API is experimental and may not serve all cases yet.\n     * @see TextMetrics.experimentalLetterSpacingSupported\n     */\n    public static experimentalLetterSpacing = false;\n\n    /** Cache of {@see TextMetrics.FontMetrics} objects. */\n    private static _fonts: Record<string, FontMetrics> = {};\n\n    /** Cache of new line chars. */\n    private static readonly _newlines: number[] = [\n        0x000A, // line feed\n        0x000D, // carriage return\n    ];\n\n    /** Cache of breaking spaces. */\n    private static readonly _breakingSpaces: number[] = [\n        0x0009, // character tabulation\n        0x0020, // space\n        0x2000, // en quad\n        0x2001, // em quad\n        0x2002, // en space\n        0x2003, // em space\n        0x2004, // three-per-em space\n        0x2005, // four-per-em space\n        0x2006, // six-per-em space\n        0x2008, // punctuation space\n        0x2009, // thin space\n        0x200A, // hair space\n        0x205F, // medium mathematical space\n        0x3000, // ideographic space\n    ];\n\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    private static __canvas: ICanvas;\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    private static __context: ICanvasRenderingContext2D;\n\n    private static readonly _measurementCache: Record<string, CanvasTextMetrics> = {};\n\n    /**\n     * @param text - the text that was measured\n     * @param style - the style that was measured\n     * @param width - the measured width of the text\n     * @param height - the measured height of the text\n     * @param lines - an array of the lines of text broken by new lines and wrapping if specified in style\n     * @param lineWidths - an array of the line widths for each line matched to `lines`\n     * @param lineHeight - the measured line height for this style\n     * @param maxLineWidth - the maximum line width for all measured lines\n     * @param {FontMetrics} fontProperties - the font properties object from TextMetrics.measureFont\n     */\n    constructor(text: string, style: TextStyle, width: number, height: number, lines: string[], lineWidths: number[],\n        lineHeight: number, maxLineWidth: number, fontProperties: FontMetrics)\n    {\n        this.text = text;\n        this.style = style;\n        this.width = width;\n        this.height = height;\n        this.lines = lines;\n        this.lineWidths = lineWidths;\n        this.lineHeight = lineHeight;\n        this.maxLineWidth = maxLineWidth;\n        this.fontProperties = fontProperties;\n    }\n\n    /**\n     * Measures the supplied string of text and returns a Rectangle.\n     * @param text - The text to measure.\n     * @param style - The text style to use for measuring\n     * @param canvas - optional specification of the canvas to use for measuring.\n     * @param wordWrap\n     * @returns Measured width and height of the text.\n     */\n    public static measureText(\n        text = ' ',\n        style: TextStyle,\n        canvas: ICanvas = CanvasTextMetrics._canvas,\n        wordWrap: boolean = style.wordWrap,\n    ): CanvasTextMetrics\n    {\n        const textKey = `${text}:${style.styleKey}`;\n\n        // TODO - if we find this starts to go nuts with memory, we can remove the cache\n        // or instead just stick a usage tick that we increment each time we return it.\n        // if some are not used, we can just tidy them up!\n        if (CanvasTextMetrics._measurementCache[textKey]) return CanvasTextMetrics._measurementCache[textKey];\n\n        const font = fontStringFromTextStyle(style);\n        const fontProperties = CanvasTextMetrics.measureFont(font);\n\n        // fallback in case UA disallow canvas data extraction\n        if (fontProperties.fontSize === 0)\n        {\n            fontProperties.fontSize = style.fontSize as number;\n            fontProperties.ascent = style.fontSize as number;\n        }\n\n        const context = CanvasTextMetrics.__context; // canvas.getContext('2d', contextSettings);\n\n        context.font = font;\n\n        const outputText = wordWrap ? CanvasTextMetrics._wordWrap(text, style, canvas) : text;\n        const lines = outputText.split(/(?:\\r\\n|\\r|\\n)/);\n        const lineWidths = new Array<number>(lines.length);\n        let maxLineWidth = 0;\n\n        for (let i = 0; i < lines.length; i++)\n        {\n            const lineWidth = CanvasTextMetrics._measureText(lines[i], style.letterSpacing, context);\n\n            lineWidths[i] = lineWidth;\n            maxLineWidth = Math.max(maxLineWidth, lineWidth);\n        }\n\n        const strokeWidth = style._stroke?.width || 0;\n\n        let width = maxLineWidth + strokeWidth;\n\n        if (style.dropShadow)\n        {\n            width += style.dropShadow.distance;\n        }\n\n        const lineHeight = style.lineHeight || fontProperties.fontSize;\n\n        let height = Math.max(lineHeight, fontProperties.fontSize + (strokeWidth))\n            + ((lines.length - 1) * (lineHeight + style.leading));\n\n        if (style.dropShadow)\n        {\n            height += style.dropShadow.distance;\n        }\n\n        const measurements = new CanvasTextMetrics(\n            text,\n            style,\n            width,\n            height,\n            lines,\n            lineWidths,\n            lineHeight + style.leading,\n            maxLineWidth,\n            fontProperties\n        );\n\n        // CanvasTextMetrics._measurementCache[textKey] = measurements;\n\n        return measurements;\n    }\n\n    private static _measureText(\n        text: string,\n        letterSpacing: number,\n        context: ICanvasRenderingContext2D\n    )\n    {\n        let useExperimentalLetterSpacing = false;\n\n        if (CanvasTextMetrics.experimentalLetterSpacingSupported)\n        {\n            if (CanvasTextMetrics.experimentalLetterSpacing)\n            {\n                context.letterSpacing = `${letterSpacing}px`;\n                context.textLetterSpacing = `${letterSpacing}px`;\n                useExperimentalLetterSpacing = true;\n            }\n            else\n            {\n                context.letterSpacing = '0px';\n                context.textLetterSpacing = '0px';\n            }\n        }\n\n        const metrics = context.measureText(text);\n        let metricWidth = metrics.width;\n        const actualBoundingBoxLeft = -metrics.actualBoundingBoxLeft;\n        const actualBoundingBoxRight = metrics.actualBoundingBoxRight;\n        let boundsWidth = actualBoundingBoxRight - actualBoundingBoxLeft;\n\n        if (metricWidth > 0)\n        {\n            if (useExperimentalLetterSpacing)\n            {\n                metricWidth -= letterSpacing;\n                boundsWidth -= letterSpacing;\n            }\n            else\n            {\n                const val = (CanvasTextMetrics.graphemeSegmenter(text).length - 1) * letterSpacing;\n\n                metricWidth += val;\n                boundsWidth += val;\n            }\n        }\n\n        // NOTE: this is a bit of a hack as metrics.width and the bounding box width do not measure the same thing\n        // We can't seem to exclusively use one or the other, so are taking the largest of the two\n        return Math.max(metricWidth, boundsWidth);\n    }\n\n    /**\n     * Applies newlines to a string to have it optimally fit into the horizontal\n     * bounds set by the Text object's wordWrapWidth property.\n     * @param text - String to apply word wrapping to\n     * @param style - the style to use when wrapping\n     * @param canvas - optional specification of the canvas to use for measuring.\n     * @returns New string with new lines applied where required\n     */\n    private static _wordWrap(\n        text: string,\n        style: TextStyle,\n        canvas: ICanvas = CanvasTextMetrics._canvas\n    ): string\n    {\n        const context = canvas.getContext('2d', contextSettings);\n\n        let width = 0;\n        let line = '';\n        let lines = '';\n\n        const cache: CharacterWidthCache = Object.create(null);\n        const { letterSpacing, whiteSpace } = style;\n\n        // How to handle whitespaces\n        const collapseSpaces = CanvasTextMetrics._collapseSpaces(whiteSpace);\n        const collapseNewlines = CanvasTextMetrics._collapseNewlines(whiteSpace);\n\n        // whether or not spaces may be added to the beginning of lines\n        let canPrependSpaces = !collapseSpaces;\n\n        // There is letterSpacing after every char except the last one\n        // t_h_i_s_' '_i_s_' '_a_n_' '_e_x_a_m_p_l_e_' '_!\n        // so for convenience the above needs to be compared to width + 1 extra letterSpace\n        // t_h_i_s_' '_i_s_' '_a_n_' '_e_x_a_m_p_l_e_' '_!_\n        // ________________________________________________\n        // And then the final space is simply no appended to each line\n        const wordWrapWidth = style.wordWrapWidth + letterSpacing;\n\n        // break text into words, spaces and newline chars\n        const tokens = CanvasTextMetrics._tokenize(text);\n\n        for (let i = 0; i < tokens.length; i++)\n        {\n            // get the word, space or newlineChar\n            let token = tokens[i];\n\n            // if word is a new line\n            if (CanvasTextMetrics._isNewline(token))\n            {\n                // keep the new line\n                if (!collapseNewlines)\n                {\n                    lines += CanvasTextMetrics._addLine(line);\n                    canPrependSpaces = !collapseSpaces;\n                    line = '';\n                    width = 0;\n                    continue;\n                }\n\n                // if we should collapse new lines\n                // we simply convert it into a space\n                token = ' ';\n            }\n\n            // if we should collapse repeated whitespaces\n            if (collapseSpaces)\n            {\n                // check both this and the last tokens for spaces\n                const currIsBreakingSpace = CanvasTextMetrics.isBreakingSpace(token);\n                const lastIsBreakingSpace = CanvasTextMetrics.isBreakingSpace(line[line.length - 1]);\n\n                if (currIsBreakingSpace && lastIsBreakingSpace)\n                {\n                    continue;\n                }\n            }\n\n            // get word width from cache if possible\n            const tokenWidth = CanvasTextMetrics._getFromCache(token, letterSpacing, cache, context);\n\n            // word is longer than desired bounds\n            if (tokenWidth > wordWrapWidth)\n            {\n                // if we are not already at the beginning of a line\n                if (line !== '')\n                {\n                    // start newlines for overflow words\n                    lines += CanvasTextMetrics._addLine(line);\n                    line = '';\n                    width = 0;\n                }\n\n                // break large word over multiple lines\n                if (CanvasTextMetrics.canBreakWords(token, style.breakWords))\n                {\n                    // break word into characters\n                    const characters = CanvasTextMetrics.wordWrapSplit(token);\n\n                    // loop the characters\n                    for (let j = 0; j < characters.length; j++)\n                    {\n                        let char = characters[j];\n                        let lastChar = char;\n\n                        let k = 1;\n\n                        // we are not at the end of the token\n                        while (characters[j + k])\n                        {\n                            const nextChar = characters[j + k];\n\n                            // should not split chars\n                            if (!CanvasTextMetrics.canBreakChars(lastChar, nextChar, token, j, style.breakWords))\n                            {\n                                // combine chars & move forward one\n                                char += nextChar;\n                            }\n                            else\n                            {\n                                break;\n                            }\n\n                            lastChar = nextChar;\n                            k++;\n                        }\n\n                        j += k - 1;\n\n                        const characterWidth = CanvasTextMetrics._getFromCache(char, letterSpacing, cache, context);\n\n                        if (characterWidth + width > wordWrapWidth)\n                        {\n                            lines += CanvasTextMetrics._addLine(line);\n                            canPrependSpaces = false;\n                            line = '';\n                            width = 0;\n                        }\n\n                        line += char;\n                        width += characterWidth;\n                    }\n                }\n\n                // run word out of the bounds\n                else\n                {\n                    // if there are words in this line already\n                    // finish that line and start a new one\n                    if (line.length > 0)\n                    {\n                        lines += CanvasTextMetrics._addLine(line);\n                        line = '';\n                        width = 0;\n                    }\n\n                    const isLastToken = i === tokens.length - 1;\n\n                    // give it its own line if it's not the end\n                    lines += CanvasTextMetrics._addLine(token, !isLastToken);\n                    canPrependSpaces = false;\n                    line = '';\n                    width = 0;\n                }\n            }\n\n            // word could fit\n            else\n            {\n                // word won't fit because of existing words\n                // start a new line\n                if (tokenWidth + width > wordWrapWidth)\n                {\n                    // if its a space we don't want it\n                    canPrependSpaces = false;\n\n                    // add a new line\n                    lines += CanvasTextMetrics._addLine(line);\n\n                    // start a new line\n                    line = '';\n                    width = 0;\n                }\n\n                // don't add spaces to the beginning of lines\n                if (line.length > 0 || !CanvasTextMetrics.isBreakingSpace(token) || canPrependSpaces)\n                {\n                    // add the word to the current line\n                    line += token;\n\n                    // update width counter\n                    width += tokenWidth;\n                }\n            }\n        }\n\n        lines += CanvasTextMetrics._addLine(line, false);\n\n        return lines;\n    }\n\n    /**\n     * Convenience function for logging each line added during the wordWrap method.\n     * @param line    - The line of text to add\n     * @param newLine - Add new line character to end\n     * @returns A formatted line\n     */\n    private static _addLine(line: string, newLine = true): string\n    {\n        line = CanvasTextMetrics._trimRight(line);\n\n        line = (newLine) ? `${line}\\n` : line;\n\n        return line;\n    }\n\n    /**\n     * Gets & sets the widths of calculated characters in a cache object\n     * @param key            - The key\n     * @param letterSpacing  - The letter spacing\n     * @param cache          - The cache\n     * @param context        - The canvas context\n     * @returns The from cache.\n     */\n    private static _getFromCache(key: string, letterSpacing: number, cache: CharacterWidthCache,\n        context: ICanvasRenderingContext2D): number\n    {\n        let width = cache[key];\n\n        if (typeof width !== 'number')\n        {\n            width = CanvasTextMetrics._measureText(key, letterSpacing, context) + letterSpacing;\n            cache[key] = width;\n        }\n\n        return width;\n    }\n\n    /**\n     * Determines whether we should collapse breaking spaces.\n     * @param whiteSpace - The TextStyle property whiteSpace\n     * @returns Should collapse\n     */\n    private static _collapseSpaces(whiteSpace: TextStyleWhiteSpace): boolean\n    {\n        return (whiteSpace === 'normal' || whiteSpace === 'pre-line');\n    }\n\n    /**\n     * Determines whether we should collapse newLine chars.\n     * @param whiteSpace - The white space\n     * @returns should collapse\n     */\n    private static _collapseNewlines(whiteSpace: TextStyleWhiteSpace): boolean\n    {\n        return (whiteSpace === 'normal');\n    }\n\n    /**\n     * Trims breaking whitespaces from string.\n     * @param text - The text\n     * @returns Trimmed string\n     */\n    private static _trimRight(text: string): string\n    {\n        if (typeof text !== 'string')\n        {\n            return '';\n        }\n\n        for (let i = text.length - 1; i >= 0; i--)\n        {\n            const char = text[i];\n\n            if (!CanvasTextMetrics.isBreakingSpace(char))\n            {\n                break;\n            }\n\n            text = text.slice(0, -1);\n        }\n\n        return text;\n    }\n\n    /**\n     * Determines if char is a newline.\n     * @param char - The character\n     * @returns True if newline, False otherwise.\n     */\n    private static _isNewline(char: string): boolean\n    {\n        if (typeof char !== 'string')\n        {\n            return false;\n        }\n\n        return CanvasTextMetrics._newlines.includes(char.charCodeAt(0));\n    }\n\n    /**\n     * Determines if char is a breaking whitespace.\n     *\n     * It allows one to determine whether char should be a breaking whitespace\n     * For example certain characters in CJK langs or numbers.\n     * It must return a boolean.\n     * @param char - The character\n     * @param [_nextChar] - The next character\n     * @returns True if whitespace, False otherwise.\n     */\n    public static isBreakingSpace(char: string, _nextChar?: string): boolean\n    {\n        if (typeof char !== 'string')\n        {\n            return false;\n        }\n\n        return CanvasTextMetrics._breakingSpaces.includes(char.charCodeAt(0));\n    }\n\n    /**\n     * Splits a string into words, breaking-spaces and newLine characters\n     * @param text - The text\n     * @returns A tokenized array\n     */\n    private static _tokenize(text: string): string[]\n    {\n        const tokens: string[] = [];\n        let token = '';\n\n        if (typeof text !== 'string')\n        {\n            return tokens;\n        }\n\n        for (let i = 0; i < text.length; i++)\n        {\n            const char = text[i];\n            const nextChar = text[i + 1];\n\n            if (CanvasTextMetrics.isBreakingSpace(char, nextChar) || CanvasTextMetrics._isNewline(char))\n            {\n                if (token !== '')\n                {\n                    tokens.push(token);\n                    token = '';\n                }\n\n                tokens.push(char);\n\n                continue;\n            }\n\n            token += char;\n        }\n\n        if (token !== '')\n        {\n            tokens.push(token);\n        }\n\n        return tokens;\n    }\n\n    /**\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n     *\n     * It allows one to customise which words should break\n     * Examples are if the token is CJK or numbers.\n     * It must return a boolean.\n     * @param _token - The token\n     * @param breakWords - The style attr break words\n     * @returns Whether to break word or not\n     */\n    public static canBreakWords(_token: string, breakWords: boolean): boolean\n    {\n        return breakWords;\n    }\n\n    /**\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n     *\n     * It allows one to determine whether a pair of characters\n     * should be broken by newlines\n     * For example certain characters in CJK langs or numbers.\n     * It must return a boolean.\n     * @param _char - The character\n     * @param _nextChar - The next character\n     * @param _token - The token/word the characters are from\n     * @param _index - The index in the token of the char\n     * @param _breakWords - The style attr break words\n     * @returns whether to break word or not\n     */\n    public static canBreakChars(_char: string, _nextChar: string, _token: string, _index: number,\n        _breakWords: boolean): boolean\n    {\n        return true;\n    }\n\n    /**\n     * Overridable helper method used internally by TextMetrics, exposed to allow customizing the class's behavior.\n     *\n     * It is called when a token (usually a word) has to be split into separate pieces\n     * in order to determine the point to break a word.\n     * It must return an array of characters.\n     * @param token - The token to split\n     * @returns The characters of the token\n     * @see CanvasTextMetrics.graphemeSegmenter\n     */\n    public static wordWrapSplit(token: string): string[]\n    {\n        return CanvasTextMetrics.graphemeSegmenter(token);\n    }\n\n    /**\n     * Calculates the ascent, descent and fontSize of a given font-style\n     * @param font - String representing the style of the font\n     * @returns Font properties object\n     */\n    public static measureFont(font: string): FontMetrics\n    {\n        // as this method is used for preparing assets, don't recalculate things if we don't need to\n        if (CanvasTextMetrics._fonts[font])\n        {\n            return CanvasTextMetrics._fonts[font];\n        }\n\n        const context = CanvasTextMetrics._context;\n\n        context.font = font;\n        const metrics = context.measureText(CanvasTextMetrics.METRICS_STRING + CanvasTextMetrics.BASELINE_SYMBOL);\n\n        const properties = {\n            ascent: metrics.actualBoundingBoxAscent,\n            descent: metrics.actualBoundingBoxDescent,\n            fontSize: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent\n        };\n\n        CanvasTextMetrics._fonts[font] = properties;\n\n        return properties;\n    }\n\n    /**\n     * Clear font metrics in metrics cache.\n     * @param {string} [font] - font name. If font name not set then clear cache for all fonts.\n     */\n    public static clearMetrics(font = ''): void\n    {\n        if (font)\n        {\n            delete CanvasTextMetrics._fonts[font];\n        }\n        else\n        {\n            CanvasTextMetrics._fonts = {};\n        }\n    }\n\n    /**\n     * Cached canvas element for measuring text\n     * TODO: this should be private, but isn't because of backward compat, will fix later.\n     * @ignore\n     */\n    public static get _canvas(): ICanvas\n    {\n        if (!CanvasTextMetrics.__canvas)\n        {\n            let canvas: ICanvas;\n\n            try\n            {\n                // OffscreenCanvas2D measureText can be up to 40% faster.\n                const c = new OffscreenCanvas(0, 0);\n                const context = c.getContext('2d', contextSettings);\n\n                if (context?.measureText)\n                {\n                    CanvasTextMetrics.__canvas = c as ICanvas;\n\n                    return c as ICanvas;\n                }\n\n                canvas = DOMAdapter.get().createCanvas();\n            }\n            catch (_cx)\n            {\n                canvas = DOMAdapter.get().createCanvas();\n            }\n            canvas.width = canvas.height = 10;\n            CanvasTextMetrics.__canvas = canvas;\n        }\n\n        return CanvasTextMetrics.__canvas;\n    }\n\n    /**\n     * TODO: this should be private, but isn't because of backward compat, will fix later.\n     * @ignore\n     */\n    public static get _context(): ICanvasRenderingContext2D\n    {\n        if (!CanvasTextMetrics.__context)\n        {\n            CanvasTextMetrics.__context = CanvasTextMetrics._canvas.getContext('2d', contextSettings);\n        }\n\n        return CanvasTextMetrics.__context;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5451, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5457, "column": 0}, "map": {"version":3,"file":"SVGToGraphicsPath.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/svg/SVGToGraphicsPath.ts"],"sourcesContent":["import parse from 'parse-svg-path';\nimport { warn } from '../../../../utils/logging/warn';\n\nimport type { GraphicsPath } from '../path/GraphicsPath';\n\ninterface SubPath\n{\n    startX: number;\n    startY: number;\n}\n\n// TODO optimise and cache the paths?\nexport function SVGToGraphicsPath(svgPath: string, path: GraphicsPath): GraphicsPath\n{\n    const commands = parse(svgPath);\n\n    const subpaths: SubPath[] = [];\n    let currentSubPath: SubPath | null = null;\n\n    let lastX = 0;\n    let lastY = 0;\n\n    for (let i = 0; i < commands.length; i++)\n    {\n        const command = commands[i];\n        const type = command[0];\n        const data = command; // alias for 1-based referencing\n\n        switch (type)\n        {\n            case 'M':\n                lastX = data[1];\n                lastY = data[2];\n\n                path.moveTo(lastX, lastY);\n                break;\n            case 'm':\n\n                lastX += data[1];\n                lastY += data[2];\n\n                path.moveTo(lastX, lastY);\n                break;\n            case 'H':\n                lastX = data[1];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'h':\n                lastX += data[1];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'V':\n                lastY = data[1];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'v':\n                lastY += data[1];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'L':\n                lastX = data[1];\n                lastY = data[2];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'l':\n                lastX += data[1];\n                lastY += data[2];\n\n                path.lineTo(lastX, lastY);\n                break;\n            case 'C':\n\n                lastX = data[5];\n                lastY = data[6];\n\n                path.bezierCurveTo(\n                    data[1], data[2],\n                    data[3], data[4],\n                    lastX, lastY\n                );\n                break;\n            case 'c':\n                path.bezierCurveTo(\n                    lastX + data[1], lastY + data[2],\n                    lastX + data[3], lastY + data[4],\n                    lastX + data[5], lastY + data[6]\n                );\n\n                lastX += data[5];\n                lastY += data[6];\n                break;\n            case 'S':\n                lastX = data[3];\n                lastY = data[4];\n\n                path.bezierCurveToShort(\n                    data[1], data[2],\n                    lastX, lastY\n                );\n                break;\n            case 's':\n                path.bezierCurveToShort(\n                    lastX + data[1], lastY + data[2],\n                    lastX + data[3], lastY + data[4],\n                );\n\n                lastX += data[3];\n                lastY += data[4];\n                break;\n            case 'Q':\n                lastX = data[3];\n                lastY = data[4];\n\n                path.quadraticCurveTo(\n                    data[1], data[2],\n                    lastX, lastY\n                );\n                break;\n            case 'q':\n                path.quadraticCurveTo(\n                    lastX + data[1], lastY + data[2],\n                    lastX + data[3], lastY + data[4]\n                );\n\n                lastX += data[3];\n                lastY += data[4];\n                break;\n            case 'T':\n                lastX = data[1];\n                lastY = data[2];\n\n                path.quadraticCurveToShort(\n                    lastX, lastY\n                );\n                break;\n            case 't':\n                lastX += data[1];\n                lastY += data[2];\n\n                path.quadraticCurveToShort(\n                    lastX, lastY\n                );\n                break;\n            case 'A':\n                lastX = data[6];\n                lastY = data[7];\n\n                path.arcToSvg(\n                    data[1],\n                    data[2],\n                    data[3],\n                    data[4],\n                    data[5],\n                    lastX, lastY\n                );\n                break;\n            case 'a':\n                lastX += data[6];\n                lastY += data[7];\n\n                path.arcToSvg(\n                    data[1],\n                    data[2],\n                    data[3],\n                    data[4],\n                    data[5],\n                    lastX, lastY\n                );\n                break;\n            case 'Z':\n            case 'z':\n                path.closePath();\n                if (subpaths.length > 0)\n                {\n                    currentSubPath = subpaths.pop();\n                    if (currentSubPath)\n                    {\n                        lastX = currentSubPath.startX;\n                        lastY = currentSubPath.startY;\n                    }\n                    else\n                    {\n                        lastX = 0;\n                        lastY = 0;\n                    }\n                }\n                currentSubPath = null;\n                break;\n            default:\n                // #if _DEBUG\n                warn(`Unknown SVG path command: ${type}`);\n                // #endif\n        }\n\n        if (type !== 'Z' && type !== 'z')\n        {\n            if (currentSubPath === null)\n            {\n                currentSubPath = { startX: lastX, startY: lastY };\n                subpaths.push(currentSubPath);\n            }\n        }\n    }\n\n    return path;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5594, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5600, "column": 0}, "map": {"version":3,"file":"buildArc.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildArc.ts"],"sourcesContent":["export function buildArc(\n    points: number[],\n    x: number, y: number,\n    radius: number,\n    start: number,\n    end: number,\n    clockwise: boolean,\n    steps?: number\n)\n{\n    // determine distance between the two angles\n    // ...probably a nicer way of writing this\n    let dist = Math.abs(start - end);\n\n    if (!clockwise && start > end)\n    {\n        dist = (2 * Math.PI) - dist;\n    }\n    else if (clockwise && end > start)\n    {\n        dist = (2 * Math.PI) - dist;\n    }\n\n    // approximate the # of steps using the cube root of the radius\n\n    steps ||= Math.max(6, Math.floor(6 * Math.pow(radius, 1 / 3) * (dist / (Math.PI))));\n\n    // ensure we have at least 3 steps..\n    steps = Math.max(steps, 3);\n\n    let f = dist / (steps);\n    let t = start;\n\n    // modify direction\n    f *= clockwise ? -1 : 1;\n\n    for (let i = 0; i < steps + 1; i++)\n    {\n        const cs = Math.cos(t);\n        const sn = Math.sin(t);\n\n        const nx = x + (cs * radius);\n        const ny = y + (sn * radius);\n\n        points.push(nx, ny);\n\n        t += f;\n    }\n}\n"],"names":[],"mappings":";;;;AAAgB,SAAA,QAAA,CACZ,MAAA,EACA,CAAW,EAAA,CAAA,EACX,MAAA,EACA,KACA,EAAA,GAAA,EACA,SAAA,EACA,KAEJ,EAAA;IAGI,IAAI,IAAO,GAAA,IAAA,CAAK,GAAI,CAAA,KAAA,GAAQ,GAAG,CAAA,CAAA;IAE3B,IAAA,CAAC,SAAa,IAAA,KAAA,GAAQ,GAC1B,EAAA;QACY,IAAA,GAAA,CAAA,GAAI,KAAK,EAAM,GAAA,IAAA,CAAA;IAAA,CAC3B,MAAA,IACS,SAAa,IAAA,GAAA,GAAM,KAC5B,EAAA;QACY,IAAA,GAAA,CAAA,GAAI,KAAK,EAAM,GAAA,IAAA,CAAA;IAAA,CAC3B;IAIA,KAAA,IAAA,CAAA,KAAA,GAAU,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,IAAA,CAAK,KAAA,CAAM,CAAI,GAAA,IAAA,CAAK,GAAI,CAAA,MAAA,EAAQ,IAAI,CAAC,CAAA,GAAA,CAAK,IAAQ,GAAA,IAAA,CAAK,EAAA,CAAI,CAAC,CAAA,CAAA,CAAA;IAG1E,KAAA,GAAA,IAAA,CAAK,GAAI,CAAA,KAAA,EAAO,CAAC,CAAA,CAAA;IAEzB,IAAI,IAAI,IAAQ,GAAA,KAAA,CAAA;IAChB,IAAI,CAAI,GAAA,KAAA,CAAA;IAGR,CAAA,IAAK,YAAY,CAAK,CAAA,GAAA,CAAA,CAAA;IAEtB,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,GAAQ,GAAG,CAC/B,EAAA,CAAA;QACU,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,CAAC,CAAA,CAAA;QACf,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,CAAC,CAAA,CAAA;QAEf,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,MAAA,CAAA;QACf,MAAA,EAAA,GAAK,IAAK,EAAK,GAAA,MAAA,CAAA;QAEd,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;QAEb,CAAA,IAAA,CAAA,CAAA;IAAA,CACT;AACJ","ignoreList":[0]}},
    {"offset": {"line": 5627, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5633, "column": 0}, "map": {"version":3,"file":"buildArcTo.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildArcTo.ts"],"sourcesContent":["import { buildArc } from './buildArc';\n\n/**\n * The arcTo() method creates an arc/curve between two tangents on the canvas.\n *\n * \"borrowed\" from https://code.google.com/p/fxcanvas/ - thanks google!\n * @param points\n * @param x1\n * @param y1\n * @param x2\n * @param y2\n * @param radius\n */\nexport function buildArcTo(\n    points: number[],\n    x1: number, y1: number,\n    x2: number, y2: number,\n    radius: number,\n): void\n{\n    const fromX = points[points.length - 2];\n    const fromY = points[points.length - 1];\n\n    const a1 = fromY - y1;\n    const b1 = fromX - x1;\n    const a2 = y2 - y1;\n    const b2 = x2 - x1;\n    const mm = Math.abs((a1 * b2) - (b1 * a2));\n\n    if (mm < 1.0e-8 || radius === 0)\n    {\n        if (points[points.length - 2] !== x1 || points[points.length - 1] !== y1)\n        {\n            points.push(x1, y1);\n        }\n\n        return;\n    }\n\n    const dd = (a1 * a1) + (b1 * b1);\n    const cc = (a2 * a2) + (b2 * b2);\n    const tt = (a1 * a2) + (b1 * b2);\n    const k1 = radius * Math.sqrt(dd) / mm;\n    const k2 = radius * Math.sqrt(cc) / mm;\n    const j1 = k1 * tt / dd;\n    const j2 = k2 * tt / cc;\n    const cx = (k1 * b2) + (k2 * b1);\n    const cy = (k1 * a2) + (k2 * a1);\n    const px = b1 * (k2 + j1);\n    const py = a1 * (k2 + j1);\n    const qx = b2 * (k1 + j2);\n    const qy = a2 * (k1 + j2);\n    const startAngle = Math.atan2(py - cy, px - cx);\n    const endAngle = Math.atan2(qy - cy, qx - cx);\n\n    buildArc(points,\n        (cx + x1),\n        (cy + y1),\n        radius,\n        startAngle,\n        endAngle,\n        b1 * a2 > b2 * a1\n    );\n}\n"],"names":[],"mappings":";;;;;;AAaO,SAAS,WACZ,MACA,EAAA,EAAA,EAAY,EACZ,EAAA,EAAA,EAAY,EAAA,EACZ,MAEJ,EAAA;IACI,MAAM,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;IACtC,MAAM,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;IAEtC,MAAM,KAAK,KAAQ,GAAA,EAAA,CAAA;IACnB,MAAM,KAAK,KAAQ,GAAA,EAAA,CAAA;IACnB,MAAM,KAAK,EAAK,GAAA,EAAA,CAAA;IAChB,MAAM,KAAK,EAAK,GAAA,EAAA,CAAA;IAChB,MAAM,KAAK,IAAK,CAAA,GAAA,CAAK,EAAK,GAAA,EAAA,GAAO,KAAK,EAAG,CAAA,CAAA;IAErC,IAAA,EAAA,GAAK,IAAU,IAAA,MAAA,KAAW,CAC9B,EAAA;QACQ,IAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,KAAM,EAAM,IAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,KAAM,EACtE,EAAA;YACW,MAAA,CAAA,IAAA,CAAK,IAAI,EAAE,CAAA,CAAA;QAAA,CACtB;QAEA,OAAA;IAAA,CACJ;IAEM,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;IACvB,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;IACvB,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;IAC7B,MAAM,EAAK,GAAA,MAAA,GAAS,IAAK,CAAA,IAAA,CAAK,EAAE,CAAI,GAAA,EAAA,CAAA;IACpC,MAAM,EAAK,GAAA,MAAA,GAAS,IAAK,CAAA,IAAA,CAAK,EAAE,CAAI,GAAA,EAAA,CAAA;IAC9B,MAAA,EAAA,GAAK,KAAK,EAAK,GAAA,EAAA,CAAA;IACf,MAAA,EAAA,GAAK,KAAK,EAAK,GAAA,EAAA,CAAA;IACf,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;IACvB,MAAA,EAAA,GAAM,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;IACvB,MAAA,EAAA,GAAK,KAAA,CAAM,EAAK,GAAA,EAAA,CAAA,CAAA;IAChB,MAAA,EAAA,GAAK,KAAA,CAAM,EAAK,GAAA,EAAA,CAAA,CAAA;IAChB,MAAA,EAAA,GAAK,KAAA,CAAM,EAAK,GAAA,EAAA,CAAA,CAAA;IAChB,MAAA,EAAA,GAAK,KAAA,CAAM,EAAK,GAAA,EAAA,CAAA,CAAA;IACtB,MAAM,aAAa,IAAK,CAAA,KAAA,CAAM,EAAK,GAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;IAC9C,MAAM,WAAW,IAAK,CAAA,KAAA,CAAM,EAAK,GAAA,EAAA,EAAI,KAAK,EAAE,CAAA,CAAA;0MAE5C,WAAA,EAAS,MAAA,EACJ,EAAK,GAAA,EAAA,EACL,EAAK,GAAA,EAAA,EACN,MAAA,EACA,UAAA,EACA,QAAA,EACA,EAAA,GAAK,KAAK,EAAK,GAAA,EAAA;AAEvB","ignoreList":[0]}},
    {"offset": {"line": 5672, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5678, "column": 0}, "map": {"version":3,"file":"buildAdaptiveBezier.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildAdaptiveBezier.ts"],"sourcesContent":["// thanks to https://github.com/mattdesl/adaptive-bezier-curve\n// for the original code!\n\nimport { GraphicsContextSystem } from '../GraphicsContextSystem';\n\nconst RECURSION_LIMIT = 8;\nconst FLT_EPSILON = 1.19209290e-7;\nconst PATH_DISTANCE_EPSILON = 1.0;\n\nconst curveAngleToleranceEpsilon = 0.01;\nconst mAngleTolerance = 0;\nconst mCuspLimit = 0;\n\nexport function buildAdaptiveBezier(\n    points: number[],\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    cp2x: number, cp2y: number,\n    eX: number, eY: number,\n    smoothness?: number,\n)\n{\n    // TODO expose as a parameter\n    const scale = 1;\n    const smoothing = Math.min(\n        0.99, // a value of 1.0 actually inverts smoothing, so we cap it at 0.99\n        Math.max(0, smoothness ?? GraphicsContextSystem.defaultOptions.bezierSmoothness)\n    );\n    let distanceTolerance = (PATH_DISTANCE_EPSILON - smoothing) / scale;\n\n    distanceTolerance *= distanceTolerance;\n    begin(sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, points, distanceTolerance);\n\n    return points;\n}\n\n// //// Based on:\n// //// https://github.com/pelson/antigrain/blob/master/agg-2.4/src/agg_curves.cpp\n\nfunction begin(\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    cp2x: number, cp2y: number,\n    eX: number, eY: number,\n    points: number[],\n    distanceTolerance: number\n)\n{\n    // dont need to actually ad this!\n    // points.push(sX, sY);\n    recursive(sX, sY, cp1x, cp1y, cp2x, cp2y, eX, eY, points, distanceTolerance, 0);\n    points.push(eX, eY);\n}\n\n// eslint-disable-next-line max-params\nfunction recursive(\n    x1: number, y1: number,\n    x2: number, y2: number,\n    x3: number, y3: number,\n    x4: number, y4: number,\n    points: number[],\n    distanceTolerance: number,\n    level: number)\n{\n    if (level > RECURSION_LIMIT)\n    { return; }\n\n    const pi = Math.PI;\n\n    // Calculate all the mid-points of the line segments\n    // ----------------------\n    const x12 = (x1 + x2) / 2;\n    const y12 = (y1 + y2) / 2;\n    const x23 = (x2 + x3) / 2;\n    const y23 = (y2 + y3) / 2;\n    const x34 = (x3 + x4) / 2;\n    const y34 = (y3 + y4) / 2;\n    const x123 = (x12 + x23) / 2;\n    const y123 = (y12 + y23) / 2;\n    const x234 = (x23 + x34) / 2;\n    const y234 = (y23 + y34) / 2;\n    const x1234 = (x123 + x234) / 2;\n    const y1234 = (y123 + y234) / 2;\n\n    if (level > 0)\n    { // Enforce subdivision first time\n        // Try to approximate the full cubic curve by a single straight line\n        // ------------------\n        let dx = x4 - x1;\n        let dy = y4 - y1;\n\n        const d2 = Math.abs(((x2 - x4) * dy) - ((y2 - y4) * dx));\n        const d3 = Math.abs(((x3 - x4) * dy) - ((y3 - y4) * dx));\n\n        let da1; let da2;\n\n        if (d2 > FLT_EPSILON && d3 > FLT_EPSILON)\n        {\n            // Regular care\n            // -----------------\n            if ((d2 + d3) * (d2 + d3) <= distanceTolerance * ((dx * dx) + (dy * dy)))\n            {\n                // If the curvature doesn't exceed the distanceTolerance value\n                // we tend to finish subdivisions.\n                // ----------------------\n                if (mAngleTolerance < curveAngleToleranceEpsilon)\n                {\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                // Angle & Cusp Condition\n                // ----------------------\n                const a23 = Math.atan2(y3 - y2, x3 - x2);\n\n                da1 = Math.abs(a23 - Math.atan2(y2 - y1, x2 - x1));\n                da2 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - a23);\n                if (da1 >= pi) da1 = (2 * pi) - da1;\n                if (da2 >= pi) da2 = (2 * pi) - da2;\n\n                if (da1 + da2 < mAngleTolerance)\n                {\n                    // Finally we can stop the recursion\n                    // ----------------------\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                if (mCuspLimit !== 0.0)\n                {\n                    if (da1 > mCuspLimit)\n                    {\n                        points.push(x2, y2);\n\n                        return;\n                    }\n\n                    if (da2 > mCuspLimit)\n                    {\n                        points.push(x3, y3);\n\n                        return;\n                    }\n                }\n            }\n        }\n        else if (d2 > FLT_EPSILON)\n        {\n            // p1,p3,p4 are collinear, p2 is considerable\n            // ----------------------\n            if (d2 * d2 <= distanceTolerance * ((dx * dx) + (dy * dy)))\n            {\n                if (mAngleTolerance < curveAngleToleranceEpsilon)\n                {\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                // Angle Condition\n                // ----------------------\n                da1 = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n                if (da1 >= pi) da1 = (2 * pi) - da1;\n\n                if (da1 < mAngleTolerance)\n                {\n                    points.push(x2, y2);\n                    points.push(x3, y3);\n\n                    return;\n                }\n\n                if (mCuspLimit !== 0.0)\n                {\n                    if (da1 > mCuspLimit)\n                    {\n                        points.push(x2, y2);\n\n                        return;\n                    }\n                }\n            }\n        }\n        else if (d3 > FLT_EPSILON)\n        {\n            // p1,p2,p4 are collinear, p3 is considerable\n            // ----------------------\n            if (d3 * d3 <= distanceTolerance * ((dx * dx) + (dy * dy)))\n            {\n                if (mAngleTolerance < curveAngleToleranceEpsilon)\n                {\n                    points.push(x1234, y1234);\n\n                    return;\n                }\n\n                // Angle Condition\n                // ----------------------\n                da1 = Math.abs(Math.atan2(y4 - y3, x4 - x3) - Math.atan2(y3 - y2, x3 - x2));\n                if (da1 >= pi) da1 = (2 * pi) - da1;\n\n                if (da1 < mAngleTolerance)\n                {\n                    points.push(x2, y2);\n                    points.push(x3, y3);\n\n                    return;\n                }\n\n                if (mCuspLimit !== 0.0)\n                {\n                    if (da1 > mCuspLimit)\n                    {\n                        points.push(x3, y3);\n\n                        return;\n                    }\n                }\n            }\n        }\n        else\n        {\n            // Collinear case\n            // -----------------\n            dx = x1234 - ((x1 + x4) / 2);\n            dy = y1234 - ((y1 + y4) / 2);\n            if ((dx * dx) + (dy * dy) <= distanceTolerance)\n            {\n                points.push(x1234, y1234);\n\n                return;\n            }\n        }\n    }\n\n    // Continue subdivision\n    // ----------------------\n    recursive(x1, y1, x12, y12, x123, y123, x1234, y1234, points, distanceTolerance, level + 1);\n    recursive(x1234, y1234, x234, y234, x34, y34, x4, y4, points, distanceTolerance, level + 1);\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 5794, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5800, "column": 0}, "map": {"version":3,"file":"buildArcToSvg.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildArcToSvg.ts"],"sourcesContent":["import { buildAdaptiveBezier } from './buildAdaptiveBezier';\n\nconst TAU = Math.PI * 2;\n\nconst out = {\n    centerX: 0,\n    centerY: 0,\n    ang1: 0,\n    ang2: 0\n};\n\nconst mapToEllipse = (\n    { x, y }: {x: number, y: number},\n    rx: number, ry: number,\n    cosPhi: number, sinPhi: number,\n    centerX: number, centerY: number,\n    out: {x: number, y: number}\n): {x: number, y: number} =>\n{\n    x *= rx;\n    y *= ry;\n\n    const xp = (cosPhi * x) - (sinPhi * y);\n    const yp = (sinPhi * x) + (cosPhi * y);\n\n    out.x = xp + centerX;\n    out.y = yp + centerY;\n\n    return out;\n};\n\nfunction approxUnitArc(ang1: number, ang2: number): {x: number, y: number}[]\n{\n    // If 90 degree circular arc, use a constant\n    // as derived from http://spencermortensen.com/articles/bezier-circle\n\n    const a1 = ang2 === -1.5707963267948966 ? -0.551915024494 : 4 / 3 * Math.tan(ang2 / 4);\n\n    const a = ang2 === 1.5707963267948966 ? 0.551915024494 : a1;\n\n    const x1 = Math.cos(ang1);\n    const y1 = Math.sin(ang1);\n    const x2 = Math.cos(ang1 + ang2);\n    const y2 = Math.sin(ang1 + ang2);\n\n    return [\n        {\n            x: x1 - (y1 * a),\n            y: y1 + (x1 * a)\n        },\n        {\n            x: x2 + (y2 * a),\n            y: y2 - (x2 * a)\n        },\n        {\n            x: x2,\n            y: y2\n        }\n    ];\n}\n\nconst vectorAngle = (ux: number, uy: number, vx: number, vy: number) =>\n{\n    const sign = ((ux * vy) - (uy * vx) < 0) ? -1 : 1;\n\n    let dot = (ux * vx) + (uy * vy);\n\n    if (dot > 1)\n    {\n        dot = 1;\n    }\n\n    if (dot < -1)\n    {\n        dot = -1;\n    }\n\n    return sign * Math.acos(dot);\n};\n\nconst getArcCenter = (\n    px: number,\n    py: number,\n    cx: number,\n    cy: number,\n    rx: number,\n    ry: number,\n    largeArcFlag: number,\n    sweepFlag: number,\n    sinPhi: number,\n    cosPhi: number,\n    pxp: number,\n    pyp: number,\n    out: {\n        centerX: number,\n        centerY: number,\n        ang1: number,\n        ang2: number\n    }\n// eslint-disable-next-line max-params\n) =>\n{\n    const rxSq = Math.pow(rx, 2);\n    const rySq = Math.pow(ry, 2);\n    const pxpSq = Math.pow(pxp, 2);\n    const pypSq = Math.pow(pyp, 2);\n\n    let radicant = (rxSq * rySq) - (rxSq * pypSq) - (rySq * pxpSq);\n\n    if (radicant < 0)\n    {\n        radicant = 0;\n    }\n\n    radicant /= (rxSq * pypSq) + (rySq * pxpSq);\n    radicant = Math.sqrt(radicant) * (largeArcFlag === sweepFlag ? -1 : 1);\n\n    const centerXp = radicant * rx / ry * pyp;\n    const centerYp = radicant * -ry / rx * pxp;\n\n    const centerX = (cosPhi * centerXp) - (sinPhi * centerYp) + ((px + cx) / 2);\n    const centerY = (sinPhi * centerXp) + (cosPhi * centerYp) + ((py + cy) / 2);\n\n    const vx1 = (pxp - centerXp) / rx;\n    const vy1 = (pyp - centerYp) / ry;\n    const vx2 = (-pxp - centerXp) / rx;\n    const vy2 = (-pyp - centerYp) / ry;\n\n    const ang1 = vectorAngle(1, 0, vx1, vy1);\n    let ang2 = vectorAngle(vx1, vy1, vx2, vy2);\n\n    if (sweepFlag === 0 && ang2 > 0)\n    {\n        ang2 -= TAU;\n    }\n\n    if (sweepFlag === 1 && ang2 < 0)\n    {\n        ang2 += TAU;\n    }\n\n    out.centerX = centerX;\n    out.centerY = centerY;\n    out.ang1 = ang1;\n    out.ang2 = ang2;\n};\n\nexport function buildArcToSvg(\n    points: number[],\n    px: number,\n    py: number,\n    cx: number,\n    cy: number,\n    rx: number,\n    ry: number,\n    xAxisRotation = 0,\n    largeArcFlag = 0,\n    sweepFlag = 0\n): void\n{\n    if (rx === 0 || ry === 0)\n    {\n        return;\n    }\n\n    const sinPhi = Math.sin(xAxisRotation * TAU / 360);\n    const cosPhi = Math.cos(xAxisRotation * TAU / 360);\n\n    const pxp = (cosPhi * (px - cx) / 2) + (sinPhi * (py - cy) / 2);\n    const pyp = (-sinPhi * (px - cx) / 2) + (cosPhi * (py - cy) / 2);\n\n    if (pxp === 0 && pyp === 0)\n    {\n        return;\n    }\n\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n\n    const lambda = (Math.pow(pxp, 2) / Math.pow(rx, 2)) + (Math.pow(pyp, 2) / Math.pow(ry, 2));\n\n    if (lambda > 1)\n    {\n        rx *= Math.sqrt(lambda);\n        ry *= Math.sqrt(lambda);\n    }\n\n    getArcCenter(\n        px,\n        py,\n        cx,\n        cy,\n        rx,\n        ry,\n        largeArcFlag,\n        sweepFlag,\n        sinPhi,\n        cosPhi,\n        pxp,\n        pyp,\n        out\n    );\n\n    let { ang1, ang2 } = out;\n    const { centerX, centerY } = out;\n\n    // If 'ang2' == 90.0000000001, then `ratio` will devalue to\n    // 1.0000000001. This causes `segments` to be greater than one, which is an\n    // unnecessary split, and adds extra points to the bezier curve. To alleviate\n    // this issue, we round to 1.0 when the ratio is close to 1.0.\n    let ratio = Math.abs(ang2) / (TAU / 4);\n\n    if (Math.abs(1.0 - ratio) < 0.0000001)\n    {\n        ratio = 1.0;\n    }\n\n    const segments = Math.max(Math.ceil(ratio), 1);\n\n    ang2 /= segments;\n\n    let lastX = points[points.length - 2];\n    let lastY = points[points.length - 1];\n\n    const outCurvePoint = { x: 0, y: 0 };\n\n    for (let i = 0; i < segments; i++)\n    {\n        const curve = approxUnitArc(ang1, ang2);\n\n        const { x: x1, y: y1 } = mapToEllipse(curve[0], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n        const { x: x2, y: y2 } = mapToEllipse(curve[1], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n        const { x, y } = mapToEllipse(curve[2], rx, ry, cosPhi, sinPhi, centerX, centerY, outCurvePoint);\n\n        buildAdaptiveBezier(\n            points,\n            lastX, lastY,\n            x1, y1, x2, y2, x, y\n        );\n\n        lastX = x;\n        lastY = y;\n\n        ang1 += ang2;\n    }\n}\n"],"names":["out"],"mappings":";;;;;;AAEA,MAAM,GAAA,GAAM,KAAK,EAAK,GAAA,CAAA,CAAA;AAEtB,MAAM,GAAM,GAAA;IACR,OAAS,EAAA,CAAA;IACT,OAAS,EAAA,CAAA;IACT,IAAM,EAAA,CAAA;IACN,IAAM,EAAA,CAAA;AACV,CAAA,CAAA;AAEA,MAAM,YAAe,GAAA,CACjB,EAAE,CAAA,EAAG,CAAE,EAAA,EACP,EAAY,EAAA,EAAA,EACZ,MAAgB,EAAA,MAAA,EAChB,OAAiB,EAAA,OAAA,EACjBA,IAEJ,KAAA;IACS,CAAA,IAAA,EAAA,CAAA;IACA,CAAA,IAAA,EAAA,CAAA;IAEC,MAAA,EAAA,GAAM,MAAS,GAAA,CAAA,GAAM,MAAS,GAAA,CAAA,CAAA;IAC9B,MAAA,EAAA,GAAM,MAAS,GAAA,CAAA,GAAM,MAAS,GAAA,CAAA,CAAA;IAEpCA,IAAAA,CAAI,CAAA,GAAI,EAAK,GAAA,OAAA,CAAA;IACbA,IAAAA,CAAI,CAAA,GAAI,EAAK,GAAA,OAAA,CAAA;IAENA,OAAAA,IAAAA,CAAAA;AACX,CAAA,CAAA;AAEA,SAAS,aAAA,CAAc,IAAA,EAAc,IACrC,EAAA;IAIU,MAAA,EAAA,GAAK,SAAS,CAAsB,kBAAA,GAAA,CAAA,cAAA,GAAkB,IAAI,CAAI,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,GAAO,CAAC,CAAA,CAAA;IAE/E,MAAA,CAAA,GAAI,IAAS,KAAA,kBAAA,GAAqB,cAAiB,GAAA,EAAA,CAAA;IAEnD,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAI,CAAA,CAAA;IAClB,MAAA,EAAA,GAAK,IAAK,CAAA,GAAA,CAAI,IAAI,CAAA,CAAA;IACxB,MAAM,EAAK,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,GAAO,IAAI,CAAA,CAAA;IAC/B,MAAM,EAAK,GAAA,IAAA,CAAK,GAAI,CAAA,IAAA,GAAO,IAAI,CAAA,CAAA;IAExB,OAAA;QACH;YACI,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;YACd,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;QAAA,CAClB;QACA;YACI,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;YACd,CAAA,EAAG,KAAM,EAAK,GAAA,CAAA;QAAA,CAClB;QACA;YACI,CAAG,EAAA,EAAA;YACH,CAAG,EAAA,EAAA;QAAA,CACP;KACJ,CAAA;AACJ,CAAA;AAEA,MAAM,WAAc,GAAA,CAAC,EAAY,EAAA,EAAA,EAAY,IAAY,EACzD,KAAA;IACI,MAAM,OAAS,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,GAAM,IAAK,CAAK,CAAA,GAAA,CAAA,CAAA;IAE5C,IAAA,GAAA,GAAO,EAAK,GAAA,EAAA,GAAO,EAAK,GAAA,EAAA,CAAA;IAE5B,IAAI,MAAM,CACV,EAAA;QACU,GAAA,GAAA,CAAA,CAAA;IAAA,CACV;IAEA,IAAI,MAAM,CACV,CAAA,EAAA;QACU,GAAA,GAAA,CAAA,CAAA,CAAA;IAAA,CACV;IAEO,OAAA,IAAA,GAAO,IAAK,CAAA,IAAA,CAAK,GAAG,CAAA,CAAA;AAC/B,CAAA,CAAA;AAEA,MAAM,YAAe,GAAA,CACjB,EACA,EAAA,EAAA,EACA,IACA,EACA,EAAA,EAAA,EACA,EACA,EAAA,YAAA,EACA,SACA,EAAA,MAAA,EACA,MACA,EAAA,GAAA,EACA,KACAA,IAQJ,KAAA;IACI,MAAM,IAAO,GAAA,IAAA,CAAK,GAAI,CAAA,EAAA,EAAI,CAAC,CAAA,CAAA;IAC3B,MAAM,IAAO,GAAA,IAAA,CAAK,GAAI,CAAA,EAAA,EAAI,CAAC,CAAA,CAAA;IAC3B,MAAM,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,GAAA,EAAK,CAAC,CAAA,CAAA;IAC7B,MAAM,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,GAAA,EAAK,CAAC,CAAA,CAAA;IAE7B,IAAI,QAAY,GAAA,IAAA,GAAO,IAAS,GAAA,IAAA,GAAO,QAAU,IAAO,GAAA,KAAA,CAAA;IAExD,IAAI,WAAW,CACf,EAAA;QACe,QAAA,GAAA,CAAA,CAAA;IAAA,CACf;IAEa,QAAA,IAAA,IAAA,GAAO,QAAU,IAAO,GAAA,KAAA,CAAA;IACrC,QAAA,GAAW,KAAK,IAAK,CAAA,QAAQ,CAAK,GAAA,CAAA,YAAA,KAAiB,YAAY,CAAK,CAAA,GAAA,CAAA,CAAA,CAAA;IAE9D,MAAA,QAAA,GAAW,QAAW,GAAA,EAAA,GAAK,EAAK,GAAA,GAAA,CAAA;IACtC,MAAM,QAAW,GAAA,QAAA,GAAW,CAAC,EAAA,GAAK,EAAK,GAAA,GAAA,CAAA;IAEvC,MAAM,UAAW,MAAS,GAAA,QAAA,GAAa,MAAS,GAAA,QAAA,GAAA,CAAc,KAAK,EAAM,IAAA,CAAA,CAAA;IACzE,MAAM,UAAW,MAAS,GAAA,QAAA,GAAa,MAAS,GAAA,QAAA,GAAA,CAAc,KAAK,EAAM,IAAA,CAAA,CAAA;IAEnE,MAAA,GAAA,GAAA,CAAO,MAAM,QAAY,IAAA,EAAA,CAAA;IACzB,MAAA,GAAA,GAAA,CAAO,MAAM,QAAY,IAAA,EAAA,CAAA;IACzB,MAAA,GAAA,GAAA,CAAO,CAAC,GAAA,GAAM,QAAY,IAAA,EAAA,CAAA;IAC1B,MAAA,GAAA,GAAA,CAAO,CAAC,GAAA,GAAM,QAAY,IAAA,EAAA,CAAA;IAEhC,MAAM,IAAO,GAAA,WAAA,CAAY,CAAG,EAAA,CAAA,EAAG,KAAK,GAAG,CAAA,CAAA;IACvC,IAAI,IAAO,GAAA,WAAA,CAAY,GAAK,EAAA,GAAA,EAAK,KAAK,GAAG,CAAA,CAAA;IAErC,IAAA,SAAA,KAAc,CAAK,IAAA,IAAA,GAAO,CAC9B,EAAA;QACY,IAAA,IAAA,GAAA,CAAA;IAAA,CACZ;IAEI,IAAA,SAAA,KAAc,CAAK,IAAA,IAAA,GAAO,CAC9B,EAAA;QACY,IAAA,IAAA,GAAA,CAAA;IAAA,CACZ;IAEAA,KAAI,OAAU,GAAA,OAAA,CAAA;IACdA,KAAI,OAAU,GAAA,OAAA,CAAA;IACdA,KAAI,IAAO,GAAA,IAAA,CAAA;IACXA,KAAI,IAAO,GAAA,IAAA,CAAA;AACf,CAAA,CAAA;AAEO,SAAS,aACZ,CAAA,MAAA,EACA,EACA,EAAA,EAAA,EACA,EACA,EAAA,EAAA,EACA,EACA,EAAA,EAAA,EACA,aAAgB,GAAA,CAAA,EAChB,YAAe,GAAA,CAAA,EACf,YAAY,CAEhB,EAAA;IACQ,IAAA,EAAA,KAAO,CAAK,IAAA,EAAA,KAAO,CACvB,EAAA;QACI,OAAA;IAAA,CACJ;IAEA,MAAM,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,aAAA,GAAgB,MAAM,GAAG,CAAA,CAAA;IACjD,MAAM,MAAS,GAAA,IAAA,CAAK,GAAI,CAAA,aAAA,GAAgB,MAAM,GAAG,CAAA,CAAA;IAEjD,MAAM,MAAO,MAAU,GAAA,CAAA,EAAA,GAAK,EAAA,IAAM,CAAM,GAAA,MAAA,GAAA,CAAU,KAAK,EAAM,CAAA,GAAA,CAAA,CAAA;IACvD,MAAA,GAAA,GAAO,CAAC,MAAU,GAAA,CAAA,EAAA,GAAK,EAAA,IAAM,CAAM,GAAA,MAAA,GAAA,CAAU,KAAK,EAAM,CAAA,GAAA,CAAA,CAAA;IAE1D,IAAA,GAAA,KAAQ,CAAK,IAAA,GAAA,KAAQ,CACzB,EAAA;QACI,OAAA;IAAA,CACJ;IAEK,EAAA,GAAA,IAAA,CAAK,GAAA,CAAI,EAAE,CAAA,CAAA;IACX,EAAA,GAAA,IAAA,CAAK,GAAA,CAAI,EAAE,CAAA,CAAA;IAEhB,MAAM,SAAU,IAAK,CAAA,GAAA,CAAI,KAAK,CAAC,CAAA,GAAI,KAAK,GAAI,CAAA,EAAA,EAAI,CAAC,CAAM,GAAA,IAAA,CAAK,GAAA,CAAI,GAAK,EAAA,CAAC,IAAI,IAAK,CAAA,GAAA,CAAI,IAAI,CAAC,CAAA,CAAA;IAExF,IAAI,SAAS,CACb,EAAA;QACU,EAAA,IAAA,IAAA,CAAK,IAAA,CAAK,MAAM,CAAA,CAAA;QAChB,EAAA,IAAA,IAAA,CAAK,IAAA,CAAK,MAAM,CAAA,CAAA;IAAA,CAC1B;IAEA,YAAA,CACI,EAAA,EACA,EAAA,EACA,EAAA,EACA,EAAA,EACA,EAAA,EACA,EAAA,EACA,YAAA,EACA,SAAA,EACA,MAAA,EACA,MAAA,EACA,GAAA,EACA,GAAA,EACA,GAAA;IAGA,IAAA,EAAE,IAAM,EAAA,IAAA,EAAS,GAAA,GAAA,CAAA;IACf,MAAA,EAAE,OAAS,EAAA,OAAA,EAAY,GAAA,GAAA,CAAA;IAM7B,IAAI,KAAQ,GAAA,IAAA,CAAK,GAAI,CAAA,IAAI,IAAA,CAAK,GAAM,GAAA,CAAA,CAAA,CAAA;IAEpC,IAAI,IAAK,CAAA,GAAA,CAAI,CAAM,GAAA,KAAK,IAAI,IAC5B,EAAA;QACY,KAAA,GAAA,CAAA,CAAA;IAAA,CACZ;IAEA,MAAM,WAAW,IAAK,CAAA,GAAA,CAAI,KAAK,IAAK,CAAA,KAAK,GAAG,CAAC,CAAA,CAAA;IAErC,IAAA,IAAA,QAAA,CAAA;IAER,IAAI,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;IACpC,IAAI,KAAQ,GAAA,MAAA,CAAO,MAAO,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;IAEpC,MAAM,aAAgB,GAAA;QAAE,CAAG,EAAA,CAAA;QAAG,GAAG,CAAE;IAAA,CAAA,CAAA;IAEnC,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,EAAU,CAC9B,EAAA,CAAA;QACU,MAAA,KAAA,GAAQ,aAAc,CAAA,IAAA,EAAM,IAAI,CAAA,CAAA;QAEtC,MAAM,EAAE,CAAG,EAAA,EAAA,EAAI,CAAG,EAAA,EAAA,EAAA,GAAO,YAAa,CAAA,KAAA,CAAM,CAAC,CAAA,EAAG,IAAI,EAAI,EAAA,MAAA,EAAQ,MAAQ,EAAA,OAAA,EAAS,SAAS,aAAa,CAAA,CAAA;QACvG,MAAM,EAAE,CAAG,EAAA,EAAA,EAAI,CAAG,EAAA,EAAA,EAAA,GAAO,YAAa,CAAA,KAAA,CAAM,CAAC,CAAA,EAAG,IAAI,EAAI,EAAA,MAAA,EAAQ,MAAQ,EAAA,OAAA,EAAS,SAAS,aAAa,CAAA,CAAA;QACvG,MAAM,EAAE,CAAA,EAAG,CAAE,EAAA,GAAI,aAAa,KAAM,CAAA,CAAC,CAAG,EAAA,EAAA,EAAI,EAAI,EAAA,MAAA,EAAQ,MAAQ,EAAA,OAAA,EAAS,SAAS,aAAa,CAAA,CAAA;yNAE/F,sBAAA,EACI,MAAA,EACA,KAAA,EAAO,KAAA,EACP,EAAA,EAAI,EAAA,EAAI,EAAA,EAAI,EAAA,EAAI,CAAA,EAAG,CAAA;QAGf,KAAA,GAAA,CAAA,CAAA;QACA,KAAA,GAAA,CAAA,CAAA;QAEA,IAAA,IAAA,IAAA,CAAA;IAAA,CACZ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 5933, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 5939, "column": 0}, "map": {"version":3,"file":"buildAdaptiveQuadratic.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/buildCommands/buildAdaptiveQuadratic.ts"],"sourcesContent":["// thanks to https://github.com/mattdesl/adaptive-quadratic-curve\n// for the original code!\n\nimport { GraphicsContextSystem } from '../GraphicsContextSystem';\n\nconst RECURSION_LIMIT = 8;\nconst FLT_EPSILON = 1.19209290e-7;\nconst PATH_DISTANCE_EPSILON = 1.0;\n\nconst curveAngleToleranceEpsilon = 0.01;\nconst mAngleTolerance = 0;\n\nexport function buildAdaptiveQuadratic(\n    points: number[],\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    eX: number, eY: number,\n    smoothness?: number,\n)\n{\n    const scale = 1.0;\n    const smoothing = Math.min(\n        0.99, // a value of 1.0 actually inverts smoothing, so we cap it at 0.99\n        Math.max(0, smoothness ?? GraphicsContextSystem.defaultOptions.bezierSmoothness)\n    );\n    let distanceTolerance = (PATH_DISTANCE_EPSILON - smoothing) / scale;\n\n    distanceTolerance *= distanceTolerance;\n    begin(sX, sY, cp1x, cp1y, eX, eY, points, distanceTolerance);\n\n    return points;\n}\n\n// //// Based on:\n// //// https://github.com/pelson/antigrain/blob/master/agg-2.4/src/agg_curves.cpp\n\nfunction begin(\n    sX: number, sY: number,\n    cp1x: number, cp1y: number,\n    eX: number, eY: number,\n    points: number[],\n    distanceTolerance: number\n)\n{\n    recursive(points, sX, sY, cp1x, cp1y, eX, eY, distanceTolerance, 0);\n\n    points.push(eX, eY);\n}\n\nfunction recursive(\n    points: number[],\n    x1: number, y1: number,\n    x2: number, y2: number,\n    x3: number, y3: number,\n    distanceTolerance: number,\n    level: number\n)\n{\n    if (level > RECURSION_LIMIT)\n    { return; }\n\n    const pi = Math.PI;\n\n    // Calculate all the mid-points of the line segments\n    // ----------------------\n    const x12 = (x1 + x2) / 2;\n    const y12 = (y1 + y2) / 2;\n    const x23 = (x2 + x3) / 2;\n    const y23 = (y2 + y3) / 2;\n    const x123 = (x12 + x23) / 2;\n    const y123 = (y12 + y23) / 2;\n\n    let dx = x3 - x1;\n    let dy = y3 - y1;\n    const d = Math.abs((((x2 - x3) * dy) - ((y2 - y3) * dx)));\n\n    if (d > FLT_EPSILON)\n    {\n        // Regular care\n        // -----------------\n        if (d * d <= distanceTolerance * ((dx * dx) + (dy * dy)))\n        {\n            // If the curvature doesn't exceed the distance_tolerance value\n            // we tend to finish subdivisions.\n            // ----------------------\n            if (mAngleTolerance < curveAngleToleranceEpsilon)\n            {\n                points.push(x123, y123);\n\n                return;\n            }\n\n            // Angle & Cusp Condition\n            // ----------------------\n            let da = Math.abs(Math.atan2(y3 - y2, x3 - x2) - Math.atan2(y2 - y1, x2 - x1));\n\n            if (da >= pi) da = (2 * pi) - da;\n\n            if (da < mAngleTolerance)\n            {\n                // Finally we can stop the recursion\n                // ----------------------\n                points.push(x123, y123);\n\n                return;\n            }\n        }\n    }\n    else\n    {\n        // Collinear case\n        // -----------------\n        dx = x123 - ((x1 + x3) / 2);\n        dy = y123 - ((y1 + y3) / 2);\n        if ((dx * dx) + (dy * dy) <= distanceTolerance)\n        {\n            points.push(x123, y123);\n\n            return;\n        }\n    }\n\n    // Continue subdivision\n    // ----------------------\n    recursive(points, x1, y1, x12, y12, x123, y123, distanceTolerance, level + 1);\n    recursive(points, x123, y123, x23, y23, x3, y3, distanceTolerance, level + 1);\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6003, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6009, "column": 0}, "map": {"version":3,"file":"roundShape.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/path/roundShape.ts"],"sourcesContent":["import type { PointData } from '../../../../maths/point/PointData';\nimport type { ShapePath } from './ShapePath';\n\n/**\n * Typed and cleaned up version of:\n * https://stackoverflow.com/questions/44855794/html5-canvas-triangle-with-rounded-corners/44856925#44856925\n * @param g - Graphics to be drawn on.\n * @param points - Corners of the shape to draw. Minimum length is 3.\n * @param radius - Corners default radius.\n * @ignore\n */\nexport function roundedShapeArc(\n    g: ShapePath,\n    points: RoundedPoint[],\n    radius: number\n): void\n{\n    const vecFrom = (p: PointData, pp: PointData) =>\n    {\n        const x = pp.x - p.x;\n        const y = pp.y - p.y;\n        const len = Math.sqrt((x * x) + (y * y));\n        const nx = x / len;\n        const ny = y / len;\n\n        return { len, nx, ny };\n    };\n\n    const sharpCorner = (i: number, p: PointData) =>\n    {\n        if (i === 0)\n        {\n            g.moveTo(p.x, p.y);\n        }\n        else\n        {\n            g.lineTo(p.x, p.y);\n        }\n    };\n\n    let p1 = points[points.length - 1];\n\n    for (let i = 0; i < points.length; i++)\n    {\n        const p2 = points[i % points.length];\n        const pRadius = p2.radius ?? radius;\n\n        if (pRadius <= 0)\n        {\n            sharpCorner(i, p2);\n            p1 = p2;\n            continue;\n        }\n\n        const p3 = points[(i + 1) % points.length];\n        const v1 = vecFrom(p2, p1);\n        const v2 = vecFrom(p2, p3);\n\n        if (v1.len < 1e-4 || v2.len < 1e-4)\n        {\n            sharpCorner(i, p2);\n            p1 = p2;\n            continue;\n        }\n\n        let angle = Math.asin((v1.nx * v2.ny) - (v1.ny * v2.nx));\n        let radDirection = 1;\n        let drawDirection = false;\n\n        if ((v1.nx * v2.nx) - (v1.ny * -v2.ny) < 0)\n        {\n            if (angle < 0)\n            {\n                angle = Math.PI + angle;\n            }\n            else\n            {\n                angle = Math.PI - angle;\n                radDirection = -1;\n                drawDirection = true;\n            }\n        }\n        else if (angle > 0)\n        {\n            radDirection = -1;\n            drawDirection = true;\n        }\n\n        const halfAngle = angle / 2;\n\n        let cRadius: number;\n        let lenOut = Math.abs(\n            (Math.cos(halfAngle) * pRadius) / Math.sin(halfAngle)\n        );\n\n        if (lenOut > Math.min(v1.len / 2, v2.len / 2))\n        {\n            lenOut = Math.min(v1.len / 2, v2.len / 2);\n            cRadius = Math.abs((lenOut * Math.sin(halfAngle)) / Math.cos(halfAngle));\n        }\n        else\n        {\n            cRadius = pRadius;\n        }\n\n        const cX = p2.x + (v2.nx * lenOut) + (-v2.ny * cRadius * radDirection);\n        const cY = p2.y + (v2.ny * lenOut) + (v2.nx * cRadius * radDirection);\n        const startAngle = Math.atan2(v1.ny, v1.nx) + ((Math.PI / 2) * radDirection);\n        const endAngle = Math.atan2(v2.ny, v2.nx) - ((Math.PI / 2) * radDirection);\n\n        if (i === 0)\n        {\n            g.moveTo(\n                cX + (Math.cos(startAngle) * cRadius),\n                cY + (Math.sin(startAngle) * cRadius)\n            );\n        }\n\n        g.arc(cX, cY, cRadius, startAngle, endAngle, drawDirection);\n\n        p1 = p2;\n    }\n}\n\nexport type RoundedPoint = PointData & { radius?: number };\n\n/**\n * Typed and cleaned up version of:\n * https://stackoverflow.com/questions/44855794/html5-canvas-triangle-with-rounded-corners/56214413#56214413\n * @param g - Graphics to be drawn on.\n * @param points - Corners of the shape to draw. Minimum length is 3.\n * @param radius - Corners default radius.\n * @ignore\n */\nexport function roundedShapeQuadraticCurve(\n    g: ShapePath,\n    points: RoundedPoint[],\n    radius: number,\n    smoothness?: number,\n): void\n{\n    const distance = (p1: PointData, p2: PointData) =>\n        Math.sqrt(((p1.x - p2.x) ** 2) + ((p1.y - p2.y) ** 2));\n\n    const pointLerp = (p1: PointData, p2: PointData, t: number) => ({\n        x: p1.x + ((p2.x - p1.x) * t),\n        y: p1.y + ((p2.y - p1.y) * t),\n    });\n\n    const numPoints = points.length;\n\n    for (let i = 0; i < numPoints; i++)\n    {\n        const thisPoint = points[(i + 1) % numPoints];\n        const pRadius = thisPoint.radius ?? radius;\n\n        if (pRadius <= 0)\n        {\n            if (i === 0)\n            {\n                g.moveTo(thisPoint.x, thisPoint.y);\n            }\n            else\n            {\n                g.lineTo(thisPoint.x, thisPoint.y);\n            }\n\n            continue;\n        }\n\n        const lastPoint = points[i];\n        const nextPoint = points[(i + 2) % numPoints];\n\n        const lastEdgeLength = distance(lastPoint, thisPoint);\n        let start;\n\n        if (lastEdgeLength < 1e-4)\n        {\n            start = thisPoint;\n        }\n        else\n        {\n            const lastOffsetDistance = Math.min(lastEdgeLength / 2, pRadius);\n\n            start = pointLerp(\n                thisPoint,\n                lastPoint,\n                lastOffsetDistance / lastEdgeLength\n            );\n        }\n\n        const nextEdgeLength = distance(nextPoint, thisPoint);\n        let end;\n\n        if (nextEdgeLength < 1e-4)\n        {\n            end = thisPoint;\n        }\n        else\n        {\n            const nextOffsetDistance = Math.min(nextEdgeLength / 2, pRadius);\n\n            end = pointLerp(\n                thisPoint,\n                nextPoint,\n                nextOffsetDistance / nextEdgeLength\n            );\n        }\n\n        if (i === 0)\n        {\n            g.moveTo(start.x, start.y);\n        }\n        else\n        {\n            g.lineTo(start.x, start.y);\n        }\n        g.quadraticCurveTo(thisPoint.x, thisPoint.y, end.x, end.y, smoothness);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6132, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6138, "column": 0}, "map": {"version":3,"file":"ShapePath.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/path/ShapePath.ts"],"sourcesContent":["// a shape lets you build out a shape with lines and curves and primitives..\n\nimport { Circle } from '../../../../maths/shapes/Circle';\nimport { Ellipse } from '../../../../maths/shapes/Ellipse';\nimport { Polygon } from '../../../../maths/shapes/Polygon';\nimport { Rectangle } from '../../../../maths/shapes/Rectangle';\nimport { RoundedRectangle } from '../../../../maths/shapes/RoundedRectangle';\nimport { Bounds } from '../../../container/bounds/Bounds';\nimport { buildAdaptiveBezier } from '../buildCommands/buildAdaptiveBezier';\nimport { buildAdaptiveQuadratic } from '../buildCommands/buildAdaptiveQuadratic';\nimport { buildArc } from '../buildCommands/buildArc';\nimport { buildArcTo } from '../buildCommands/buildArcTo';\nimport { buildArcToSvg } from '../buildCommands/buildArcToSvg';\nimport { roundedShapeArc, roundedShapeQuadraticCurve } from './roundShape';\n\nimport type { Matrix } from '../../../../maths/matrix/Matrix';\nimport type { PointData } from '../../../../maths/point/PointData';\nimport type { ShapePrimitive } from '../../../../maths/shapes/ShapePrimitive';\nimport type { GraphicsPath } from './GraphicsPath';\nimport type { RoundedPoint } from './roundShape';\n\nconst tempRectangle = new Rectangle();\n\n/**\n * The `ShapePath` class acts as a bridge between high-level drawing commands\n * and the lower-level `GraphicsContext` rendering engine.\n * It translates drawing commands, such as those for creating lines, arcs, ellipses, rectangles, and complex polygons, into a\n * format that can be efficiently processed by a `GraphicsContext`. This includes handling path starts,\n * ends, and transformations for shapes.\n *\n * It is used internally by `GraphicsPath` to build up the path.\n * @memberof scene\n */\nexport class ShapePath\n{\n    /** The list of shape primitives that make up the path. */\n    public shapePrimitives: { shape: ShapePrimitive, transform?: Matrix }[] = [];\n    private _currentPoly: Polygon | null = null;\n    private readonly _graphicsPath2D: GraphicsPath;\n    private readonly _bounds = new Bounds();\n\n    constructor(graphicsPath2D: GraphicsPath)\n    {\n        this._graphicsPath2D = graphicsPath2D;\n    }\n\n    /**\n     * Sets the starting point for a new sub-path. Any subsequent drawing commands are considered part of this path.\n     * @param x - The x-coordinate for the starting point.\n     * @param y - The y-coordinate for the starting point.\n     * @returns The instance of the current object for chaining.\n     */\n    public moveTo(x: number, y: number): this\n    {\n        this.startPoly(x, y);\n\n        return this;\n    }\n\n    /**\n     * Connects the current point to a new point with a straight line. This method updates the current path.\n     * @param x - The x-coordinate of the new point to connect to.\n     * @param y - The y-coordinate of the new point to connect to.\n     * @returns The instance of the current object for chaining.\n     */\n    public lineTo(x: number, y: number): this\n    {\n        this._ensurePoly();\n\n        const points = this._currentPoly.points;\n\n        const fromX = points[points.length - 2];\n        const fromY = points[points.length - 1];\n\n        if (fromX !== x || fromY !== y)\n        {\n            points.push(x, y);\n        }\n\n        return this;\n    }\n\n    /**\n     * Adds an arc to the path. The arc is centered at (x, y)\n     *  position with radius `radius` starting at `startAngle` and ending at `endAngle`.\n     * @param x - The x-coordinate of the arc's center.\n     * @param y - The y-coordinate of the arc's center.\n     * @param radius - The radius of the arc.\n     * @param startAngle - The starting angle of the arc, in radians.\n     * @param endAngle - The ending angle of the arc, in radians.\n     * @param counterclockwise - Specifies whether the arc should be drawn in the anticlockwise direction. False by default.\n     * @returns The instance of the current object for chaining.\n     */\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise: boolean): this\n    {\n        // TODO - if its 360 degrees.. make it a circle object?\n\n        this._ensurePoly(false);\n\n        const points = this._currentPoly.points;\n\n        buildArc(points, x, y, radius, startAngle, endAngle, counterclockwise);\n\n        return this;\n    }\n\n    /**\n     * Adds an arc to the path with the arc tangent to the line joining two specified points.\n     * The arc radius is specified by `radius`.\n     * @param x1 - The x-coordinate of the first point.\n     * @param y1 - The y-coordinate of the first point.\n     * @param x2 - The x-coordinate of the second point.\n     * @param y2 - The y-coordinate of the second point.\n     * @param radius - The radius of the arc.\n     * @returns The instance of the current object for chaining.\n     */\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): this\n    {\n        this._ensurePoly();\n\n        const points = this._currentPoly.points;\n\n        buildArcTo(points, x1, y1, x2, y2, radius);\n\n        return this;\n    }\n\n    /**\n     * Adds an SVG-style arc to the path, allowing for elliptical arcs based on the SVG spec.\n     * @param rx - The x-radius of the ellipse.\n     * @param ry - The y-radius of the ellipse.\n     * @param xAxisRotation - The rotation of the ellipse's x-axis relative\n     * to the x-axis of the coordinate system, in degrees.\n     * @param largeArcFlag - Determines if the arc should be greater than or less than 180 degrees.\n     * @param sweepFlag - Determines if the arc should be swept in a positive angle direction.\n     * @param x - The x-coordinate of the arc's end point.\n     * @param y - The y-coordinate of the arc's end point.\n     * @returns The instance of the current object for chaining.\n     */\n    public arcToSvg(\n        rx: number, ry: number,\n        xAxisRotation: number, largeArcFlag: number, sweepFlag: number,\n        x: number, y: number\n    ): this\n    {\n        const points = this._currentPoly.points;\n\n        // this needs to work on both canvas and GPU backends so might want to move this to the Graphics2D path..\n        buildArcToSvg(\n            points,\n            this._currentPoly.lastX,\n            this._currentPoly.lastY,\n            x,\n            y,\n            rx,\n            ry,\n            xAxisRotation,\n            largeArcFlag,\n            sweepFlag,\n        );\n\n        return this;\n    }\n\n    /**\n     * Adds a cubic Bezier curve to the path.\n     * It requires three points: the first two are control points and the third one is the end point.\n     * The starting point is the last point in the current path.\n     * @param cp1x - The x-coordinate of the first control point.\n     * @param cp1y - The y-coordinate of the first control point.\n     * @param cp2x - The x-coordinate of the second control point.\n     * @param cp2y - The y-coordinate of the second control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public bezierCurveTo(\n        cp1x: number, cp1y: number, cp2x: number, cp2y: number,\n        x: number, y: number,\n        smoothness?: number\n    ): this\n    {\n        this._ensurePoly();\n\n        const currentPoly = this._currentPoly;\n\n        // ensure distance from last point to first control point is not too small\n\n        // TODO - make this a plugin that people can override..\n        buildAdaptiveBezier(\n            this._currentPoly.points,\n            currentPoly.lastX, currentPoly.lastY,\n            cp1x, cp1y, cp2x, cp2y, x, y,\n            smoothness,\n        );\n\n        return this;\n    }\n\n    /**\n     * Adds a quadratic curve to the path. It requires two points: the control point and the end point.\n     * The starting point is the last point in the current path.\n     * @param cp1x - The x-coordinate of the control point.\n     * @param cp1y - The y-coordinate of the control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothing - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public quadraticCurveTo(cp1x: number, cp1y: number, x: number, y: number, smoothing?: number): this\n    {\n        this._ensurePoly();\n\n        const currentPoly = this._currentPoly;\n\n        // ensure distance from last point to first control point is not too small\n\n        // TODO - make this a plugin that people can override..\n        buildAdaptiveQuadratic(\n            this._currentPoly.points,\n            currentPoly.lastX, currentPoly.lastY,\n            cp1x, cp1y, x, y,\n            smoothing,\n        );\n\n        return this;\n    }\n\n    /**\n     * Closes the current path by drawing a straight line back to the start.\n     * If the shape is already closed or there are no points in the path, this method does nothing.\n     * @returns The instance of the current object for chaining.\n     */\n    public closePath(): this\n    {\n        this.endPoly(true);\n\n        return this;\n    }\n\n    /**\n     * Adds another path to the current path. This method allows for the combination of multiple paths into one.\n     * @param path - The `GraphicsPath` object representing the path to add.\n     * @param transform - An optional `Matrix` object to apply a transformation to the path before adding it.\n     * @returns The instance of the current object for chaining.\n     */\n    public addPath(path: GraphicsPath, transform?: Matrix): this\n    {\n        this.endPoly();\n\n        if (transform && !transform.isIdentity())\n        {\n            path = path.clone(true);\n            path.transform(transform);\n        }\n\n        for (let i = 0; i < path.instructions.length; i++)\n        {\n            const instruction = path.instructions[i];\n\n            // Sorry TS! this is the best we could do...\n            this[instruction.action](...(instruction.data as [never, never, never, never, never, never, never]));\n            // build out the path points\n        }\n\n        return this;\n    }\n\n    /**\n     * Finalizes the drawing of the current path. Optionally, it can close the path.\n     * @param closePath - A boolean indicating whether to close the path after finishing. False by default.\n     */\n    public finish(closePath = false)\n    {\n        this.endPoly(closePath);\n    }\n\n    /**\n     * Draws a rectangle shape. This method adds a new rectangle path to the current drawing.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @param transform - An optional `Matrix` object to apply a transformation to the rectangle.\n     * @returns The instance of the current object for chaining.\n     */\n    public rect(x: number, y: number, w: number, h: number, transform?: Matrix): this\n    {\n        this.drawShape(new Rectangle(x, y, w, h), transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a circle shape. This method adds a new circle path to the current drawing.\n     * @param x - The x-coordinate of the center of the circle.\n     * @param y - The y-coordinate of the center of the circle.\n     * @param radius - The radius of the circle.\n     * @param transform - An optional `Matrix` object to apply a transformation to the circle.\n     * @returns The instance of the current object for chaining.\n     */\n    public circle(x: number, y: number, radius: number, transform?: Matrix): this\n    {\n        this.drawShape(new Circle(x, y, radius), transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a polygon shape. This method allows for the creation of complex polygons by specifying a sequence of points.\n     * @param points - An array of numbers, or or an array of PointData objects eg [{x,y}, {x,y}, {x,y}]\n     * representing the x and y coordinates of the polygon's vertices, in sequence.\n     * @param close - A boolean indicating whether to close the polygon path. True by default.\n     * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n     * @returns The instance of the current object for chaining.\n     */\n    public poly(points: number[] | PointData[], close?: boolean, transform?: Matrix): this\n    {\n        const polygon = new Polygon(points);\n\n        polygon.closePath = close;\n\n        this.drawShape(polygon, transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a regular polygon with a specified number of sides. All sides and angles are equal.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n     * @returns The instance of the current object for chaining.\n     */\n    public regularPoly(x: number, y: number, radius: number, sides: number, rotation = 0, transform?: Matrix): this\n    {\n        sides = Math.max(sides | 0, 3);\n        const startAngle = (-1 * Math.PI / 2) + rotation;\n        const delta = (Math.PI * 2) / sides;\n        const polygon = [];\n\n        for (let i = 0; i < sides; i++)\n        {\n            const angle = (i * delta) + startAngle;\n\n            polygon.push(\n                x + (radius * Math.cos(angle)),\n                y + (radius * Math.sin(angle))\n            );\n        }\n\n        this.poly(polygon, true, transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a polygon with rounded corners.\n     * Similar to `regularPoly` but with the ability to round the corners of the polygon.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param corner - The radius of the rounding of the corners.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @param smoothness - Optional parameter to adjust the smoothness of the rounding.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundPoly(\n        x: number, y: number,\n        radius: number,\n        sides: number, corner: number,\n        rotation = 0,\n        smoothness?: number,\n    ): this\n    {\n        sides = Math.max((sides | 0), 3);\n\n        if (corner <= 0)\n        {\n            return this.regularPoly(x, y, radius, sides, rotation);\n        }\n\n        const sideLength = (radius * Math.sin(Math.PI / sides)) - 0.001;\n\n        corner = Math.min(corner, sideLength);\n\n        const startAngle = (-1 * Math.PI / 2) + rotation;\n        const delta = (Math.PI * 2) / sides;\n        const internalAngle = ((sides - 2) * Math.PI) / sides / 2;\n\n        for (let i = 0; i < sides; i++)\n        {\n            const angle = (i * delta) + startAngle;\n            const x0 = x + (radius * Math.cos(angle));\n            const y0 = y + (radius * Math.sin(angle));\n            const a1 = angle + (Math.PI) + internalAngle;\n            const a2 = angle - (Math.PI) - internalAngle;\n            const x1 = x0 + (corner * Math.cos(a1));\n            const y1 = y0 + (corner * Math.sin(a1));\n            const x3 = x0 + (corner * Math.cos(a2));\n            const y3 = y0 + (corner * Math.sin(a2));\n\n            if (i === 0)\n            {\n                this.moveTo(x1, y1);\n            }\n            else\n            {\n                this.lineTo(x1, y1);\n            }\n            this.quadraticCurveTo(x0, y0, x3, y3, smoothness);\n        }\n\n        return this.closePath();\n    }\n\n    /**\n     * Draws a shape with rounded corners. This function supports custom radius for each corner of the shape.\n     * Optionally, corners can be rounded using a quadratic curve instead of an arc, providing a different aesthetic.\n     * @param points - An array of `RoundedPoint` representing the corners of the shape to draw.\n     * A minimum of 3 points is required.\n     * @param radius - The default radius for the corners.\n     * This radius is applied to all corners unless overridden in `points`.\n     * @param useQuadratic - If set to true, rounded corners are drawn using a quadraticCurve\n     *  method instead of an arc method. Defaults to false.\n     * @param smoothness - Specifies the smoothness of the curve when `useQuadratic` is true.\n     * Higher values make the curve smoother.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundShape(points: RoundedPoint[], radius: number, useQuadratic = false, smoothness?: number): this\n    {\n        if (points.length < 3)\n        {\n            return this;\n        }\n\n        if (useQuadratic)\n        {\n            roundedShapeQuadraticCurve(this, points, radius, smoothness);\n        }\n        else\n        {\n            roundedShapeArc(this, points, radius);\n        }\n\n        return this.closePath();\n    }\n\n    /**\n     * Draw Rectangle with fillet corners. This is much like rounded rectangle\n     * however it support negative numbers as well for the corner radius.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param fillet - accept negative or positive values\n     */\n    public filletRect(x: number, y: number, width: number, height: number, fillet: number): this\n    {\n        if (fillet === 0)\n        {\n            return this.rect(x, y, width, height);\n        }\n\n        const maxFillet = Math.min(width, height) / 2;\n        const inset = Math.min(maxFillet, Math.max(-maxFillet, fillet));\n        const right = x + width;\n        const bottom = y + height;\n        const dir = inset < 0 ? -inset : 0;\n        const size = Math.abs(inset);\n\n        return this\n            .moveTo(x, y + size)\n            .arcTo(x + dir, y + dir, x + size, y, size)\n            .lineTo(right - size, y)\n            .arcTo(right - dir, y + dir, right, y + size, size)\n            .lineTo(right, bottom - size)\n            .arcTo(right - dir, bottom - dir, x + width - size, bottom, size)\n            .lineTo(x + size, bottom)\n            .arcTo(x + dir, bottom - dir, x, bottom - size, size)\n            .closePath();\n    }\n\n    /**\n     * Draw Rectangle with chamfer corners. These are angled corners.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param chamfer - non-zero real number, size of corner cutout\n     * @param transform\n     */\n    public chamferRect(x: number, y: number, width: number, height: number, chamfer: number, transform?: Matrix): this\n    {\n        if (chamfer <= 0)\n        {\n            return this.rect(x, y, width, height);\n        }\n\n        const inset = Math.min(chamfer, Math.min(width, height) / 2);\n        const right = x + width;\n        const bottom = y + height;\n        const points = [\n            x + inset, y,\n            right - inset, y,\n            right, y + inset,\n            right, bottom - inset,\n            right - inset, bottom,\n            x + inset, bottom,\n            x, bottom - inset,\n            x, y + inset,\n        ];\n\n        // Remove overlapping points\n        for (let i = points.length - 1; i >= 2; i -= 2)\n        {\n            if (points[i] === points[i - 2] && points[i - 1] === points[i - 3])\n            {\n                points.splice(i - 1, 2);\n            }\n        }\n\n        return this.poly(points, true, transform);\n    }\n\n    /**\n     * Draws an ellipse at the specified location and with the given x and y radii.\n     * An optional transformation can be applied, allowing for rotation, scaling, and translation.\n     * @param x - The x-coordinate of the center of the ellipse.\n     * @param y - The y-coordinate of the center of the ellipse.\n     * @param radiusX - The horizontal radius of the ellipse.\n     * @param radiusY - The vertical radius of the ellipse.\n     * @param transform - An optional `Matrix` object to apply a transformation to the ellipse. This can include rotations.\n     * @returns The instance of the current object for chaining.\n     */\n    public ellipse(x: number, y: number, radiusX: number, radiusY: number, transform?: Matrix): this\n    {\n        // TODO apply rotation to transform...\n\n        this.drawShape(new Ellipse(x, y, radiusX, radiusY), transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a rectangle with rounded corners.\n     * The corner radius can be specified to determine how rounded the corners should be.\n     * An optional transformation can be applied, which allows for rotation, scaling, and translation of the rectangle.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @param radius - The radius of the rectangle's corners. If not specified, corners will be sharp.\n     * @param transform - An optional `Matrix` object to apply a transformation to the rectangle.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundRect(x: number, y: number, w: number, h: number, radius?: number, transform?: Matrix): this\n    {\n        this.drawShape(new RoundedRectangle(x, y, w, h, radius), transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a given shape on the canvas.\n     * This is a generic method that can draw any type of shape specified by the `ShapePrimitive` parameter.\n     * An optional transformation matrix can be applied to the shape, allowing for complex transformations.\n     * @param shape - The shape to draw, defined as a `ShapePrimitive` object.\n     * @param matrix - An optional `Matrix` for transforming the shape. This can include rotations,\n     * scaling, and translations.\n     * @returns The instance of the current object for chaining.\n     */\n    public drawShape(shape: ShapePrimitive, matrix?: Matrix): this\n    {\n        this.endPoly();\n\n        this.shapePrimitives.push({ shape, transform: matrix });\n\n        return this;\n    }\n\n    /**\n     * Starts a new polygon path from the specified starting point.\n     * This method initializes a new polygon or ends the current one if it exists.\n     * @param x - The x-coordinate of the starting point of the new polygon.\n     * @param y - The y-coordinate of the starting point of the new polygon.\n     * @returns The instance of the current object for chaining.\n     */\n    public startPoly(x: number, y: number): this\n    {\n        let currentPoly = this._currentPoly;\n\n        if (currentPoly)\n        {\n            this.endPoly();\n        }\n\n        currentPoly = new Polygon();\n\n        currentPoly.points.push(x, y);\n\n        this._currentPoly = currentPoly;\n\n        return this;\n    }\n\n    /**\n     * Ends the current polygon path. If `closePath` is set to true,\n     * the path is closed by connecting the last point to the first one.\n     * This method finalizes the current polygon and prepares it for drawing or adding to the shape primitives.\n     * @param closePath - A boolean indicating whether to close the polygon by connecting the last point\n     *  back to the starting point. False by default.\n     * @returns The instance of the current object for chaining.\n     */\n    public endPoly(closePath = false): this\n    {\n        const shape = this._currentPoly;\n\n        if (shape && shape.points.length > 2)\n        {\n            shape.closePath = closePath;\n\n            this.shapePrimitives.push({ shape });\n        }\n\n        this._currentPoly = null;\n\n        return this;\n    }\n\n    private _ensurePoly(start = true): void\n    {\n        if (this._currentPoly) return;\n\n        this._currentPoly = new Polygon();\n\n        if (start)\n        {\n            // get last points..\n            const lastShape = this.shapePrimitives[this.shapePrimitives.length - 1];\n\n            if (lastShape)\n            {\n                // i KNOW its a rect..\n                let lx = lastShape.shape.x;\n                let ly = lastShape.shape.y;\n\n                if (lastShape.transform && !lastShape.transform.isIdentity())\n                {\n                    const t = lastShape.transform;\n\n                    const tempX = lx;\n\n                    lx = (t.a * lx) + (t.c * ly) + t.tx;\n                    ly = (t.b * tempX) + (t.d * ly) + t.ty;\n                }\n\n                this._currentPoly.points.push(lx, ly);\n            }\n            else\n            {\n                this._currentPoly.points.push(0, 0);\n            }\n        }\n    }\n\n    /** Builds the path. */\n    public buildPath()\n    {\n        const path = this._graphicsPath2D;\n\n        this.shapePrimitives.length = 0;\n        this._currentPoly = null;\n\n        for (let i = 0; i < path.instructions.length; i++)\n        {\n            const instruction = path.instructions[i];\n\n            // Sorry TS! this is the best we could do...\n            this[instruction.action](...(instruction.data as [never, never, never, never, never, never, never]));\n        }\n\n        this.finish();\n    }\n\n    /** Gets the bounds of the path. */\n    get bounds(): Bounds\n    {\n        const bounds = this._bounds;\n\n        bounds.clear();\n\n        const shapePrimitives = this.shapePrimitives;\n\n        for (let i = 0; i < shapePrimitives.length; i++)\n        {\n            const shapePrimitive = shapePrimitives[i];\n\n            const boundsRect = shapePrimitive.shape.getBounds(tempRectangle);\n\n            if (shapePrimitive.transform)\n            {\n                bounds.addRect(boundsRect, shapePrimitive.transform);\n            }\n            else\n            {\n                bounds.addRect(boundsRect);\n            }\n        }\n\n        return bounds;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 6615, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 6621, "column": 0}, "map": {"version":3,"file":"GraphicsPath.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/path/GraphicsPath.ts"],"sourcesContent":["import { Point } from '../../../../maths/point/Point';\nimport { uid } from '../../../../utils/data/uid';\nimport { warn } from '../../../../utils/logging/warn';\nimport { SVGToGraphicsPath } from '../svg/SVGToGraphicsPath';\nimport { ShapePath } from './ShapePath';\n\nimport type { Matrix } from '../../../../maths/matrix/Matrix';\nimport type { PointData } from '../../../../maths/point/PointData';\nimport type { Bounds } from '../../../container/bounds/Bounds';\nimport type { RoundedPoint } from './roundShape';\n\nexport interface PathInstruction\n{\n    action: 'moveTo' | 'lineTo' | 'quadraticCurveTo' |\n    'bezierCurveTo' | 'arc' | 'closePath' |\n    'addPath' | 'arcTo' | 'ellipse' |\n    'rect' | 'roundRect' | 'arcToSvg' |\n    'poly' | 'circle' |\n    'regularPoly' | 'roundPoly' | 'roundShape' | 'filletRect' | 'chamferRect'\n    data: any[];\n}\n\n/**\n * The `GraphicsPath` class is designed to represent a graphical path consisting of multiple drawing instructions.\n * This class serves as a collection of drawing commands that can be executed to render shapes and paths on a canvas or\n * similar graphical context. It supports high-level drawing operations like lines, arcs, curves, and more, enabling\n * complex graphic constructions with relative ease.\n */\nexport class GraphicsPath\n{\n    public instructions: PathInstruction[] = [];\n\n    /** unique id for this graphics path */\n    public readonly uid: number = uid('graphicsPath');\n\n    private _dirty = true;\n    // needed for hit testing and bounds calculations\n    private _shapePath: ShapePath;\n\n    /**\n     * Provides access to the internal shape path, ensuring it is up-to-date with the current instructions.\n     * @returns The `ShapePath` instance associated with this `GraphicsPath`.\n     */\n    get shapePath(): ShapePath\n    {\n        if (!this._shapePath)\n        {\n            this._shapePath = new ShapePath(this);\n        }\n\n        if (this._dirty)\n        {\n            this._dirty = false;\n            this._shapePath.buildPath();\n        }\n\n        return this._shapePath;\n    }\n\n    /**\n     * Creates a `GraphicsPath` instance optionally from an SVG path string or an array of `PathInstruction`.\n     * @param instructions - An SVG path string or an array of `PathInstruction` objects.\n     */\n    constructor(instructions?: string | PathInstruction[])\n    {\n        if (typeof instructions === 'string')\n        {\n            SVGToGraphicsPath(instructions, this);\n        }\n        else\n        {\n            this.instructions = instructions?.slice() ?? [];\n        }\n    }\n\n    /**\n     * Adds another `GraphicsPath` to this path, optionally applying a transformation.\n     * @param path - The `GraphicsPath` to add.\n     * @param transform - An optional transformation to apply to the added path.\n     * @returns The instance of the current object for chaining.\n     */\n    public addPath(path: GraphicsPath, transform?: Matrix): this\n    {\n        path = path.clone();\n        this.instructions.push({ action: 'addPath', data: [path, transform] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Adds an arc to the path. The arc is centered at (x, y)\n     *  position with radius `radius` starting at `startAngle` and ending at `endAngle`.\n     * @param x - The x-coordinate of the arc's center.\n     * @param y - The y-coordinate of the arc's center.\n     * @param radius - The radius of the arc.\n     * @param startAngle - The starting angle of the arc, in radians.\n     * @param endAngle - The ending angle of the arc, in radians.\n     * @param counterclockwise - Specifies whether the arc should be drawn in the anticlockwise direction. False by default.\n     * @returns The instance of the current object for chaining.\n     */\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise?: boolean): this;\n    public arc(...args: [number, number, number, number, number, boolean]): this\n    {\n        this.instructions.push({ action: 'arc', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Adds an arc to the path with the arc tangent to the line joining two specified points.\n     * The arc radius is specified by `radius`.\n     * @param x1 - The x-coordinate of the first point.\n     * @param y1 - The y-coordinate of the first point.\n     * @param x2 - The x-coordinate of the second point.\n     * @param y2 - The y-coordinate of the second point.\n     * @param radius - The radius of the arc.\n     * @returns The instance of the current object for chaining.\n     */\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): this;\n    public arcTo(...args: [number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'arcTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Adds an SVG-style arc to the path, allowing for elliptical arcs based on the SVG spec.\n     * @param rx - The x-radius of the ellipse.\n     * @param ry - The y-radius of the ellipse.\n     * @param xAxisRotation - The rotation of the ellipse's x-axis relative\n     * to the x-axis of the coordinate system, in degrees.\n     * @param largeArcFlag - Determines if the arc should be greater than or less than 180 degrees.\n     * @param sweepFlag - Determines if the arc should be swept in a positive angle direction.\n     * @param x - The x-coordinate of the arc's end point.\n     * @param y - The y-coordinate of the arc's end point.\n     * @returns The instance of the current object for chaining.\n     */\n    // eslint-disable-next-line max-len\n    public arcToSvg(rx: number, ry: number, xAxisRotation: number, largeArcFlag: number, sweepFlag: number, x: number, y: number): this;\n    public arcToSvg(...args: [number, number, number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'arcToSvg', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Adds a cubic Bezier curve to the path.\n     * It requires three points: the first two are control points and the third one is the end point.\n     * The starting point is the last point in the current path.\n     * @param cp1x - The x-coordinate of the first control point.\n     * @param cp1y - The y-coordinate of the first control point.\n     * @param cp2x - The x-coordinate of the second control point.\n     * @param cp2y - The y-coordinate of the second control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public bezierCurveTo(\n        cp1x: number, cp1y: number, cp2x: number, cp2y: number,\n        x: number, y: number,\n        smoothness?: number\n    ): this;\n    public bezierCurveTo(...args: [number, number, number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'bezierCurveTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Adds a cubic Bezier curve to the path.\n     * It requires two points: the second control point and the end point. The first control point is assumed to be\n     * The starting point is the last point in the current path.\n     * @param cp2x - The x-coordinate of the second control point.\n     * @param cp2y - The y-coordinate of the second control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public bezierCurveToShort(cp2x: number, cp2y: number, x: number, y: number, smoothness?: number): this\n    {\n        const last = this.instructions[this.instructions.length - 1];\n\n        const lastPoint = this.getLastPoint(Point.shared);\n\n        let cp1x = 0;\n        let cp1y = 0;\n\n        if (!last || last.action !== 'bezierCurveTo')\n        {\n            cp1x = lastPoint.x;\n            cp1y = lastPoint.y;\n        }\n        else\n        {\n            cp1x = last.data[2];\n            cp1y = last.data[3];\n\n            const currentX = lastPoint.x;\n            const currentY = lastPoint.y;\n\n            cp1x = currentX + (currentX - cp1x);\n            cp1y = currentY + (currentY - cp1y);\n        }\n\n        this.instructions.push({ action: 'bezierCurveTo', data: [cp1x, cp1y, cp2x, cp2y, x, y, smoothness] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Closes the current path by drawing a straight line back to the start.\n     * If the shape is already closed or there are no points in the path, this method does nothing.\n     * @returns The instance of the current object for chaining.\n     */\n    public closePath(): this\n    {\n        this.instructions.push({ action: 'closePath', data: [] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws an ellipse at the specified location and with the given x and y radii.\n     * An optional transformation can be applied, allowing for rotation, scaling, and translation.\n     * @param x - The x-coordinate of the center of the ellipse.\n     * @param y - The y-coordinate of the center of the ellipse.\n     * @param radiusX - The horizontal radius of the ellipse.\n     * @param radiusY - The vertical radius of the ellipse.\n     * @param transform - An optional `Matrix` object to apply a transformation to the ellipse. This can include rotations.\n     * @returns The instance of the current object for chaining.\n     */\n    public ellipse(x: number, y: number, radiusX: number, radiusY: number, matrix?: Matrix): this;\n    public ellipse(...args: [number, number, number, number, Matrix]): this\n    {\n        this.instructions.push({ action: 'ellipse', data: args });\n\n        // TODO nail this!\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Connects the current point to a new point with a straight line. This method updates the current path.\n     * @param x - The x-coordinate of the new point to connect to.\n     * @param y - The y-coordinate of the new point to connect to.\n     * @returns The instance of the current object for chaining.\n     */\n    public lineTo(x: number, y: number): this;\n    public lineTo(...args: [number, number]): this\n    {\n        this.instructions.push({ action: 'lineTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Sets the starting point for a new sub-path. Any subsequent drawing commands are considered part of this path.\n     * @param x - The x-coordinate for the starting point.\n     * @param y - The y-coordinate for the starting point.\n     * @returns The instance of the current object for chaining.\n     */\n    public moveTo(x: number, y: number): this;\n    public moveTo(...args: [number, number]): this\n    {\n        this.instructions.push({ action: 'moveTo', data: args });\n\n        return this;\n    }\n\n    /**\n     * Adds a quadratic curve to the path. It requires two points: the control point and the end point.\n     * The starting point is the last point in the current path.\n     * @param cp1x - The x-coordinate of the control point.\n     * @param cp1y - The y-coordinate of the control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public quadraticCurveTo(cpx: number, cpy: number, x: number, y: number, smoothness?: number): this;\n    public quadraticCurveTo(...args: [number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'quadraticCurveTo', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Adds a quadratic curve to the path. It uses the previous point as the control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public quadraticCurveToShort(x: number, y: number, smoothness?: number): this\n    {\n        // check if we have a previous quadraticCurveTo\n        const last = this.instructions[this.instructions.length - 1];\n\n        const lastPoint = this.getLastPoint(Point.shared);\n\n        let cpx1 = 0;\n        let cpy1 = 0;\n\n        if (!last || last.action !== 'quadraticCurveTo')\n        {\n            cpx1 = lastPoint.x;\n            cpy1 = lastPoint.y;\n        }\n        else\n        {\n            cpx1 = last.data[0];\n            cpy1 = last.data[1];\n\n            const currentX = lastPoint.x;\n            const currentY = lastPoint.y;\n\n            cpx1 = currentX + (currentX - cpx1);\n            cpy1 = currentY + (currentY - cpy1);\n        }\n\n        this.instructions.push({ action: 'quadraticCurveTo', data: [cpx1, cpy1, x, y, smoothness] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a rectangle shape. This method adds a new rectangle path to the current drawing.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @param transform - An optional `Matrix` object to apply a transformation to the rectangle.\n     * @returns The instance of the current object for chaining.\n     */\n    public rect(x: number, y: number, w: number, h: number, transform?: Matrix): this\n    {\n        this.instructions.push({ action: 'rect', data: [x, y, w, h, transform] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a circle shape. This method adds a new circle path to the current drawing.\n     * @param x - The x-coordinate of the center of the circle.\n     * @param y - The y-coordinate of the center of the circle.\n     * @param radius - The radius of the circle.\n     * @param transform - An optional `Matrix` object to apply a transformation to the circle.\n     * @returns The instance of the current object for chaining.\n     */\n    public circle(x: number, y: number, radius: number, transform?: Matrix): this\n    {\n        this.instructions.push({ action: 'circle', data: [x, y, radius, transform] });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a rectangle with rounded corners.\n     * The corner radius can be specified to determine how rounded the corners should be.\n     * An optional transformation can be applied, which allows for rotation, scaling, and translation of the rectangle.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @param radius - The radius of the rectangle's corners. If not specified, corners will be sharp.\n     * @param transform - An optional `Matrix` object to apply a transformation to the rectangle.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundRect(x: number, y: number, w: number, h: number, radius?: number, transform?: Matrix): this;\n    public roundRect(...args: [number, number, number, number, number, Matrix?]): this\n    {\n        this.instructions.push({ action: 'roundRect', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a polygon shape by specifying a sequence of points. This method allows for the creation of complex polygons,\n     * which can be both open and closed. An optional transformation can be applied, enabling the polygon to be scaled,\n     * rotated, or translated as needed.\n     * @param points - An array of numbers representing the x and y coordinates of the polygon's vertices, in sequence.\n     * @param close - A boolean indicating whether to close the polygon path. True by default.\n     * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n     * @returns The instance of the current object for chaining further drawing commands.\n     */\n    public poly(points: number[] | PointData[], close?: boolean, transform?: Matrix): this;\n    public poly(...args: [number[] | PointData[], boolean, Matrix?]): this\n    {\n        this.instructions.push({ action: 'poly', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a regular polygon with a specified number of sides. All sides and angles are equal.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n     * @returns The instance of the current object for chaining.\n     */\n    public regularPoly(x: number, y: number, radius: number, sides: number, rotation?: number, transform?: Matrix): this;\n    public regularPoly(...args: [number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'regularPoly', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a polygon with rounded corners.\n     * Similar to `regularPoly` but with the ability to round the corners of the polygon.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param corner - The radius of the rounding of the corners.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundPoly(x: number, y: number, radius: number, sides: number, corner: number, rotation?: number): this;\n    public roundPoly(...args: [number, number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'roundPoly', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a shape with rounded corners. This function supports custom radius for each corner of the shape.\n     * Optionally, corners can be rounded using a quadratic curve instead of an arc, providing a different aesthetic.\n     * @param points - An array of `RoundedPoint` representing the corners of the shape to draw.\n     * A minimum of 3 points is required.\n     * @param radius - The default radius for the corners.\n     * This radius is applied to all corners unless overridden in `points`.\n     * @param useQuadratic - If set to true, rounded corners are drawn using a quadraticCurve\n     *  method instead of an arc method. Defaults to false.\n     * @param smoothness - Specifies the smoothness of the curve when `useQuadratic` is true.\n     * Higher values make the curve smoother.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundShape(points: RoundedPoint[], radius: number, useQuadratic?: boolean, smoothness?: number): this;\n    public roundShape(...args: [RoundedPoint[], number, boolean, number]): this\n    {\n        this.instructions.push({ action: 'roundShape', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draw Rectangle with fillet corners. This is much like rounded rectangle\n     * however it support negative numbers as well for the corner radius.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param fillet - accept negative or positive values\n     */\n    public filletRect(x: number, y: number, width: number, height: number, fillet: number): this;\n    public filletRect(...args: [number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'filletRect', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draw Rectangle with chamfer corners. These are angled corners.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param chamfer - non-zero real number, size of corner cutout\n     * @param transform\n     */\n    public chamferRect(x: number, y: number, width: number, height: number, chamfer: number, transform?: Matrix): this;\n    public chamferRect(...args: [number, number, number, number, number]): this\n    {\n        this.instructions.push({ action: 'chamferRect', data: args });\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Draws a star shape centered at a specified location. This method allows for the creation\n     *  of stars with a variable number of points, outer radius, optional inner radius, and rotation.\n     * The star is drawn as a closed polygon with alternating outer and inner vertices to create the star's points.\n     * An optional transformation can be applied to scale, rotate, or translate the star as needed.\n     * @param x - The x-coordinate of the center of the star.\n     * @param y - The y-coordinate of the center of the star.\n     * @param points - The number of points of the star.\n     * @param radius - The outer radius of the star (distance from the center to the outer points).\n     * @param innerRadius - Optional. The inner radius of the star\n     * (distance from the center to the inner points between the outer points).\n     * If not provided, defaults to half of the `radius`.\n     * @param rotation - Optional. The rotation of the star in radians, where 0 is aligned with the y-axis.\n     * Defaults to 0, meaning one point is directly upward.\n     * @param transform - An optional `Matrix` object to apply a transformation to the star.\n     * This can include rotations, scaling, and translations.\n     * @returns The instance of the current object for chaining further drawing commands.\n     */\n    // eslint-disable-next-line max-len\n    public star(x: number, y: number, points: number, radius: number, innerRadius?: number, rotation?: number, transform?: Matrix): this\n    {\n        innerRadius ||= radius / 2;\n\n        const startAngle = (-1 * Math.PI / 2) + rotation;\n        const len = points * 2;\n        const delta = (Math.PI * 2) / len;\n        const polygon = [];\n\n        for (let i = 0; i < len; i++)\n        {\n            const r = i % 2 ? innerRadius : radius;\n            const angle = (i * delta) + startAngle;\n\n            polygon.push(\n                x + (r * Math.cos(angle)),\n                y + (r * Math.sin(angle))\n            );\n        }\n\n        this.poly(polygon, true, transform);\n\n        return this;\n    }\n\n    /**\n     * Creates a copy of the current `GraphicsPath` instance. This method supports both shallow and deep cloning.\n     * A shallow clone copies the reference of the instructions array, while a deep clone creates a new array and\n     * copies each instruction individually, ensuring that modifications to the instructions of the cloned `GraphicsPath`\n     * do not affect the original `GraphicsPath` and vice versa.\n     * @param deep - A boolean flag indicating whether the clone should be deep.\n     * @returns A new `GraphicsPath` instance that is a clone of the current instance.\n     */\n    public clone(deep = false): GraphicsPath\n    {\n        const newGraphicsPath2D = new GraphicsPath();\n\n        if (!deep)\n        {\n            newGraphicsPath2D.instructions = this.instructions.slice();\n        }\n        else\n        {\n            for (let i = 0; i < this.instructions.length; i++)\n            {\n                const instruction = this.instructions[i];\n\n                newGraphicsPath2D.instructions.push({ action: instruction.action, data: instruction.data.slice() });\n            }\n        }\n\n        return newGraphicsPath2D;\n    }\n\n    public clear(): this\n    {\n        this.instructions.length = 0;\n        this._dirty = true;\n\n        return this;\n    }\n\n    /**\n     * Applies a transformation matrix to all drawing instructions within the `GraphicsPath`.\n     * This method enables the modification of the path's geometry according to the provided\n     * transformation matrix, which can include translations, rotations, scaling, and skewing.\n     *\n     * Each drawing instruction in the path is updated to reflect the transformation,\n     * ensuring the visual representation of the path is consistent with the applied matrix.\n     *\n     * Note: The transformation is applied directly to the coordinates and control points of the drawing instructions,\n     * not to the path as a whole. This means the transformation's effects are baked into the individual instructions,\n     * allowing for fine-grained control over the path's appearance.\n     * @param matrix - A `Matrix` object representing the transformation to apply.\n     * @returns The instance of the current object for chaining further operations.\n     */\n    public transform(matrix: Matrix): this\n    {\n        if (matrix.isIdentity()) return this;\n\n        const a = matrix.a;\n        const b = matrix.b;\n        const c = matrix.c;\n        const d = matrix.d;\n        const tx = matrix.tx;\n        const ty = matrix.ty;\n\n        let x = 0;\n        let y = 0;\n\n        let cpx1 = 0;\n        let cpy1 = 0;\n        let cpx2 = 0;\n        let cpy2 = 0;\n\n        let rx = 0;\n        let ry = 0;\n\n        for (let i = 0; i < this.instructions.length; i++)\n        {\n            const instruction = this.instructions[i];\n            const data = instruction.data as any[];\n\n            switch (instruction.action)\n            {\n                case 'moveTo':\n                case 'lineTo':\n\n                    x = data[0];\n                    y = data[1];\n\n                    data[0] = (a * x) + (c * y) + tx;\n                    data[1] = (b * x) + (d * y) + ty;\n                    break;\n                case 'bezierCurveTo':\n\n                    cpx1 = data[0];\n                    cpy1 = data[1];\n                    cpx2 = data[2];\n                    cpy2 = data[3];\n\n                    x = data[4];\n                    y = data[5];\n\n                    data[0] = (a * cpx1) + (c * cpy1) + tx;\n                    data[1] = (b * cpx1) + (d * cpy1) + ty;\n                    data[2] = (a * cpx2) + (c * cpy2) + tx;\n                    data[3] = (b * cpx2) + (d * cpy2) + ty;\n                    data[4] = (a * x) + (c * y) + tx;\n                    data[5] = (b * x) + (d * y) + ty;\n                    break;\n\n                case 'quadraticCurveTo':\n\n                    cpx1 = data[0];\n                    cpy1 = data[1];\n\n                    x = data[2];\n                    y = data[3];\n\n                    data[0] = (a * cpx1) + (c * cpy1) + tx;\n                    data[1] = (b * cpx1) + (d * cpy1) + ty;\n\n                    data[2] = (a * x) + (c * y) + tx;\n                    data[3] = (b * x) + (d * y) + ty;\n\n                    break;\n\n                case 'arcToSvg':\n\n                    x = data[5];\n                    y = data[6];\n\n                    rx = data[0];\n                    ry = data[1];\n\n                    // multiply the radius by the transform..\n\n                    data[0] = (a * rx) + (c * ry);\n                    data[1] = (b * rx) + (d * ry);\n\n                    data[5] = (a * x) + (c * y) + tx;\n                    data[6] = (b * x) + (d * y) + ty;\n\n                    break;\n\n                case 'circle':\n                    data[4] = adjustTransform(data[3], matrix);\n                    break;\n                case 'rect':\n                    data[4] = adjustTransform(data[4], matrix);\n                    break;\n                case 'ellipse':\n                    data[8] = adjustTransform(data[8], matrix);\n                    break;\n                case 'roundRect':\n                    data[5] = adjustTransform(data[5], matrix);\n                    break;\n                case 'addPath':\n                    data[0].transform(matrix);\n                    break;\n                case 'poly':\n                    data[2] = adjustTransform(data[2], matrix);\n                    break;\n                default:\n                    // #if _DEBUG\n                    warn('unknown transform action', instruction.action);\n                    // #endif\n                    break;\n            }\n        }\n\n        this._dirty = true;\n\n        return this;\n    }\n\n    get bounds(): Bounds\n    {\n        return this.shapePath.bounds;\n    }\n\n    /**\n     * Retrieves the last point from the current drawing instructions in the `GraphicsPath`.\n     * This method is useful for operations that depend on the path's current endpoint,\n     * such as connecting subsequent shapes or paths. It supports various drawing instructions,\n     * ensuring the last point's position is accurately determined regardless of the path's complexity.\n     *\n     * If the last instruction is a `closePath`, the method iterates backward through the instructions\n     *  until it finds an actionable instruction that defines a point (e.g., `moveTo`, `lineTo`,\n     * `quadraticCurveTo`, etc.). For compound paths added via `addPath`, it recursively retrieves\n     * the last point from the nested path.\n     * @param out - A `Point` object where the last point's coordinates will be stored.\n     * This object is modified directly to contain the result.\n     * @returns The `Point` object containing the last point's coordinates.\n     */\n    public getLastPoint(out: Point): Point\n    {\n        let index = this.instructions.length - 1;\n\n        let lastInstruction = this.instructions[index];\n\n        if (!lastInstruction)\n        {\n            out.x = 0;\n            out.y = 0;\n\n            return out;\n        }\n\n        while (lastInstruction.action === 'closePath')\n        {\n            index--;\n\n            if (index < 0)\n            {\n                out.x = 0;\n                out.y = 0;\n\n                return out;\n            }\n\n            lastInstruction = this.instructions[index];\n        }\n\n        switch (lastInstruction.action)\n        {\n            case 'moveTo':\n            case 'lineTo':\n                out.x = lastInstruction.data[0];\n                out.y = lastInstruction.data[1];\n                break;\n            case 'quadraticCurveTo':\n                out.x = lastInstruction.data[2];\n                out.y = lastInstruction.data[3];\n                break;\n            case 'bezierCurveTo':\n                out.x = lastInstruction.data[4];\n                out.y = lastInstruction.data[5];\n                break;\n            case 'arc':\n            case 'arcToSvg':\n                out.x = lastInstruction.data[5];\n                out.y = lastInstruction.data[6];\n                break;\n            case 'addPath':\n                // TODO prolly should transform the last point of the path\n                lastInstruction.data[0].getLastPoint(out);\n                break;\n        }\n\n        return out;\n    }\n}\n\nfunction adjustTransform(currentMatrix?: Matrix, transform?: Matrix): Matrix\n{\n    if (currentMatrix)\n    {\n        return currentMatrix.prepend(transform);\n    }\n\n    return transform.clone();\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7154, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7160, "column": 0}, "map": {"version":3,"file":"FillPattern.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/fill/FillPattern.ts"],"sourcesContent":["import { Matrix } from '../../../../maths/matrix/Matrix';\nimport { uid } from '../../../../utils/data/uid';\n\nimport type { WRAP_MODE } from '../../../../rendering/renderers/shared/texture/const';\nimport type { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\n\nexport type PatternRepetition = 'repeat' | 'repeat-x' | 'repeat-y' | 'no-repeat';\n\nconst repetitionMap = {\n    repeat: {\n        addressModeU: 'repeat',\n        addressModeV: 'repeat',\n    },\n    'repeat-x': {\n        addressModeU: 'repeat',\n        addressModeV: 'clamp-to-edge',\n    },\n    'repeat-y': {\n        addressModeU: 'clamp-to-edge',\n        addressModeV: 'repeat',\n    },\n    'no-repeat': {\n        addressModeU: 'clamp-to-edge',\n        addressModeV: 'clamp-to-edge',\n    },\n};\n\nexport class FillPattern implements CanvasPattern\n{\n    /** unique id for this fill pattern */\n    public readonly uid: number = uid('fillPattern');\n    public texture: Texture;\n    public transform = new Matrix();\n\n    private _styleKey: string | null = null;\n\n    constructor(texture: Texture, repetition?: PatternRepetition)\n    {\n        this.texture = texture;\n\n        this.transform.scale(\n            1 / texture.frame.width,\n            1 / texture.frame.height\n        );\n\n        if (repetition)\n        {\n            texture.source.style.addressModeU = repetitionMap[repetition].addressModeU as WRAP_MODE;\n            texture.source.style.addressModeV = repetitionMap[repetition].addressModeV as WRAP_MODE;\n        }\n    }\n\n    public setTransform(transform?: Matrix): void\n    {\n        const texture = this.texture;\n\n        this.transform.copyFrom(transform);\n        this.transform.invert();\n        //  transform.scale\n        this.transform.scale(\n            1 / texture.frame.width,\n            1 / texture.frame.height\n        );\n\n        this._styleKey = null;\n    }\n\n    public get styleKey(): string\n    {\n        if (this._styleKey) return this._styleKey;\n\n        this._styleKey = `fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join('-')}`;\n\n        return this._styleKey;\n    }\n}\n"],"names":[],"mappings":";;;;;;;;AAQA,MAAM,aAAgB,GAAA;IAClB,MAAQ,EAAA;QACJ,YAAc,EAAA,QAAA;QACd,YAAc,EAAA,QAAA;IAAA,CAClB;IACA,UAAY,EAAA;QACR,YAAc,EAAA,QAAA;QACd,YAAc,EAAA,eAAA;IAAA,CAClB;IACA,UAAY,EAAA;QACR,YAAc,EAAA,eAAA;QACd,YAAc,EAAA,QAAA;IAAA,CAClB;IACA,WAAa,EAAA;QACT,YAAc,EAAA,eAAA;QACd,YAAc,EAAA,eAAA;IAAA,CAClB;AACJ,CAAA,CAAA;AAEO,MAAM,WACb,CAAA;IAQI,WAAA,CAAY,OAAA,EAAkB,UAC9B,CAAA;QAPA,oCAAA,GAAgB,IAAA,CAAA,GAAA,qKAAc,MAAA,EAAI,aAAa,CAAA,CAAA;QAExC,IAAA,CAAA,SAAA,GAAY,uKAAI,SAAO,EAAA,CAAA;QAE9B,IAAA,CAAQ,SAA2B,GAAA,IAAA,CAAA;QAI/B,IAAA,CAAK,OAAU,GAAA,OAAA,CAAA;QAEf,IAAA,CAAK,SAAU,CAAA,KAAA,CACX,CAAA,GAAI,QAAQ,KAAM,CAAA,KAAA,EAClB,CAAA,GAAI,QAAQ,KAAM,CAAA,MAAA;QAGtB,IAAI,UACJ,EAAA;YACI,OAAA,CAAQ,MAAO,CAAA,KAAA,CAAM,YAAe,GAAA,aAAA,CAAc,UAAU,CAAE,CAAA,YAAA,CAAA;YAC9D,OAAA,CAAQ,MAAO,CAAA,KAAA,CAAM,YAAe,GAAA,aAAA,CAAc,UAAU,CAAE,CAAA,YAAA,CAAA;QAAA,CAClE;IAAA,CACJ;IAEO,aAAa,SACpB,EAAA;QACI,MAAM,UAAU,IAAK,CAAA,OAAA,CAAA;QAEhB,IAAA,CAAA,SAAA,CAAU,QAAA,CAAS,SAAS,CAAA,CAAA;QACjC,IAAA,CAAK,SAAA,CAAU,MAAO,EAAA,CAAA;QAEtB,IAAA,CAAK,SAAU,CAAA,KAAA,CACX,CAAA,GAAI,QAAQ,KAAM,CAAA,KAAA,EAClB,CAAA,GAAI,QAAQ,KAAM,CAAA,MAAA;QAGtB,IAAA,CAAK,SAAY,GAAA,IAAA,CAAA;IAAA,CACrB;IAEA,IAAW,QACX,GAAA;QACI,IAAI,IAAK,CAAA,SAAA,EAAW,OAAO,IAAK,CAAA,SAAA,CAAA;QAEhC,IAAA,CAAK,SAAY,GAAA,CAAA,aAAA,EAAgB,IAAK,CAAA,GAAG,CAAA,CAAA,EAAI,IAAK,CAAA,OAAA,CAAQ,GAAG,CAAA,CAAA,EAAI,IAAA,CAAK,SAAU,CAAA,OAAA,EAAU,CAAA,IAAA,CAAK,GAAG,CAAC,CAAA,CAAA,CAAA;QAEnG,OAAO,IAAK,CAAA,SAAA,CAAA;IAAA,CAChB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 7213, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7219, "column": 0}, "map": {"version":3,"file":"FillGradient.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/fill/FillGradient.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { DOMAdapter } from '../../../../environment/adapter';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { ImageSource } from '../../../../rendering/renderers/shared/texture/sources/ImageSource';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { uid } from '../../../../utils/data/uid';\n\nimport type { ColorSource } from '../../../../color/Color';\n\nexport type GradientType = 'linear' | 'radial';\n\n// export type GradientSource =\n//     string // CSS gradient string: 'linear-gradient(...)'\n//     | IGradientOptions // Gradient options: { x0, y0, x1, y1, ...}\n//     | Gradient; // class Gradient itself\n\nexport interface LinearGradientFillStyle\n{\n    x0: number;\n    y0: number;\n    x1: number;\n    y1: number;\n    colors: number[];\n    stops: number[];\n}\n\nexport class FillGradient implements CanvasGradient\n{\n    public static defaultTextureSize = 256;\n\n    /** unique id for this fill gradient */\n    public readonly uid: number = uid('fillGradient');\n    public readonly type: GradientType = 'linear';\n\n    public x0: number;\n    public y0: number;\n    public x1: number;\n    public y1: number;\n\n    public texture: Texture;\n    public transform: Matrix;\n    public gradientStops: Array<{ offset: number, color: string }> = [];\n\n    private _styleKey: string | null = null;\n\n    constructor(x0: number, y0: number, x1: number, y1: number)\n    {\n        this.x0 = x0;\n        this.y0 = y0;\n\n        this.x1 = x1;\n        this.y1 = y1;\n    }\n\n    public addColorStop(offset: number, color: ColorSource): this\n    {\n        this.gradientStops.push({ offset, color: Color.shared.setValue(color).toHexa() });\n        this._styleKey = null;\n\n        return this;\n    }\n\n    // TODO move to the system!\n    public buildLinearGradient(): void\n    {\n        if (this.texture) return;\n\n        const defaultSize = FillGradient.defaultTextureSize;\n\n        const { gradientStops } = this;\n\n        const canvas = DOMAdapter.get().createCanvas();\n\n        canvas.width = defaultSize;\n        canvas.height = defaultSize;\n\n        const ctx = canvas.getContext('2d');\n\n        const gradient = ctx.createLinearGradient(0, 0, FillGradient.defaultTextureSize, 1);\n\n        for (let i = 0; i < gradientStops.length; i++)\n        {\n            const stop = gradientStops[i];\n\n            gradient.addColorStop(stop.offset, stop.color);\n        }\n\n        ctx.fillStyle = gradient;\n        ctx.fillRect(0, 0, defaultSize, defaultSize);\n\n        this.texture = new Texture({\n            source: new ImageSource({\n                resource: canvas,\n                addressModeU: 'clamp-to-edge',\n                addressModeV: 'repeat',\n            }),\n        });\n\n        // generate some UVS based on the gradient direction sent\n\n        const { x0, y0, x1, y1 } = this;\n\n        const m = new Matrix();\n\n        // get angle\n        const dx = x1 - x0;\n        const dy = y1 - y0;\n\n        const dist = Math.sqrt((dx * dx) + (dy * dy));\n\n        const angle = Math.atan2(dy, dx);\n\n        m.translate(-x0, -y0);\n        m.scale(1 / defaultSize, 1 / defaultSize);\n        m.rotate(-angle);\n        m.scale(256 / dist, 1);\n\n        this.transform = m;\n        this._styleKey = null;\n    }\n\n    public get styleKey(): string\n    {\n        if (this._styleKey)\n        {\n            return this._styleKey;\n        }\n\n        const stops = this.gradientStops.map((stop) => `${stop.offset}-${stop.color}`).join('-');\n        const texture = this.texture.uid;\n        const transform = this.transform.toArray().join('-');\n\n        return `fill-gradient-${this.uid}-${stops}-${texture}-${transform}-${this.x0}-${this.y0}-${this.x1}-${this.y1}`;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7304, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7310, "column": 0}, "map": {"version":3,"file":"convertFillInputToFillStyle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/utils/convertFillInputToFillStyle.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { FillGradient } from '../fill/FillGradient';\nimport { FillPattern } from '../fill/FillPattern';\n\nimport type { ColorSource } from '../../../../color/Color';\nimport type {\n    ConvertedFillStyle,\n    ConvertedStrokeStyle,\n    FillInput,\n    FillStyle,\n    StrokeInput,\n} from '../FillTypes';\n\nfunction isColorLike(value: unknown): value is ColorSource\n{\n    return Color.isColorLike(value as ColorSource);\n}\n\nfunction isFillPattern(value: unknown): value is FillPattern\n{\n    return value instanceof FillPattern;\n}\n\nfunction isFillGradient(value: unknown): value is FillGradient\n{\n    return value instanceof FillGradient;\n}\n\n/**\n * Handles the case where the value is a ColorLike\n * @param fill\n * @param value\n * @param defaultStyle\n * @example\n * graphics.fill(0xff0000)\n * graphics.fill(new Color(0xff0000))\n * graphics.fill({ r: 255, g: 0, b: 0 })\n */\nfunction handleColorLike(\n    fill: FillStyle,\n    value: ColorSource,\n    defaultStyle: ConvertedFillStyle\n): ConvertedFillStyle\n{\n    const temp = Color.shared.setValue(value ?? 0);\n\n    fill.color = temp.toNumber();\n    fill.alpha = temp.alpha === 1 ? defaultStyle.alpha : temp.alpha;\n    fill.texture = Texture.WHITE;\n\n    return { ...defaultStyle, ...fill } as ConvertedFillStyle;\n}\n\n/**\n * Handles the case where the value is a FillPattern\n * @param fill\n * @param value\n * @param defaultStyle\n * @example\n * graphics.fill(new FillPattern(0xff0000))\n */\nfunction handleFillPattern(\n    fill: FillStyle,\n    value: FillPattern,\n    defaultStyle: ConvertedFillStyle\n): ConvertedFillStyle\n{\n    fill.fill = value;\n    fill.color = 0xffffff;\n    fill.texture = value.texture;\n    fill.matrix = value.transform;\n\n    return { ...defaultStyle, ...fill } as ConvertedFillStyle;\n}\n\n/**\n * Handles the case where the value is a FillGradient\n * @param fill\n * @param value\n * @param defaultStyle\n * @example\n * graphics.fill(new FillGradient(0, 0, 200, 0))\n */\nfunction handleFillGradient(\n    fill: FillStyle,\n    value: FillGradient,\n    defaultStyle: ConvertedFillStyle\n): ConvertedFillStyle\n{\n    value.buildLinearGradient();\n    fill.fill = value;\n    fill.color = 0xffffff;\n    fill.texture = value.texture;\n    fill.matrix = value.transform;\n\n    return { ...defaultStyle, ...fill } as ConvertedFillStyle;\n}\n\n/**\n * Handles the case where the value is not a direct Pixi Color, PatternFill, or GradientFill but instead\n * an object with potentially `color`\n * @example\n * {\n *   color: new Color(0xff0000)\n *   alpha: 0.5,\n *   texture?: null,\n *   matrix?: null,\n * }\n * @param value\n * @param defaultStyle\n */\nfunction handleFillObject(value: FillStyle, defaultStyle: ConvertedFillStyle): ConvertedFillStyle\n{\n    const style = { ...defaultStyle, ...(value as FillStyle) };\n\n    if (style.texture)\n    {\n        if (style.texture !== Texture.WHITE)\n        {\n            const m = style.matrix?.clone().invert() || new Matrix();\n\n            m.translate(style.texture.frame.x, style.texture.frame.y);\n            m.scale(1 / style.texture.source.width, 1 / style.texture.source.height);\n\n            style.matrix = m;\n        }\n\n        const sourceStyle = style.texture.source.style;\n\n        if (sourceStyle.addressMode === 'clamp-to-edge')\n        {\n            sourceStyle.addressMode = 'repeat';\n            sourceStyle.update();\n        }\n    }\n\n    const color = Color.shared.setValue(style.color);\n\n    style.alpha *= color.alpha;\n    style.color = color.toNumber();\n    style.matrix = style.matrix ? style.matrix.clone() : null; // todo: lets optimise this!\n\n    return style as ConvertedFillStyle;\n}\n\n/**\n * Converts a value to a fill style, we do this as PixiJS has a number of ways to define a fill style\n * They can be a direct color, a texture, a gradient, or an object with these values in them\n * This function will take any of these input types and convert them into a single object\n * that PixiJS can understand and use internally.\n * @param value - The value to convert to a fill style\n * @param defaultStyle - The default fill style to use\n * @private\n */\nexport function toFillStyle<T extends FillInput>(\n    value: T,\n    defaultStyle: ConvertedFillStyle\n): ConvertedFillStyle\n{\n    if (value === undefined || value === null)\n    {\n        return null;\n    }\n\n    const fill: ConvertedFillStyle = {} as ConvertedFillStyle;\n    const objectStyle = value as FillStyle;\n\n    if (isColorLike(value))\n    {\n        return handleColorLike(fill, value, defaultStyle);\n    }\n    else if (isFillPattern(value))\n    {\n        return handleFillPattern(fill, value, defaultStyle);\n    }\n    else if (isFillGradient(value))\n    {\n        return handleFillGradient(fill, value, defaultStyle);\n    }\n    else if (objectStyle.fill && isFillPattern(objectStyle.fill))\n    {\n        return handleFillPattern(objectStyle, objectStyle.fill, defaultStyle);\n    }\n    else if (objectStyle.fill && isFillGradient(objectStyle.fill))\n    {\n        return handleFillGradient(objectStyle, objectStyle.fill, defaultStyle);\n    }\n\n    return handleFillObject(objectStyle, defaultStyle);\n}\n\n/**\n * Converts a value to a stroke style, similar to `toFillStyle` but for strokes\n * @param value - The value to convert to a stroke style\n * @param defaultStyle - The default stroke style to use\n * @private\n */\nexport function toStrokeStyle(value: StrokeInput, defaultStyle: ConvertedStrokeStyle): ConvertedStrokeStyle\n{\n    const { width, alignment, miterLimit, cap, join, pixelLine, ...rest } = defaultStyle;\n    const fill = toFillStyle(value, rest);\n\n    if (!fill)\n    {\n        return null;\n    }\n\n    return {\n        width,\n        alignment,\n        miterLimit,\n        cap,\n        join,\n        pixelLine,\n        ...fill,\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7426, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7432, "column": 0}, "map": {"version":3,"file":"SVGParser.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/svg/SVGParser.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { GraphicsPath } from '../path/GraphicsPath';\n\nimport type { ConvertedFillStyle, ConvertedStrokeStyle, FillStyle, StrokeStyle } from '../FillTypes';\nimport type {\n    GraphicsContext,\n} from '../GraphicsContext';\n\ninterface Session\n{\n    context: GraphicsContext;\n    path: GraphicsPath;\n}\n\nexport function SVGParser(\n    svg: string | SVGElement | SVGSVGElement,\n    graphicsContext?: GraphicsContext\n): GraphicsContext\n{\n    if (typeof svg === 'string')\n    {\n        const div = document.createElement('div');\n\n        div.innerHTML = svg.trim();\n        svg = div.querySelector('svg') as SVGElement;\n    }\n\n    const session = {\n        context: graphicsContext,\n        path: new GraphicsPath(),\n    };\n\n    renderChildren(svg, session, null, null);\n\n    return graphicsContext;\n}\n\nfunction renderChildren(svg: SVGElement, session: Session, fillStyle: FillStyle, strokeStyle: StrokeStyle): void\n{\n    const children = svg.children;\n\n    const { fillStyle: f1, strokeStyle: s1 } = parseStyle(svg);\n\n    if (f1 && fillStyle)\n    {\n        fillStyle = { ...fillStyle, ...f1 };\n    }\n    else if (f1)\n    {\n        fillStyle = f1;\n    }\n\n    if (s1 && strokeStyle)\n    {\n        strokeStyle = { ...strokeStyle, ...s1 };\n    }\n    else if (s1)\n    {\n        strokeStyle = s1;\n    }\n\n    session.context.fillStyle = fillStyle;\n    session.context.strokeStyle = strokeStyle;\n\n    let x;\n    let y;\n    let x1;\n    let y1;\n    let x2;\n    let y2;\n    let cx;\n    let cy;\n    let r;\n    let rx;\n    let ry;\n    let points;\n    let pointsString;\n    let d;\n    let graphicsPath;\n    let width;\n    let height;\n\n    switch (svg.nodeName.toLowerCase())\n    {\n        case 'path':\n            d = svg.getAttribute('d') as string;\n\n            graphicsPath = new GraphicsPath(d);\n\n            session.context.path(graphicsPath);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'circle':\n            cx = parseFloatAttribute(svg, 'cx', 0);\n            cy = parseFloatAttribute(svg, 'cy', 0);\n\n            r = parseFloatAttribute(svg, 'r', 0);\n\n            session.context.ellipse(cx, cy, r, r);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'rect':\n            x = parseFloatAttribute(svg, 'x', 0);\n            y = parseFloatAttribute(svg, 'y', 0);\n\n            width = parseFloatAttribute(svg, 'width', 0);\n            height = parseFloatAttribute(svg, 'height', 0);\n\n            rx = parseFloatAttribute(svg, 'rx', 0);\n            ry = parseFloatAttribute(svg, 'ry', 0);\n\n            if (rx || ry)\n            {\n                session.context.roundRect(x, y, width, height, rx || ry);\n            }\n            else\n            {\n                session.context.rect(x, y, width, height);\n            }\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'ellipse':\n            cx = parseFloatAttribute(svg, 'cx', 0);\n            cy = parseFloatAttribute(svg, 'cy', 0);\n\n            rx = parseFloatAttribute(svg, 'rx', 0);\n            ry = parseFloatAttribute(svg, 'ry', 0);\n\n            session.context.beginPath();\n            session.context.ellipse(cx, cy, rx, ry); // , 0, Math.PI * 2);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'line':\n            x1 = parseFloatAttribute(svg, 'x1', 0);\n            y1 = parseFloatAttribute(svg, 'y1', 0);\n\n            x2 = parseFloatAttribute(svg, 'x2', 0);\n            y2 = parseFloatAttribute(svg, 'y2', 0);\n\n            session.context.beginPath();\n            session.context.moveTo(x1, y1);\n            session.context.lineTo(x2, y2);\n\n            if (strokeStyle) session.context.stroke();\n\n            break;\n\n        case 'polygon':\n            pointsString = svg.getAttribute('points') as string;\n\n            points = pointsString.match(/\\d+/g).map((n) => parseInt(n, 10));\n\n            session.context.poly(points, true);\n\n            if (fillStyle) session.context.fill();\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        case 'polyline':\n            pointsString = svg.getAttribute('points') as string;\n\n            points = pointsString.match(/\\d+/g).map((n) => parseInt(n, 10));\n\n            session.context.poly(points, false);\n\n            if (strokeStyle) session.context.stroke();\n\n            break;\n        // children will cover these two..\n        case 'g':\n        case 'svg':\n            break;\n        default: {\n            // eslint-disable-next-line no-console\n            console.info(`[SVG parser] <${svg.nodeName}> elements unsupported`);\n            break;\n        }\n    }\n\n    for (let i = 0; i < children.length; i++)\n    {\n        renderChildren(children[i] as SVGElement, session, fillStyle, strokeStyle);\n    }\n}\n\nfunction parseFloatAttribute(svg: SVGElement, id: string, defaultValue: number): number\n{\n    const value = svg.getAttribute(id) as string;\n\n    return value ? Number(value) : defaultValue;\n}\n\nfunction parseStyle(svg: SVGElement): { strokeStyle: ConvertedStrokeStyle; fillStyle: ConvertedFillStyle }\n{\n    const style = svg.getAttribute('style');\n\n    const strokeStyle: StrokeStyle = {};\n\n    const fillStyle: FillStyle = {};\n\n    let useFill = false;\n    let useStroke = false;\n\n    if (style)\n    {\n        const styleParts = style.split(';');\n\n        for (let i = 0; i < styleParts.length; i++)\n        {\n            const stylePart = styleParts[i];\n\n            const [key, value] = stylePart.split(':');\n\n            switch (key)\n            {\n                case 'stroke':\n                    if (value !== 'none')\n                    {\n                        strokeStyle.color = Color.shared.setValue(value).toNumber();\n                        useStroke = true;\n                    }\n\n                    break;\n                case 'stroke-width':\n                    strokeStyle.width = Number(value);\n                    break;\n                case 'fill':\n                    if (value !== 'none')\n                    {\n                        useFill = true;\n                        fillStyle.color = Color.shared.setValue(value).toNumber();\n                    }\n                    break;\n                case 'fill-opacity':\n                    fillStyle.alpha = Number(value);\n                    break;\n                case 'stroke-opacity':\n                    strokeStyle.alpha = Number(value);\n                    break;\n                case 'opacity':\n                    fillStyle.alpha = Number(value);\n                    strokeStyle.alpha = Number(value);\n                    break;\n            }\n        }\n    }\n    else\n    {\n        const stroke = svg.getAttribute('stroke');\n\n        if (stroke && stroke !== 'none')\n        {\n            useStroke = true;\n            strokeStyle.color = Color.shared.setValue(stroke).toNumber();\n\n            strokeStyle.width = parseFloatAttribute(svg, 'stroke-width', 1);\n        }\n\n        const fill = svg.getAttribute('fill');\n\n        if (fill && fill !== 'none')\n        {\n            useFill = true;\n            fillStyle.color = Color.shared.setValue(fill).toNumber();\n        }\n    }\n\n    return {\n        strokeStyle: useStroke ? (strokeStyle as ConvertedStrokeStyle) : null,\n        fillStyle: useFill ? (fillStyle as ConvertedFillStyle) : null,\n    };\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 7631, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 7637, "column": 0}, "map": {"version":3,"file":"GraphicsContext.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/GraphicsContext.ts"],"sourcesContent":["/* eslint-disable max-len */\nimport EventEmitter from 'eventemitter3';\nimport { Color, type ColorSource } from '../../../color/Color';\nimport { Matrix } from '../../../maths/matrix/Matrix';\nimport { Point } from '../../../maths/point/Point';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport { uid } from '../../../utils/data/uid';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\nimport { Bounds } from '../../container/bounds/Bounds';\nimport { GraphicsPath } from './path/GraphicsPath';\nimport { SVGParser } from './svg/SVGParser';\nimport { toFillStyle, toStrokeStyle } from './utils/convertFillInputToFillStyle';\n\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport type { TextureDestroyOptions, TypeOrBool } from '../../container/destroyTypes';\nimport type { ConvertedFillStyle, ConvertedStrokeStyle, FillInput, StrokeInput } from './FillTypes';\nimport type { RoundedPoint } from './path/roundShape';\n\nconst tmpPoint = new Point();\n\nexport type BatchMode = 'auto' | 'batch' | 'no-batch';\n\nexport interface FillInstruction\n{\n    action: 'fill' | 'cut'\n    data: { style: ConvertedFillStyle, path: GraphicsPath, hole?: GraphicsPath }\n}\n\nexport interface StrokeInstruction\n{\n    action: 'stroke'\n    data: { style: ConvertedStrokeStyle, path: GraphicsPath, hole?: GraphicsPath }\n}\n\nexport interface TextureInstruction\n{\n    action: 'texture'\n    data: {\n        image: Texture,\n\n        dx: number\n        dy: number\n\n        dw: number\n        dh: number\n\n        transform: Matrix\n        alpha: number\n        style: number,\n    }\n}\n\nexport type GraphicsInstructions = FillInstruction | StrokeInstruction | TextureInstruction;\n\nconst tempMatrix = new Matrix();\n\n/**\n * The GraphicsContext class allows for the creation of lightweight objects that contain instructions for drawing shapes and paths.\n * It is used internally by the Graphics class to draw shapes and paths, and can be used directly and shared between Graphics objects,\n *\n * This sharing of a `GraphicsContext` means that the intensive task of converting graphics instructions into GPU-ready geometry is done once, and the results are reused,\n * much like sprites reusing textures.\n * @memberof scene\n */\nexport class GraphicsContext extends EventEmitter<{\n    update: GraphicsContext\n    destroy: GraphicsContext\n}>\n{\n    /** The default fill style to use when none is provided. */\n    public static defaultFillStyle: ConvertedFillStyle = {\n        /** The color to use for the fill. */\n        color: 0xffffff,\n        /** The alpha value to use for the fill. */\n        alpha: 1,\n        /** The texture to use for the fill. */\n        texture: Texture.WHITE,\n        /** The matrix to apply. */\n        matrix: null,\n        /** The fill pattern to use. */\n        fill: null,\n    };\n\n    /** The default stroke style to use when none is provided. */\n    public static defaultStrokeStyle: ConvertedStrokeStyle = {\n        /** The width of the stroke. */\n        width: 1,\n        /** The color to use for the stroke. */\n        color: 0xffffff,\n        /** The alpha value to use for the stroke. */\n        alpha: 1,\n        /** The alignment of the stroke. */\n        alignment: 0.5,\n        /** The miter limit to use. */\n        miterLimit: 10,\n        /** The line cap style to use. */\n        cap: 'butt',\n        /** The line join style to use. */\n        join: 'miter',\n        /** The texture to use for the fill. */\n        texture: Texture.WHITE,\n        /** The matrix to apply. */\n        matrix: null,\n        /** The fill pattern to use. */\n        fill: null,\n        /** If the stroke is a pixel line. */\n        pixelLine: false,\n    };\n\n    /** unique id for this graphics context */\n    public readonly uid: number = uid('graphicsContext');\n    public dirty = true;\n    public batchMode: BatchMode = 'auto';\n    public instructions: GraphicsInstructions[] = [];\n    public customShader?: Shader;\n\n    private _activePath: GraphicsPath = new GraphicsPath();\n    private _transform: Matrix = new Matrix();\n\n    private _fillStyle: ConvertedFillStyle = { ...GraphicsContext.defaultFillStyle };\n    private _strokeStyle: ConvertedStrokeStyle = { ...GraphicsContext.defaultStrokeStyle };\n    private _stateStack: { fillStyle: ConvertedFillStyle; strokeStyle: ConvertedStrokeStyle, transform: Matrix }[] = [];\n\n    private _tick = 0;\n\n    private _bounds = new Bounds();\n    private _boundsDirty = true;\n\n    /**\n     * Creates a new GraphicsContext object that is a clone of this instance, copying all properties,\n     * including the current drawing state, transformations, styles, and instructions.\n     * @returns A new GraphicsContext instance with the same properties and state as this one.\n     */\n    public clone(): GraphicsContext\n    {\n        const clone = new GraphicsContext();\n\n        clone.batchMode = this.batchMode;\n        clone.instructions = this.instructions.slice();\n        clone._activePath = this._activePath.clone();\n        clone._transform = this._transform.clone();\n        clone._fillStyle = { ...this._fillStyle };\n        clone._strokeStyle = { ...this._strokeStyle };\n        clone._stateStack = this._stateStack.slice();\n        clone._bounds = this._bounds.clone();\n        clone._boundsDirty = true;\n\n        return clone;\n    }\n\n    /**\n     * The current fill style of the graphics context. This can be a color, gradient, pattern, or a more complex style defined by a FillStyle object.\n     */\n    get fillStyle(): ConvertedFillStyle\n    {\n        return this._fillStyle;\n    }\n\n    set fillStyle(value: FillInput)\n    {\n        this._fillStyle = toFillStyle(value, GraphicsContext.defaultFillStyle);\n    }\n\n    /**\n     * The current stroke style of the graphics context. Similar to fill styles, stroke styles can encompass colors, gradients, patterns, or more detailed configurations via a StrokeStyle object.\n     */\n    get strokeStyle(): ConvertedStrokeStyle\n    {\n        return this._strokeStyle;\n    }\n\n    set strokeStyle(value: FillInput)\n    {\n        this._strokeStyle = toStrokeStyle(value, GraphicsContext.defaultStrokeStyle);\n    }\n\n    /**\n     * Sets the current fill style of the graphics context. The fill style can be a color, gradient,\n     * pattern, or a more complex style defined by a FillStyle object.\n     * @param style - The fill style to apply. This can be a simple color, a gradient or pattern object,\n     *                or a FillStyle or ConvertedFillStyle object.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public setFillStyle(style: FillInput): this\n    {\n        this._fillStyle = toFillStyle(style, GraphicsContext.defaultFillStyle);\n\n        return this;\n    }\n\n    /**\n     * Sets the current stroke style of the graphics context. Similar to fill styles, stroke styles can\n     * encompass colors, gradients, patterns, or more detailed configurations via a StrokeStyle object.\n     * @param style - The stroke style to apply. Can be defined as a color, a gradient or pattern,\n     *                or a StrokeStyle or ConvertedStrokeStyle object.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public setStrokeStyle(style: StrokeInput): this\n    {\n        this._strokeStyle = toFillStyle(style, GraphicsContext.defaultStrokeStyle) as ConvertedStrokeStyle;\n\n        return this;\n    }\n\n    /**\n     * Adds a texture to the graphics context. This method supports multiple overloads for specifying the texture, tint, and dimensions.\n     * If only a texture is provided, it uses the texture's width and height for drawing. Additional parameters allow for specifying\n     * a tint color, and custom dimensions for the texture drawing area.\n     * @param texture - The Texture object to use.\n     * @param tint - (Optional) A ColorSource to tint the texture. If not provided, defaults to white (0xFFFFFF).\n     * @param dx - (Optional) The x-coordinate in the destination canvas at which to place the top-left corner of the source image.\n     * @param dy - (Optional) The y-coordinate in the destination canvas at which to place the top-left corner of the source image.\n     * @param dw - (Optional) The width of the rectangle within the source image to draw onto the destination canvas. If not provided, uses the texture's frame width.\n     * @param dh - (Optional) The height of the rectangle within the source image to draw onto the destination canvas. If not provided, uses the texture's frame height.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public texture(texture: Texture): this;\n    public texture(texture: Texture, tint: ColorSource): this;\n    public texture(texture: Texture, tint: ColorSource, dx: number, dy: number): this;\n    public texture(texture: Texture, tint: ColorSource, dx: number, dy: number, dw: number, dh: number): this;\n    public texture(texture: Texture, tint?: ColorSource, dx?: number, dy?: number, dw?: number, dh?: number): this\n    {\n        this.instructions.push({\n            action: 'texture',\n            data: {\n                image: texture,\n\n                dx: dx || 0,\n                dy: dy || 0,\n\n                dw: dw || texture.frame.width,\n                dh: dh || texture.frame.height,\n\n                transform: this._transform.clone(),\n                alpha: this._fillStyle.alpha,\n                style: tint ? Color.shared.setValue(tint).toNumber() : 0xFFFFFF,\n            }\n        });\n\n        this.onUpdate();\n\n        return this;\n    }\n\n    /**\n     * Resets the current path. Any previous path and its commands are discarded and a new path is\n     * started. This is typically called before beginning a new shape or series of drawing commands.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public beginPath(): this\n    {\n        this._activePath = new GraphicsPath();\n\n        return this;\n    }\n\n    /**\n     * Fills the current or given path with the current fill style. This method can optionally take\n     * a color and alpha for a simple fill, or a more complex FillInput object for advanced fills.\n     * @param style - (Optional) The style to fill the path with. Can be a color, gradient, pattern, or a complex style object. If omitted, uses the current fill style.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public fill(style?: FillInput): this;\n    /** @deprecated 8.0.0 */\n    public fill(color: ColorSource, alpha: number): this;\n    public fill(style?: FillInput, alpha?: number): this\n    {\n        let path: GraphicsPath;\n\n        const lastInstruction = this.instructions[this.instructions.length - 1];\n\n        if (this._tick === 0 && lastInstruction && lastInstruction.action === 'stroke')\n        {\n            path = lastInstruction.data.path;\n        }\n        else\n        {\n            path = this._activePath.clone();\n        }\n\n        if (!path) return this;\n\n        // eslint-disable-next-line no-eq-null, eqeqeq\n        if (style != null)\n        {\n            if (alpha !== undefined && typeof style === 'number')\n            {\n                // #if _DEBUG\n                deprecation(v8_0_0, 'GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead');\n                // #endif\n\n                style = { color: style, alpha };\n            }\n            this._fillStyle = toFillStyle(style, GraphicsContext.defaultFillStyle);\n        }\n\n        // TODO not a fan of the clone!!\n        this.instructions.push({\n            action: 'fill',\n            // TODO copy fill style!\n            data: { style: this.fillStyle, path }\n        });\n\n        this.onUpdate();\n\n        this._initNextPathLocation();\n        this._tick = 0;\n\n        return this;\n    }\n\n    private _initNextPathLocation()\n    {\n        // Reset the _activePath with the last point of the current path\n        const { x, y } = this._activePath.getLastPoint(Point.shared);\n\n        this._activePath.clear();\n        this._activePath.moveTo(x, y);\n    }\n\n    /**\n     * Strokes the current path with the current stroke style. This method can take an optional\n     * FillInput parameter to define the stroke's appearance, including its color, width, and other properties.\n     * @param style - (Optional) The stroke style to apply. Can be defined as a simple color or a more complex style object. If omitted, uses the current stroke style.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public stroke(style?: StrokeInput): this\n    {\n        let path: GraphicsPath;\n\n        const lastInstruction = this.instructions[this.instructions.length - 1];\n\n        if (this._tick === 0 && lastInstruction && lastInstruction.action === 'fill')\n        {\n            path = lastInstruction.data.path;\n        }\n        else\n        {\n            path = this._activePath.clone();\n        }\n\n        if (!path) return this;\n\n        // eslint-disable-next-line no-eq-null, eqeqeq\n        if (style != null)\n        {\n            this._strokeStyle = toStrokeStyle(style, GraphicsContext.defaultStrokeStyle);\n        }\n\n        // TODO not a fan of the clone!!\n        this.instructions.push({\n            action: 'stroke',\n            // TODO copy fill style!\n            data: { style: this.strokeStyle, path }\n        });\n\n        this.onUpdate();\n\n        this._initNextPathLocation();\n        this._tick = 0;\n\n        return this;\n    }\n\n    /**\n     * Applies a cutout to the last drawn shape. This is used to create holes or complex shapes by\n     * subtracting a path from the previously drawn path. If a hole is not completely in a shape, it will\n     * fail to cut correctly!\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public cut(): this\n    {\n        for (let i = 0; i < 2; i++)\n        {\n            const lastInstruction = this.instructions[this.instructions.length - 1 - i];\n\n            const holePath = this._activePath.clone();\n\n            if (lastInstruction)\n            {\n                if (lastInstruction.action === 'stroke' || lastInstruction.action === 'fill')\n                {\n                    if (lastInstruction.data.hole)\n                    {\n                        lastInstruction.data.hole.addPath(holePath);\n                    }\n                    else\n                    {\n                        lastInstruction.data.hole = holePath;\n                        break;\n                    }\n                }\n            }\n        }\n\n        this._initNextPathLocation();\n\n        return this;\n    }\n\n    /**\n     * Adds an arc to the current path, which is centered at (x, y) with the specified radius,\n     * starting and ending angles, and direction.\n     * @param x - The x-coordinate of the arc's center.\n     * @param y - The y-coordinate of the arc's center.\n     * @param radius - The arc's radius.\n     * @param startAngle - The starting angle, in radians.\n     * @param endAngle - The ending angle, in radians.\n     * @param counterclockwise - (Optional) Specifies whether the arc is drawn counterclockwise (true) or clockwise (false). Defaults to false.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise?: boolean): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.arc(\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n            radius,\n            startAngle,\n            endAngle,\n            counterclockwise,\n        );\n\n        return this;\n    }\n\n    /**\n     * Adds an arc to the current path with the given control points and radius, connected to the previous point\n     * by a straight line if necessary.\n     * @param x1 - The x-coordinate of the first control point.\n     * @param y1 - The y-coordinate of the first control point.\n     * @param x2 - The x-coordinate of the second control point.\n     * @param y2 - The y-coordinate of the second control point.\n     * @param radius - The arc's radius.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.arcTo(\n            (t.a * x1) + (t.c * y1) + t.tx,\n            (t.b * x1) + (t.d * y1) + t.ty,\n            (t.a * x2) + (t.c * y2) + t.tx,\n            (t.b * x2) + (t.d * y2) + t.ty,\n            radius,\n        );\n\n        return this;\n    }\n\n    /**\n     * Adds an SVG-style arc to the path, allowing for elliptical arcs based on the SVG spec.\n     * @param rx - The x-radius of the ellipse.\n     * @param ry - The y-radius of the ellipse.\n     * @param xAxisRotation - The rotation of the ellipse's x-axis relative\n     * to the x-axis of the coordinate system, in degrees.\n     * @param largeArcFlag - Determines if the arc should be greater than or less than 180 degrees.\n     * @param sweepFlag - Determines if the arc should be swept in a positive angle direction.\n     * @param x - The x-coordinate of the arc's end point.\n     * @param y - The y-coordinate of the arc's end point.\n     * @returns The instance of the current object for chaining.\n     */\n    public arcToSvg(\n        rx: number, ry: number,\n        xAxisRotation: number,\n        largeArcFlag: number,\n        sweepFlag: number,\n        x: number, y: number\n    ): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.arcToSvg(\n            rx, ry,\n            xAxisRotation, // should we rotate this with transform??\n            largeArcFlag,\n            sweepFlag,\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n        );\n\n        return this;\n    }\n\n    /**\n     * Adds a cubic Bezier curve to the path.\n     * It requires three points: the first two are control points and the third one is the end point.\n     * The starting point is the last point in the current path.\n     * @param cp1x - The x-coordinate of the first control point.\n     * @param cp1y - The y-coordinate of the first control point.\n     * @param cp2x - The x-coordinate of the second control point.\n     * @param cp2y - The y-coordinate of the second control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number, smoothness?: number): this\n    {\n        this._tick++;\n\n        // TODO optimize for no transform\n        const t = this._transform;\n\n        this._activePath.bezierCurveTo(\n            (t.a * cp1x) + (t.c * cp1y) + t.tx,\n            (t.b * cp1x) + (t.d * cp1y) + t.ty,\n            (t.a * cp2x) + (t.c * cp2y) + t.tx,\n            (t.b * cp2x) + (t.d * cp2y) + t.ty,\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n            smoothness,\n        );\n\n        return this;\n    }\n\n    /**\n     * Closes the current path by drawing a straight line back to the start.\n     * If the shape is already closed or there are no points in the path, this method does nothing.\n     * @returns The instance of the current object for chaining.\n     */\n    public closePath(): this\n    {\n        this._tick++;\n\n        this._activePath?.closePath();\n\n        return this;\n    }\n\n    /**\n     * Draws an ellipse at the specified location and with the given x and y radii.\n     * An optional transformation can be applied, allowing for rotation, scaling, and translation.\n     * @param x - The x-coordinate of the center of the ellipse.\n     * @param y - The y-coordinate of the center of the ellipse.\n     * @param radiusX - The horizontal radius of the ellipse.\n     * @param radiusY - The vertical radius of the ellipse.\n     * @returns The instance of the current object for chaining.\n     */\n    public ellipse(x: number, y: number, radiusX: number, radiusY: number): this\n    {\n        this._tick++;\n\n        this._activePath.ellipse(x, y, radiusX, radiusY, this._transform.clone());\n\n        return this;\n    }\n\n    /**\n     * Draws a circle shape. This method adds a new circle path to the current drawing.\n     * @param x - The x-coordinate of the center of the circle.\n     * @param y - The y-coordinate of the center of the circle.\n     * @param radius - The radius of the circle.\n     * @returns The instance of the current object for chaining.\n     */\n    public circle(x: number, y: number, radius: number): this\n    {\n        this._tick++;\n\n        this._activePath.circle(x, y, radius, this._transform.clone());\n\n        return this;\n    }\n\n    /**\n     * Adds another `GraphicsPath` to this path, optionally applying a transformation.\n     * @param path - The `GraphicsPath` to add.\n     * @returns The instance of the current object for chaining.\n     */\n    public path(path: GraphicsPath): this\n    {\n        this._tick++;\n\n        this._activePath.addPath(path, this._transform.clone());\n\n        return this;\n    }\n\n    /**\n     * Connects the current point to a new point with a straight line. This method updates the current path.\n     * @param x - The x-coordinate of the new point to connect to.\n     * @param y - The y-coordinate of the new point to connect to.\n     * @returns The instance of the current object for chaining.\n     */\n    public lineTo(x: number, y: number): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.lineTo(\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty\n        );\n\n        return this;\n    }\n\n    /**\n     * Sets the starting point for a new sub-path. Any subsequent drawing commands are considered part of this path.\n     * @param x - The x-coordinate for the starting point.\n     * @param y - The y-coordinate for the starting point.\n     * @returns The instance of the current object for chaining.\n     */\n    public moveTo(x: number, y: number): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        const instructions = this._activePath.instructions;\n\n        const transformedX = (t.a * x) + (t.c * y) + t.tx;\n        const transformedY = (t.b * x) + (t.d * y) + t.ty;\n\n        if (instructions.length === 1 && instructions[0].action === 'moveTo')\n        {\n            instructions[0].data[0] = transformedX;\n            instructions[0].data[1] = transformedY;\n\n            return this;\n        }\n        this._activePath.moveTo(\n            transformedX,\n            transformedY\n        );\n\n        return this;\n    }\n\n    /**\n     * Adds a quadratic curve to the path. It requires two points: the control point and the end point.\n     * The starting point is the last point in the current path.\n     * @param cpx - The x-coordinate of the control point.\n     * @param cpy - The y-coordinate of the control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public quadraticCurveTo(cpx: number, cpy: number, x: number, y: number, smoothness?: number): this\n    {\n        this._tick++;\n\n        const t = this._transform;\n\n        this._activePath.quadraticCurveTo(\n            (t.a * cpx) + (t.c * cpy) + t.tx,\n            (t.b * cpx) + (t.d * cpy) + t.ty,\n            (t.a * x) + (t.c * y) + t.tx,\n            (t.b * x) + (t.d * y) + t.ty,\n            smoothness,\n        );\n\n        return this;\n    }\n\n    /**\n     * Draws a rectangle shape. This method adds a new rectangle path to the current drawing.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @returns The instance of the current object for chaining.\n     */\n    public rect(x: number, y: number, w: number, h: number): this\n    {\n        this._tick++;\n\n        this._activePath.rect(x, y, w, h, this._transform.clone());\n\n        return this;\n    }\n\n    /**\n     * Draws a rectangle with rounded corners.\n     * The corner radius can be specified to determine how rounded the corners should be.\n     * An optional transformation can be applied, which allows for rotation, scaling, and translation of the rectangle.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @param radius - The radius of the rectangle's corners. If not specified, corners will be sharp.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundRect(x: number, y: number, w: number, h: number, radius?: number): this\n    {\n        this._tick++;\n\n        this._activePath.roundRect(x, y, w, h, radius, this._transform.clone());\n\n        return this;\n    }\n\n    /**\n     * Draws a polygon shape by specifying a sequence of points. This method allows for the creation of complex polygons,\n     * which can be both open and closed. An optional transformation can be applied, enabling the polygon to be scaled,\n     * rotated, or translated as needed.\n     * @param points - An array of numbers, or an array of PointData objects eg [{x,y}, {x,y}, {x,y}]\n     * representing the x and y coordinates, of the polygon's vertices, in sequence.\n     * @param close - A boolean indicating whether to close the polygon path. True by default.\n     */\n    public poly(points: number[] | PointData[], close?: boolean): this\n    {\n        this._tick++;\n\n        this._activePath.poly(points, close, this._transform.clone());\n\n        return this;\n    }\n\n    /**\n     * Draws a regular polygon with a specified number of sides. All sides and angles are equal.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n     * @returns The instance of the current object for chaining.\n     */\n    public regularPoly(x: number, y: number, radius: number, sides: number, rotation = 0, transform?: Matrix): this\n    {\n        this._tick++;\n        this._activePath.regularPoly(x, y, radius, sides, rotation, transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a polygon with rounded corners.\n     * Similar to `regularPoly` but with the ability to round the corners of the polygon.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param corner - The radius of the rounding of the corners.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundPoly(x: number, y: number, radius: number, sides: number, corner: number, rotation?: number): this\n    {\n        this._tick++;\n        this._activePath.roundPoly(x, y, radius, sides, corner, rotation);\n\n        return this;\n    }\n\n    /**\n     * Draws a shape with rounded corners. This function supports custom radius for each corner of the shape.\n     * Optionally, corners can be rounded using a quadratic curve instead of an arc, providing a different aesthetic.\n     * @param points - An array of `RoundedPoint` representing the corners of the shape to draw.\n     * A minimum of 3 points is required.\n     * @param radius - The default radius for the corners.\n     * This radius is applied to all corners unless overridden in `points`.\n     * @param useQuadratic - If set to true, rounded corners are drawn using a quadraticCurve\n     *  method instead of an arc method. Defaults to false.\n     * @param smoothness - Specifies the smoothness of the curve when `useQuadratic` is true.\n     * Higher values make the curve smoother.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundShape(points: RoundedPoint[], radius: number, useQuadratic?: boolean, smoothness?: number): this\n    {\n        this._tick++;\n        this._activePath.roundShape(points, radius, useQuadratic, smoothness);\n\n        return this;\n    }\n\n    /**\n     * Draw Rectangle with fillet corners. This is much like rounded rectangle\n     * however it support negative numbers as well for the corner radius.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param fillet - accept negative or positive values\n     */\n    public filletRect(x: number, y: number, width: number, height: number, fillet: number): this\n    {\n        this._tick++;\n        this._activePath.filletRect(x, y, width, height, fillet);\n\n        return this;\n    }\n\n    /**\n     * Draw Rectangle with chamfer corners. These are angled corners.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param chamfer - non-zero real number, size of corner cutout\n     * @param transform\n     */\n    public chamferRect(x: number, y: number, width: number, height: number, chamfer: number, transform?: Matrix): this\n    {\n        this._tick++;\n        this._activePath.chamferRect(x, y, width, height, chamfer, transform);\n\n        return this;\n    }\n\n    /**\n     * Draws a star shape centered at a specified location. This method allows for the creation\n     *  of stars with a variable number of points, outer radius, optional inner radius, and rotation.\n     * The star is drawn as a closed polygon with alternating outer and inner vertices to create the star's points.\n     * An optional transformation can be applied to scale, rotate, or translate the star as needed.\n     * @param x - The x-coordinate of the center of the star.\n     * @param y - The y-coordinate of the center of the star.\n     * @param points - The number of points of the star.\n     * @param radius - The outer radius of the star (distance from the center to the outer points).\n     * @param innerRadius - Optional. The inner radius of the star\n     * (distance from the center to the inner points between the outer points).\n     * If not provided, defaults to half of the `radius`.\n     * @param rotation - Optional. The rotation of the star in radians, where 0 is aligned with the y-axis.\n     * Defaults to 0, meaning one point is directly upward.\n     * @returns The instance of the current object for chaining further drawing commands.\n     */\n    public star(x: number, y: number, points: number, radius: number, innerRadius = 0, rotation = 0): this\n    {\n        this._tick++;\n\n        this._activePath.star(x, y, points, radius, innerRadius, rotation, this._transform.clone());\n\n        return this;\n    }\n\n    /**\n     * Parses and renders an SVG string into the graphics context. This allows for complex shapes and paths\n     * defined in SVG format to be drawn within the graphics context.\n     * @param svg - The SVG string to be parsed and rendered.\n     */\n    public svg(svg: string): this\n    {\n        this._tick++;\n\n        SVGParser(svg, this);\n\n        return this;\n    }\n\n    /**\n     * Restores the most recently saved graphics state by popping the top of the graphics state stack.\n     * This includes transformations, fill styles, and stroke styles.\n     */\n    public restore(): this\n    {\n        const state = this._stateStack.pop();\n\n        if (state)\n        {\n            this._transform = state.transform;\n            this._fillStyle = state.fillStyle;\n            this._strokeStyle = state.strokeStyle;\n        }\n\n        return this;\n    }\n\n    /** Saves the current graphics state, including transformations, fill styles, and stroke styles, onto a stack. */\n    public save(): this\n    {\n        this._stateStack.push({\n            transform: this._transform.clone(),\n            fillStyle: { ...this._fillStyle },\n            strokeStyle: { ...this._strokeStyle },\n        });\n\n        return this;\n    }\n\n    /**\n     * Returns the current transformation matrix of the graphics context.\n     * @returns The current transformation matrix.\n     */\n    public getTransform(): Matrix\n    {\n        return this._transform;\n    }\n\n    /**\n     * Resets the current transformation matrix to the identity matrix, effectively removing any transformations (rotation, scaling, translation) previously applied.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public resetTransform(): this\n    {\n        this._transform.identity();\n\n        return this;\n    }\n\n    /**\n     * Applies a rotation transformation to the graphics context around the current origin.\n     * @param angle - The angle of rotation in radians.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public rotate(angle: number): this\n    {\n        this._transform.rotate(angle);\n\n        return this;\n    }\n\n    /**\n     * Applies a scaling transformation to the graphics context, scaling drawings by x horizontally and by y vertically.\n     * @param x - The scale factor in the horizontal direction.\n     * @param y - (Optional) The scale factor in the vertical direction. If not specified, the x value is used for both directions.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public scale(x: number, y: number = x): this\n    {\n        this._transform.scale(x, y);\n\n        return this;\n    }\n\n    /**\n     * Sets the current transformation matrix of the graphics context to the specified matrix or values.\n     * This replaces the current transformation matrix.\n     * @param a - The value for the a property of the matrix, or a Matrix object to use directly.\n     * @param b - The value for the b property of the matrix.\n     * @param c - The value for the c property of the matrix.\n     * @param d - The value for the d property of the matrix.\n     * @param dx - The value for the tx (translate x) property of the matrix.\n     * @param dy - The value for the ty (translate y) property of the matrix.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public setTransform(transform: Matrix): this;\n    public setTransform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public setTransform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this\n    {\n        if (a instanceof Matrix)\n        {\n            this._transform.set(a.a, a.b, a.c, a.d, a.tx, a.ty);\n\n            return this;\n        }\n\n        this._transform.set(a, b, c, d, dx, dy);\n\n        return this;\n    }\n\n    /**\n     * Applies the specified transformation matrix to the current graphics context by multiplying the current matrix with the specified matrix.\n     * @param a - The value for the a property of the matrix, or a Matrix object to use directly.\n     * @param b - The value for the b property of the matrix.\n     * @param c - The value for the c property of the matrix.\n     * @param d - The value for the d property of the matrix.\n     * @param dx - The value for the tx (translate x) property of the matrix.\n     * @param dy - The value for the ty (translate y) property of the matrix.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public transform(transform: Matrix): this;\n    public transform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public transform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this\n    {\n        if (a instanceof Matrix)\n        {\n            this._transform.append(a);\n\n            return this;\n        }\n\n        tempMatrix.set(a, b, c, d, dx, dy);\n        this._transform.append(tempMatrix);\n\n        return this;\n    }\n\n    /**\n     * Applies a translation transformation to the graphics context, moving the origin by the specified amounts.\n     * @param x - The amount to translate in the horizontal direction.\n     * @param y - (Optional) The amount to translate in the vertical direction. If not specified, the x value is used for both directions.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public translate(x: number, y: number = x): this\n    {\n        this._transform.translate(x, y);\n\n        return this;\n    }\n\n    /**\n     * Clears all drawing commands from the graphics context, effectively resetting it. This includes clearing the path,\n     * and optionally resetting transformations to the identity matrix.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public clear(): this\n    {\n        this._activePath.clear();\n        this.instructions.length = 0;\n        this.resetTransform();\n\n        this.onUpdate();\n\n        return this;\n    }\n\n    protected onUpdate(): void\n    {\n        if (this.dirty) return;\n\n        this.emit('update', this, 0x10);\n        this.dirty = true;\n        this._boundsDirty = true;\n    }\n\n    /** The bounds of the graphic shape. */\n    get bounds(): Bounds\n    {\n        if (!this._boundsDirty) return this._bounds;\n\n        // TODO switch to idy dirty with tick..\n        const bounds = this._bounds;\n\n        bounds.clear();\n\n        for (let i = 0; i < this.instructions.length; i++)\n        {\n            const instruction = this.instructions[i];\n            const action = instruction.action;\n\n            if (action === 'fill')\n            {\n                const data = instruction.data as FillInstruction['data'];\n\n                bounds.addBounds(data.path.bounds);\n            }\n            else if (action === 'texture')\n            {\n                const data = instruction.data as TextureInstruction['data'];\n\n                bounds.addFrame(data.dx, data.dy, data.dx + data.dw, data.dy + data.dh, data.transform);\n            }\n            if (action === 'stroke')\n            {\n                const data = instruction.data as StrokeInstruction['data'];\n\n                const alignment = data.style.alignment;\n\n                const padding = (data.style.width * (1 - alignment));\n\n                const _bounds = data.path.bounds;\n\n                bounds.addFrame(\n                    _bounds.minX - padding,\n                    _bounds.minY - padding,\n                    _bounds.maxX + padding,\n                    _bounds.maxY + padding\n                );\n            }\n        }\n\n        return bounds;\n    }\n\n    /**\n     * Check to see if a point is contained within this geometry.\n     * @param point - Point to check if it's contained.\n     * @returns {boolean} `true` if the point is contained within geometry.\n     */\n    public containsPoint(point: PointData): boolean\n    {\n        // early out if the bounding box is not hit\n        if (!this.bounds.containsPoint(point.x, point.y)) return false;\n\n        const instructions = this.instructions;\n        let hasHit = false;\n\n        for (let k = 0; k < instructions.length; k++)\n        {\n            const instruction = instructions[k];\n\n            const data = instruction.data as FillInstruction['data'];\n            const path = data.path;\n\n            if (!instruction.action || !path) continue;\n\n            const style = data.style;\n            const shapes = path.shapePath.shapePrimitives;\n\n            for (let i = 0; i < shapes.length; i++)\n            {\n                const shape = shapes[i].shape;\n\n                if (!style || !shape) continue;\n\n                const transform = shapes[i].transform;\n\n                const transformedPoint = transform ? transform.applyInverse(point, tmpPoint) : point;\n\n                if (instruction.action === 'fill')\n                {\n                    hasHit = shape.contains(transformedPoint.x, transformedPoint.y);\n                }\n                else\n                {\n                    hasHit = shape.strokeContains(transformedPoint.x, transformedPoint.y, (style as ConvertedStrokeStyle).width);\n                }\n\n                const holes = data.hole;\n\n                if (holes)\n                {\n                    const holeShapes = holes.shapePath?.shapePrimitives;\n\n                    if (holeShapes)\n                    {\n                        for (let j = 0; j < holeShapes.length; j++)\n                        {\n                            if (holeShapes[j].shape.contains(transformedPoint.x, transformedPoint.y))\n                            {\n                                hasHit = false;\n                            }\n                        }\n                    }\n                }\n\n                if (hasHit)\n                {\n                    return true;\n                }\n            }\n        }\n\n        return hasHit;\n    }\n\n    /**\n     * Destroys the GraphicsData object.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the current texture of the fill/stroke style?\n     * @param {boolean} [options.textureSource=false] - Should it destroy the texture source of the fill/stroke style?\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions> = false): void\n    {\n        this._stateStack.length = 0;\n        this._transform = null;\n\n        this.emit('destroy', this);\n        this.removeAllListeners();\n\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            if (this._fillStyle.texture)\n            {\n                this._fillStyle.texture.destroy(destroyTextureSource);\n            }\n\n            if (this._strokeStyle.texture)\n            {\n                this._strokeStyle.texture.destroy(destroyTextureSource);\n            }\n        }\n\n        this._fillStyle = null;\n        this._strokeStyle = null;\n\n        this.instructions = null;\n        this._activePath = null;\n        this._bounds = null;\n        this._stateStack = null;\n        this.customShader = null;\n        this._transform = null;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8370, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8376, "column": 0}, "map": {"version":3,"file":"generateTextStyleKey.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/utils/generateTextStyleKey.ts"],"sourcesContent":["import { Color } from '../../../color/Color';\n\nimport type { ConvertedFillStyle, ConvertedStrokeStyle } from '../../graphics/shared/FillTypes';\nimport type { HTMLTextStyle } from '../../text-html/HTMLTextStyle';\nimport type { TextStyle } from '../TextStyle';\n\nconst valuesToIterateForKeys: Partial<keyof TextStyle | keyof HTMLTextStyle>[] = [\n    'align',\n    'breakWords',\n    'cssOverrides',\n    'fontVariant',\n    'fontWeight',\n    'leading',\n    'letterSpacing',\n    'lineHeight',\n    'padding',\n    'textBaseline',\n    'trim',\n    'whiteSpace',\n    'wordWrap',\n    'wordWrapWidth',\n    'fontFamily',\n    'fontStyle',\n    'fontSize',\n] as const;\n\n/**\n * Generates a unique key for the text style.\n * @param style - The style to generate a key for.\n * @returns the key for the style.\n */\nexport function generateTextStyleKey(style: TextStyle): string\n{\n    const key = [];\n\n    let index = 0;\n\n    for (let i = 0; i < valuesToIterateForKeys.length; i++)\n    {\n        const prop = `_${valuesToIterateForKeys[i]}`;\n\n        key[index++] = style[prop as keyof typeof style];\n    }\n\n    index = addFillStyleKey(style._fill, key as string[], index);\n    index = addStokeStyleKey(style._stroke, key as string[], index);\n    index = addDropShadowKey(style.dropShadow, key as string[], index);\n\n    return key.join('-');\n}\n\nfunction addFillStyleKey(fillStyle: ConvertedFillStyle, key: (number | string)[], index: number)\n{\n    if (!fillStyle) return index;\n\n    key[index++] = fillStyle.color;\n    key[index++] = fillStyle.alpha;\n    key[index++] = fillStyle.fill?.styleKey;\n\n    return index;\n}\n\nfunction addStokeStyleKey(strokeStyle: ConvertedStrokeStyle, key: (number | string)[], index: number)\n{\n    if (!strokeStyle) return index;\n\n    index = addFillStyleKey(strokeStyle, key, index);\n\n    key[index++] = strokeStyle.width;\n    key[index++] = strokeStyle.alignment;\n    key[index++] = strokeStyle.cap;\n    key[index++] = strokeStyle.join;\n    key[index++] = strokeStyle.miterLimit;\n\n    return index;\n}\n\nfunction addDropShadowKey(dropShadow: TextStyle['dropShadow'], key: (number | string)[], index: number)\n{\n    if (!dropShadow) return index;\n\n    key[index++] = dropShadow.alpha;\n    key[index++] = dropShadow.angle;\n    key[index++] = dropShadow.blur;\n    key[index++] = dropShadow.distance;\n    key[index++] = Color.shared.setValue(dropShadow.color).toNumber();\n\n    return index;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8441, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8447, "column": 0}, "map": {"version":3,"file":"TextStyle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/TextStyle.ts"],"sourcesContent":["import EventEmitter from 'eventemitter3';\nimport { Color, type ColorSource } from '../../color/Color';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { FillGradient } from '../graphics/shared/fill/FillGradient';\nimport { FillPattern } from '../graphics/shared/fill/FillPattern';\nimport { GraphicsContext } from '../graphics/shared/GraphicsContext';\nimport {\n    toFillStyle,\n    toStrokeStyle\n} from '../graphics/shared/utils/convertFillInputToFillStyle';\nimport { generateTextStyleKey } from './utils/generateTextStyleKey';\n\nimport type { TextureDestroyOptions, TypeOrBool } from '../container/destroyTypes';\nimport type {\n    ConvertedFillStyle,\n    ConvertedStrokeStyle,\n    FillInput,\n    FillStyle,\n    StrokeInput,\n    StrokeStyle\n} from '../graphics/shared/FillTypes';\n\nexport type TextStyleAlign = 'left' | 'center' | 'right' | 'justify';\nexport type TextStyleFill = string | string[] | number | number[] | CanvasGradient | CanvasPattern;\nexport type TextStyleFontStyle = 'normal' | 'italic' | 'oblique';\nexport type TextStyleFontVariant = 'normal' | 'small-caps';\n// eslint-disable-next-line max-len\nexport type TextStyleFontWeight = 'normal' | 'bold' | 'bolder' | 'lighter' | '100' | '200' | '300' | '400' | '500' | '600' | '700' | '800' | '900';\nexport type TextStyleLineJoin = 'miter' | 'round' | 'bevel';\nexport type TextStyleTextBaseline = 'alphabetic' | 'top' | 'hanging' | 'middle' | 'ideographic' | 'bottom';\nexport type TextStyleWhiteSpace = 'normal' | 'pre' | 'pre-line';\n\n/**\n * A collection of text related classes.\n * @namespace text\n */\n\n/**\n * A drop shadow effect.\n * @memberof text\n */\nexport type TextDropShadow = {\n    /** Set alpha for the drop shadow  */\n    alpha: number;\n    /** Set a angle of the drop shadow */\n    angle: number;\n    /** Set a shadow blur radius */\n    blur: number;\n    /** A fill style to be used on the  e.g., 'red', '#00FF00' */\n    color: ColorSource;\n    /** Set a distance of the drop shadow */\n    distance: number;\n};\n\n/**\n * Constructor options used for `TextStyle` instances.\n * ```js\n * const textStyle = new TextStyle({\n *    fontSize: 12,\n *    fill: 'black',\n * });\n * ```\n * @see {@link text.TextStyle}\n * @memberof text\n */\nexport interface TextStyleOptions\n{\n    /**\n     * Alignment for multiline text, does not affect single line text\n     * @type {'left'|'center'|'right'|'justify'}\n     */\n    align?: TextStyleAlign;\n    /** Indicates if lines can be wrapped within words, it needs `wordWrap` to be set to `true` */\n    breakWords?: boolean;\n    /** Set a drop shadow for the text */\n    dropShadow?: boolean | Partial<TextDropShadow>;\n    /**\n     * A canvas fillstyle that will be used on the text e.g., 'red', '#00FF00'.\n     * Can be an array to create a gradient, e.g., `['#000000','#FFFFFF']`\n     * {@link https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle|MDN}\n     * @type {string|string[]|number|number[]|CanvasGradient|CanvasPattern}\n     */\n    fill?: FillInput;\n    /** The font family, can be a single font name, or a list of names where the first is the preferred font. */\n    fontFamily?: string | string[];\n    /** The font size (as a number it converts to px, but as a string, equivalents are '26px','20pt','160%' or '1.6em') */\n    fontSize?: number | string;\n    /**\n     * The font style.\n     * @type {'normal'|'italic'|'oblique'}\n     */\n    fontStyle?: TextStyleFontStyle;\n    /**\n     * The font variant.\n     * @type {'normal'|'small-caps'}\n     */\n    fontVariant?: TextStyleFontVariant;\n    /**\n     * The font weight.\n     * @type {'normal'|'bold'|'bolder'|'lighter'|'100'|'200'|'300'|'400'|'500'|'600'|'700'|'800'|'900'}\n     */\n    fontWeight?: TextStyleFontWeight;\n    /** The height of the line, a number that represents the vertical space that a letter uses. */\n    leading?: number;\n    /** The amount of spacing between letters, default is 0 */\n    letterSpacing?: number;\n    /** The line height, a number that represents the vertical space that a letter uses */\n    lineHeight?: number;\n    /**\n     * Occasionally some fonts are cropped. Adding some padding will prevent this from\n     * happening by adding padding to all sides of the text.\n     */\n    padding?: number;\n    /** A canvas fillstyle that will be used on the text stroke, e.g., 'blue', '#FCFF00' */\n    stroke?: StrokeInput;\n    /**\n     * The baseline of the text that is rendered.\n     * @type {'alphabetic'|'top'|'hanging'|'middle'|'ideographic'|'bottom'}\n     */\n    textBaseline?: TextStyleTextBaseline;\n    trim?: boolean,\n    /**\n     * Determines whether newlines & spaces are collapsed or preserved \"normal\"\n     * (collapse, collapse), \"pre\" (preserve, preserve) | \"pre-line\" (preserve,\n     * collapse). It needs wordWrap to be set to true.\n     * @type {'normal'|'pre'|'pre-line'}\n     */\n    whiteSpace?: TextStyleWhiteSpace;\n    /** Indicates if word wrap should be used */\n    wordWrap?: boolean;\n    /** The width at which text will wrap, it needs wordWrap to be set to true */\n    wordWrapWidth?: number;\n}\n\n/**\n * A TextStyle Object contains information to decorate a Text objects.\n *\n * An instance can be shared between multiple Text objects; then changing the style will update all text objects using it.\n * @memberof text\n * @example\n * import { TextStyle } from 'pixi.js';\n * const style = new TextStyle({\n *   fontFamily: ['Helvetica', 'Arial', 'sans-serif'],\n *   fontSize: 36,\n * });\n */\nexport class TextStyle extends EventEmitter<{\n    update: TextDropShadow\n}>\n{\n    /** The default drop shadow settings */\n    public static defaultDropShadow: TextDropShadow = {\n        /** Set alpha for the drop shadow */\n        alpha: 1,\n        /** Set a angle of the drop shadow */\n        angle: Math.PI / 6,\n        /** Set a shadow blur radius */\n        blur: 0,\n        /** A fill style to be used on the  e.g., 'red', '#00FF00' */\n        color: 'black',\n        /** Set a distance of the drop shadow */\n        distance: 5,\n    };\n\n    /** The default text style settings */\n    public static defaultTextStyle: TextStyleOptions = {\n        /**\n         * See {@link TextStyle.align}\n         * @type {'left'|'center'|'right'|'justify'}\n         */\n        align: 'left',\n        /** See {@link TextStyle.breakWords} */\n        breakWords: false,\n        /** See {@link TextStyle.dropShadow} */\n        dropShadow:  null,\n        /**\n         * See {@link TextStyle.fill}\n         * @type {string|string[]|number|number[]|CanvasGradient|CanvasPattern}\n         */\n        fill: 'black',\n        /**\n         * See {@link TextStyle.fontFamily}\n         * @type {string|string[]}\n         */\n        fontFamily: 'Arial',\n        /**\n         * See {@link TextStyle.fontSize}\n         * @type {number|string}\n         */\n        fontSize: 26,\n        /**\n         * See {@link TextStyle.fontStyle}\n         * @type {'normal'|'italic'|'oblique'}\n         */\n        fontStyle: 'normal',\n        /**\n         * See {@link TextStyle.fontVariant}\n         * @type {'normal'|'small-caps'}\n         */\n        fontVariant: 'normal',\n        /**\n         * See {@link TextStyle.fontWeight}\n         * @type {'normal'|'bold'|'bolder'|'lighter'|'100'|'200'|'300'|'400'|'500'|'600'|'700'|'800'|'900'}\n         */\n        fontWeight: 'normal',\n        /** See {@link TextStyle.leading} */\n        leading: 0,\n        /** See {@link TextStyle.letterSpacing} */\n        letterSpacing: 0,\n        /** See {@link TextStyle.lineHeight} */\n        lineHeight: 0,\n        /** See {@link TextStyle.padding} */\n        padding: 0,\n        /**\n         * See {@link TextStyle.stroke}\n         * @type {string|number}\n         */\n        stroke: null,\n        /**\n         * See {@link TextStyle.textBaseline}\n         * @type {'alphabetic'|'top'|'hanging'|'middle'|'ideographic'|'bottom'}\n         */\n        textBaseline: 'alphabetic',\n        /** See {@link TextStyle.trim} */\n        trim: false,\n        /**\n         * See {@link TextStyle.whiteSpace}\n         * @type {'normal'|'pre'|'pre-line'}\n         */\n        whiteSpace: 'pre',\n        /** See {@link TextStyle.wordWrap} */\n        wordWrap: false,\n        /** See {@link TextStyle.wordWrapWidth} */\n        wordWrapWidth: 100,\n    };\n\n    // colors!!\n    public _fill: ConvertedFillStyle;\n    private _originalFill: FillInput;\n\n    public _stroke: ConvertedStrokeStyle;\n    private _originalStroke: StrokeInput;\n\n    private _dropShadow: TextDropShadow;\n\n    private _fontFamily: string | string[];\n    private _fontSize: number;\n    private _fontStyle: TextStyleFontStyle;\n    private _fontVariant: TextStyleFontVariant;\n    private _fontWeight: TextStyleFontWeight;\n\n    private _breakWords: boolean;\n    private _align: TextStyleAlign;\n    private _leading: number;\n    private _letterSpacing: number;\n    private _lineHeight: number;\n\n    private _textBaseline: TextStyleTextBaseline;\n    private _whiteSpace: TextStyleWhiteSpace;\n    private _wordWrap: boolean;\n    private _wordWrapWidth: number;\n\n    private _padding: number;\n\n    protected _styleKey: string;\n    private _trim: boolean;\n\n    constructor(style: Partial<TextStyleOptions> = {})\n    {\n        super();\n\n        convertV7Tov8Style(style);\n\n        const fullStyle = { ...TextStyle.defaultTextStyle, ...style };\n\n        for (const key in fullStyle)\n        {\n            const thisKey = key as keyof typeof this;\n\n            this[thisKey] = fullStyle[key as keyof TextStyleOptions] as any;\n        }\n\n        this.update();\n    }\n\n    /**\n     * Alignment for multiline text, does not affect single line text.\n     * @member {'left'|'center'|'right'|'justify'}\n     */\n    get align(): TextStyleAlign { return this._align; }\n    set align(value: TextStyleAlign) { this._align = value; this.update(); }\n    /** Indicates if lines can be wrapped within words, it needs wordWrap to be set to true. */\n    get breakWords(): boolean { return this._breakWords; }\n    set breakWords(value: boolean) { this._breakWords = value; this.update(); }\n    /** Set a drop shadow for the text. */\n    get dropShadow(): TextDropShadow { return this._dropShadow; }\n    set dropShadow(value: boolean | TextDropShadow)\n    {\n        if (value !== null && typeof value === 'object')\n        {\n            this._dropShadow = this._createProxy({ ...TextStyle.defaultDropShadow, ...value });\n        }\n        else\n        {\n            this._dropShadow = value ? this._createProxy({ ...TextStyle.defaultDropShadow }) : null;\n        }\n\n        this.update();\n    }\n    /** The font family, can be a single font name, or a list of names where the first is the preferred font. */\n    get fontFamily(): string | string[] { return this._fontFamily; }\n    set fontFamily(value: string | string[]) { this._fontFamily = value; this.update(); }\n    /** The font size (as a number it converts to px, but as a string, equivalents are '26px','20pt','160%' or '1.6em') */\n    get fontSize(): number { return this._fontSize; }\n    set fontSize(value: string | number)\n    {\n        if (typeof value === 'string')\n        {\n            // eg '34px' to number\n            this._fontSize = parseInt(value as string, 10);\n        }\n        else\n        {\n            this._fontSize = value as number;\n        }\n        this.update();\n    }\n    /**\n     * The font style.\n     * @member {'normal'|'italic'|'oblique'}\n     */\n    get fontStyle(): TextStyleFontStyle { return this._fontStyle; }\n    set fontStyle(value: TextStyleFontStyle)\n    {\n        this._fontStyle = value.toLowerCase() as TextStyleFontStyle;\n        this.update();\n    }\n    /**\n     * The font variant.\n     * @member {'normal'|'small-caps'}\n     */\n    get fontVariant(): TextStyleFontVariant { return this._fontVariant; }\n    set fontVariant(value: TextStyleFontVariant) { this._fontVariant = value; this.update(); }\n    /**\n     * The font weight.\n     * @member {'normal'|'bold'|'bolder'|'lighter'|'100'|'200'|'300'|'400'|'500'|'600'|'700'|'800'|'900'}\n     */\n    get fontWeight(): TextStyleFontWeight { return this._fontWeight; }\n    set fontWeight(value: TextStyleFontWeight) { this._fontWeight = value; this.update(); }\n    /** The space between lines. */\n    get leading(): number { return this._leading; }\n    set leading(value: number) { this._leading = value; this.update(); }\n    /** The amount of spacing between letters, default is 0. */\n    get letterSpacing(): number { return this._letterSpacing; }\n    set letterSpacing(value: number) { this._letterSpacing = value; this.update(); }\n    /** The line height, a number that represents the vertical space that a letter uses. */\n    get lineHeight(): number { return this._lineHeight; }\n    set lineHeight(value: number) { this._lineHeight = value; this.update(); }\n    /**\n     * Occasionally some fonts are cropped. Adding some padding will prevent this from happening\n     * by adding padding to all sides of the text.\n     */\n    get padding(): number { return this._padding; }\n    set padding(value: number) { this._padding = value; this.update(); }\n\n    /** Trim transparent borders. This is an expensive operation so only use this if you have to! */\n    get trim(): boolean { return this._trim; }\n    set trim(value: boolean) { this._trim = value; this.update(); }\n    /**\n     * The baseline of the text that is rendered.\n     * @member {'alphabetic'|'top'|'hanging'|'middle'|'ideographic'|'bottom'}\n     */\n    get textBaseline(): TextStyleTextBaseline { return this._textBaseline; }\n    set textBaseline(value: TextStyleTextBaseline) { this._textBaseline = value; this.update(); }\n    /**\n     * How newlines and spaces should be handled.\n     * Default is 'pre' (preserve, preserve).\n     *\n     *  value       | New lines     |   Spaces\n     *  ---         | ---           |   ---\n     * 'normal'     | Collapse      |   Collapse\n     * 'pre'        | Preserve      |   Preserve\n     * 'pre-line'   | Preserve      |   Collapse\n     * @member {'normal'|'pre'|'pre-line'}\n     */\n    get whiteSpace(): TextStyleWhiteSpace { return this._whiteSpace; }\n    set whiteSpace(value: TextStyleWhiteSpace) { this._whiteSpace = value; this.update(); }\n    /** Indicates if word wrap should be used. */\n    get wordWrap(): boolean { return this._wordWrap; }\n    set wordWrap(value: boolean) { this._wordWrap = value; this.update(); }\n    /** The width at which text will wrap, it needs wordWrap to be set to true. */\n    get wordWrapWidth(): number { return this._wordWrapWidth; }\n    set wordWrapWidth(value: number) { this._wordWrapWidth = value; this.update(); }\n\n    /** A fillstyle that will be used on the text e.g., 'red', '#00FF00'. */\n    get fill(): FillInput\n    {\n        return this._originalFill;\n    }\n\n    set fill(value: FillInput)\n    {\n        if (value === this._originalFill) return;\n\n        this._originalFill = value;\n\n        if (this._isFillStyle(value))\n        {\n            this._originalFill = this._createProxy({ ...GraphicsContext.defaultFillStyle, ...value }, () =>\n            {\n                this._fill = toFillStyle(\n                    { ...this._originalFill as FillStyle },\n                    GraphicsContext.defaultFillStyle\n                );\n            });\n        }\n\n        this._fill = toFillStyle(\n            value === 0x0 ? 'black' : value,\n            GraphicsContext.defaultFillStyle\n        );\n        this.update();\n    }\n\n    /** A fillstyle that will be used on the text stroke, e.g., 'blue', '#FCFF00'. */\n    get stroke(): StrokeInput\n    {\n        return this._originalStroke;\n    }\n\n    set stroke(value: StrokeInput)\n    {\n        if (value === this._originalStroke) return;\n\n        this._originalStroke = value;\n\n        if (this._isFillStyle(value))\n        {\n            this._originalStroke = this._createProxy({ ...GraphicsContext.defaultStrokeStyle, ...value }, () =>\n            {\n                this._stroke = toStrokeStyle(\n                    { ...this._originalStroke as StrokeStyle },\n                    GraphicsContext.defaultStrokeStyle\n                );\n            });\n        }\n\n        this._stroke = toStrokeStyle(value, GraphicsContext.defaultStrokeStyle);\n        this.update();\n    }\n\n    protected _generateKey(): string\n    {\n        this._styleKey = generateTextStyleKey(this);\n\n        return this._styleKey;\n    }\n\n    public update()\n    {\n        this._styleKey = null;\n        this.emit('update', this);\n    }\n\n    /** Resets all properties to the default values */\n    public reset()\n    {\n        const defaultStyle = TextStyle.defaultTextStyle;\n\n        for (const key in defaultStyle)\n        {\n            this[key as keyof typeof this] = defaultStyle[key as keyof TextStyleOptions] as any;\n        }\n    }\n\n    get styleKey()\n    {\n        return this._styleKey || this._generateKey();\n    }\n\n    /**\n     * Creates a new TextStyle object with the same values as this one.\n     * @returns New cloned TextStyle object\n     */\n    public clone(): TextStyle\n    {\n        return new TextStyle({\n            align: this.align,\n            breakWords: this.breakWords,\n            dropShadow: this._dropShadow ? { ...this._dropShadow } : null,\n            fill: this._fill,\n            fontFamily: this.fontFamily,\n            fontSize: this.fontSize,\n            fontStyle: this.fontStyle,\n            fontVariant: this.fontVariant,\n            fontWeight: this.fontWeight,\n            leading: this.leading,\n            letterSpacing: this.letterSpacing,\n            lineHeight: this.lineHeight,\n            padding: this.padding,\n            stroke: this._stroke,\n            textBaseline: this.textBaseline,\n            whiteSpace: this.whiteSpace,\n            wordWrap: this.wordWrap,\n            wordWrapWidth: this.wordWrapWidth,\n        });\n    }\n\n    /**\n     * Destroys this text style.\n     * @param options - Options parameter. A boolean will act as if all options\n     *  have been set to that value\n     * @param {boolean} [options.texture=false] - Should it destroy the texture of the this style\n     * @param {boolean} [options.textureSource=false] - Should it destroy the textureSource of the this style\n     */\n    public destroy(options: TypeOrBool<TextureDestroyOptions> = false)\n    {\n        this.removeAllListeners();\n\n        const destroyTexture = typeof options === 'boolean' ? options : options?.texture;\n\n        if (destroyTexture)\n        {\n            const destroyTextureSource = typeof options === 'boolean' ? options : options?.textureSource;\n\n            if (this._fill?.texture)\n            {\n                this._fill.texture.destroy(destroyTextureSource);\n            }\n\n            if ((this._originalFill as FillStyle)?.texture)\n            {\n                (this._originalFill as FillStyle).texture.destroy(destroyTextureSource);\n            }\n\n            if (this._stroke?.texture)\n            {\n                this._stroke.texture.destroy(destroyTextureSource);\n            }\n\n            if ((this._originalStroke as FillStyle)?.texture)\n            {\n                (this._originalStroke as FillStyle).texture.destroy(destroyTextureSource);\n            }\n        }\n\n        this._fill = null;\n        this._stroke = null;\n        this.dropShadow = null;\n        this._originalStroke = null;\n        this._originalFill = null;\n    }\n\n    private _createProxy<T extends object>(value: T, cb?: (property: string, newValue: any) => void): T\n    {\n        return new Proxy<T>(value, {\n            set: (target, property, newValue) =>\n            {\n                target[property as keyof T] = newValue;\n                cb?.(property as string, newValue);\n                this.update();\n\n                return true;\n            }\n        });\n    }\n\n    private _isFillStyle(value: FillInput): value is FillStyle\n    {\n        return ((value ?? null) !== null\n            && !(Color.isColorLike(value) || value instanceof FillGradient || value instanceof FillPattern));\n    }\n}\n\nfunction convertV7Tov8Style(style: TextStyleOptions)\n{\n    const oldStyle = style as TextStyleOptions & {\n        dropShadowAlpha?: number;\n        dropShadowAngle?: number;\n        dropShadowBlur?: number;\n        dropShadowColor?: number;\n        dropShadowDistance?: number;\n        fillGradientStops?: number[];\n        strokeThickness?: number;\n    };\n\n    if (typeof oldStyle.dropShadow === 'boolean' && oldStyle.dropShadow)\n    {\n        const defaults = TextStyle.defaultDropShadow;\n\n        style.dropShadow = {\n            alpha: oldStyle.dropShadowAlpha ?? defaults.alpha,\n            angle: oldStyle.dropShadowAngle ?? defaults.angle,\n            blur: oldStyle.dropShadowBlur ?? defaults.blur,\n            color: oldStyle.dropShadowColor ?? defaults.color,\n            distance:   oldStyle.dropShadowDistance ?? defaults.distance,\n        };\n    }\n\n    if (oldStyle.strokeThickness !== undefined)\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'strokeThickness is now a part of stroke');\n        // #endif\n\n        const color = oldStyle.stroke;\n        let obj: FillStyle = {};\n\n        // handles stroke: 0x0, stroke: { r: 0, g: 0, b: 0, a: 0 } stroke: new Color(0x0)\n        if (Color.isColorLike(color as ColorSource))\n        {\n            obj.color = color as ColorSource;\n        }\n        // handles stroke: new FillGradient()\n        else if (color instanceof FillGradient || color instanceof FillPattern)\n        {\n            obj.fill = color as FillGradient | FillPattern;\n        }\n        // handles stroke: { color: 0x0 } or stroke: { fill: new FillGradient() }\n        else if (Object.hasOwnProperty.call(color, 'color') || Object.hasOwnProperty.call(color, 'fill'))\n        {\n            obj = color as FillStyle;\n        }\n        else\n        {\n            throw new Error('Invalid stroke value.');\n        }\n\n        style.stroke = {\n            ...obj,\n            width: oldStyle.strokeThickness\n        };\n    }\n\n    if (Array.isArray(oldStyle.fillGradientStops))\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'gradient fill is now a fill pattern: `new FillGradient(...)`');\n        // #endif\n\n        let fontSize: number;\n\n        // eslint-disable-next-line no-eq-null, eqeqeq\n        if (style.fontSize == null)\n        {\n            style.fontSize = TextStyle.defaultTextStyle.fontSize;\n        }\n        else if (typeof style.fontSize === 'string')\n        {\n            // eg '34px' to number\n            fontSize = parseInt(style.fontSize as string, 10);\n        }\n        else\n        {\n            fontSize = style.fontSize as number;\n        }\n\n        const gradientFill = new FillGradient(0, 0, 0, fontSize * 1.7);\n\n        const fills: number[] = oldStyle.fillGradientStops\n            .map((color: ColorSource) => Color.shared.setValue(color).toNumber());\n\n        fills.forEach((number, index) =>\n        {\n            const ratio = index / (fills.length - 1);\n\n            gradientFill.addColorStop(ratio, number);\n        });\n\n        style.fill = {\n            fill: gradientFill\n        };\n    }\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 8880, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8886, "column": 0}, "map": {"version":3,"file":"getPo2TextureFromSource.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/utils/getPo2TextureFromSource.ts"],"sourcesContent":["import { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool';\nimport { Bounds } from '../../container/bounds/Bounds';\n\nimport type { ICanvas } from '../../../environment/canvas/ICanvas';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\n\nconst tempBounds = new Bounds();\n\n/**\n * Takes an image and creates a texture from it, using a power of 2 texture from the texture pool.\n * Remember to return the texture when you don't need it any more!\n * @param image - The image to create a texture from\n * @param width - the frame width of the texture\n * @param height - the frame height of the texture\n * @param resolution - The resolution of the texture\n * @returns - The texture\n */\nexport function getPo2TextureFromSource(\n    image: HTMLImageElement | HTMLCanvasElement | ICanvas,\n    width: number,\n    height: number,\n    resolution: number\n): Texture\n{\n    const bounds = tempBounds;\n\n    bounds.minX = 0;\n    bounds.minY = 0;\n\n    bounds.maxX = (image.width / resolution) | 0;\n    bounds.maxY = (image.height / resolution) | 0;\n\n    const texture = TexturePool.getOptimalTexture(\n        bounds.width,\n        bounds.height,\n        resolution,\n        false\n    );\n\n    texture.source.uploadMethodId = 'image';\n    texture.source.resource = image;\n    texture.source.alphaMode = 'premultiply-alpha-on-upload';\n\n    texture.frame.width = width / resolution;\n    texture.frame.height = height / resolution;\n\n    // We want to update the resource on the GPU,\n    // but we do not want to resize the texture.\n    // calling `texture.source.update` will fit the resource to the texture\n    // causing a resize of the texture on the GPU.\n    // which is not what we want!\n    texture.source.emit('update', texture.source);\n\n    texture.updateUvs();\n\n    return texture;\n}\n"],"names":[],"mappings":";;;;;;;;AAMA,MAAM,UAAA,GAAa,oLAAI,SAAO,EAAA,CAAA;AAWvB,SAAS,uBACZ,CAAA,KAAA,EACA,KACA,EAAA,MAAA,EACA,UAEJ,EAAA;IACI,MAAM,MAAS,GAAA,UAAA,CAAA;IAEf,MAAA,CAAO,IAAO,GAAA,CAAA,CAAA;IACd,MAAA,CAAO,IAAO,GAAA,CAAA,CAAA;IAEP,MAAA,CAAA,IAAA,GAAQ,KAAM,CAAA,KAAA,GAAQ,UAAc,GAAA,CAAA,CAAA;IACpC,MAAA,CAAA,IAAA,GAAQ,KAAM,CAAA,MAAA,GAAS,UAAc,GAAA,CAAA,CAAA;IAE5C,MAAM,8MAAU,cAAY,CAAA,iBAAA,CACxB,MAAO,CAAA,KAAA,EACP,MAAO,CAAA,MAAA,EACP,UAAA,EACA,KAAA;IAGJ,OAAA,CAAQ,MAAA,CAAO,cAAiB,GAAA,OAAA,CAAA;IAChC,OAAA,CAAQ,MAAA,CAAO,QAAW,GAAA,KAAA,CAAA;IAC1B,OAAA,CAAQ,MAAA,CAAO,SAAY,GAAA,6BAAA,CAAA;IAEnB,OAAA,CAAA,KAAA,CAAM,KAAA,GAAQ,KAAQ,GAAA,UAAA,CAAA;IACtB,OAAA,CAAA,KAAA,CAAM,MAAA,GAAS,MAAS,GAAA,UAAA,CAAA;IAOhC,OAAA,CAAQ,MAAO,CAAA,IAAA,CAAK,QAAU,EAAA,OAAA,CAAQ,MAAM,CAAA,CAAA;IAE5C,OAAA,CAAQ,SAAU,EAAA,CAAA;IAEX,OAAA,OAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 8913, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8919, "column": 0}, "map": {"version":3,"file":"getCanvasFillStyle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/canvas/utils/getCanvasFillStyle.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { Matrix } from '../../../../maths/matrix/Matrix';\nimport { Texture } from '../../../../rendering/renderers/shared/texture/Texture';\nimport { warn } from '../../../../utils/logging/warn';\nimport { FillGradient } from '../../../graphics/shared/fill/FillGradient';\nimport { FillPattern } from '../../../graphics/shared/fill/FillPattern';\n\nimport type { ICanvasRenderingContext2D } from '../../../../environment/canvas/ICanvasRenderingContext2D';\nimport type { ConvertedFillStyle } from '../../../graphics/shared/FillTypes';\n\nexport function getCanvasFillStyle(\n    fillStyle: ConvertedFillStyle,\n    context: ICanvasRenderingContext2D): string | CanvasGradient | CanvasPattern\n{\n    if (fillStyle.texture === Texture.WHITE && !fillStyle.fill)\n    {\n        return Color.shared.setValue(fillStyle.color).setAlpha(fillStyle.alpha ?? 1).toHexa();\n    }\n    else if (!fillStyle.fill)\n    {\n        // fancy set up...\n        const pattern = context.createPattern(fillStyle.texture.source.resource, 'repeat');\n\n        // create an inverted scale matrix..\n        const tempMatrix = fillStyle.matrix.copyTo(Matrix.shared);\n\n        tempMatrix.scale(fillStyle.texture.frame.width, fillStyle.texture.frame.height);\n\n        pattern.setTransform(tempMatrix);\n\n        return pattern;\n    }\n    else if (fillStyle.fill instanceof FillPattern)\n    {\n        const fillPattern = fillStyle.fill;\n\n        const pattern = context.createPattern(fillPattern.texture.source.resource, 'repeat');\n\n        const tempMatrix = fillPattern.transform.copyTo(Matrix.shared);\n\n        tempMatrix.scale(\n            fillPattern.texture.frame.width,\n            fillPattern.texture.frame.height\n        );\n\n        pattern.setTransform(tempMatrix);\n\n        return pattern;\n    }\n    else if (fillStyle.fill instanceof FillGradient)\n    {\n        const fillGradient = fillStyle.fill;\n\n        if (fillGradient.type === 'linear')\n        {\n            const gradient = context.createLinearGradient(\n                fillGradient.x0,\n                fillGradient.y0,\n                fillGradient.x1,\n                fillGradient.y1\n            );\n\n            fillGradient.gradientStops.forEach((stop) =>\n            {\n                gradient.addColorStop(stop.offset, Color.shared.setValue(stop.color).toHex());\n            });\n\n            return gradient;\n        }\n    }\n\n    // #if _DEBUG\n    warn('FillStyle not recognised', fillStyle);\n    // #endif\n\n    return 'red';\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAUgB,SAAA,kBAAA,CACZ,SAAA,EACA,OACJ,EAAA;IACI,IAAI,UAAU,OAAY,qMAAA,UAAA,CAAQ,KAAS,IAAA,CAAC,UAAU,IACtD,EAAA;QACW,+JAAA,QAAA,CAAM,MAAO,CAAA,QAAA,CAAS,SAAU,CAAA,KAAK,CAAE,CAAA,QAAA,CAAS,SAAU,CAAA,KAAA,IAAS,CAAC,CAAA,CAAE,MAAO,EAAA,CAAA;IAAA,CACxF,MAAA,IACS,CAAC,SAAA,CAAU,IACpB,EAAA;QAEI,MAAM,UAAU,OAAQ,CAAA,aAAA,CAAc,UAAU,OAAQ,CAAA,MAAA,CAAO,QAAA,EAAU,QAAQ,CAAA,CAAA;QAGjF,MAAM,UAAa,GAAA,SAAA,CAAU,MAAO,CAAA,MAAA,mKAAO,UAAA,CAAO,MAAM,CAAA,CAAA;QAE7C,UAAA,CAAA,KAAA,CAAM,UAAU,OAAQ,CAAA,KAAA,CAAM,KAAA,EAAO,SAAU,CAAA,OAAA,CAAQ,KAAA,CAAM,MAAM,CAAA,CAAA;QAE9E,OAAA,CAAQ,YAAA,CAAa,UAAU,CAAA,CAAA;QAExB,OAAA,OAAA,CAAA;IAAA,CACX,MAAA,IACS,SAAU,CAAA,IAAA,wMAAgB,cACnC,EAAA;QACI,MAAM,cAAc,SAAU,CAAA,IAAA,CAAA;QAE9B,MAAM,UAAU,OAAQ,CAAA,aAAA,CAAc,YAAY,OAAQ,CAAA,MAAA,CAAO,QAAA,EAAU,QAAQ,CAAA,CAAA;QAEnF,MAAM,UAAa,GAAA,WAAA,CAAY,SAAU,CAAA,MAAA,oKAAO,SAAA,CAAO,MAAM,CAAA,CAAA;QAElD,UAAA,CAAA,KAAA,CACP,WAAA,CAAY,OAAA,CAAQ,KAAM,CAAA,KAAA,EAC1B,WAAA,CAAY,OAAA,CAAQ,KAAM,CAAA,MAAA;QAG9B,OAAA,CAAQ,YAAA,CAAa,UAAU,CAAA,CAAA;QAExB,OAAA,OAAA,CAAA;IAAA,CACX,MAAA,IACS,SAAU,CAAA,IAAA,yMAAgB,eACnC,EAAA;QACI,MAAM,eAAe,SAAU,CAAA,IAAA,CAAA;QAE3B,IAAA,YAAA,CAAa,IAAA,KAAS,QAC1B,EAAA;YACI,MAAM,WAAW,OAAQ,CAAA,oBAAA,CACrB,YAAa,CAAA,EAAA,EACb,YAAa,CAAA,EAAA,EACb,YAAa,CAAA,EAAA,EACb,YAAa,CAAA,EAAA;YAGJ,YAAA,CAAA,aAAA,CAAc,OAAQ,CAAA,CAAC,IACpC,KAAA;gBACa,QAAA,CAAA,YAAA,CAAa,IAAK,CAAA,MAAA,0JAAQ,QAAM,CAAA,MAAA,CAAO,QAAA,CAAS,IAAK,CAAA,KAAK,CAAE,CAAA,KAAA,EAAO,CAAA,CAAA;YAAA,CAC/E,CAAA,CAAA;YAEM,OAAA,QAAA,CAAA;QAAA,CACX;IAAA,CACJ;0KAGA,OAAA,EAAK,4BAA4B,SAAS,CAAA,CAAA;IAGnC,OAAA,KAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 8966, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 8972, "column": 0}, "map": {"version":3,"file":"CanvasTextSystem.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/canvas/CanvasTextSystem.ts"],"sourcesContent":["import { Color } from '../../../color/Color';\nimport { ExtensionType } from '../../../extensions/Extensions';\nimport { nextPow2 } from '../../../maths/misc/pow2';\nimport { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool';\nimport { TexturePool } from '../../../rendering/renderers/shared/texture/TexturePool';\nimport { getCanvasBoundingBox } from '../../../utils/canvas/getCanvasBoundingBox';\nimport { deprecation } from '../../../utils/logging/deprecation';\nimport { TextStyle } from '../TextStyle';\nimport { getPo2TextureFromSource } from '../utils/getPo2TextureFromSource';\nimport { CanvasTextMetrics } from './CanvasTextMetrics';\nimport { fontStringFromTextStyle } from './utils/fontStringFromTextStyle';\nimport { getCanvasFillStyle } from './utils/getCanvasFillStyle';\n\nimport type { ICanvas } from '../../../environment/canvas/ICanvas';\nimport type { ICanvasRenderingContext2D } from '../../../environment/canvas/ICanvasRenderingContext2D';\nimport type { System } from '../../../rendering/renderers/shared/system/System';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { TextOptions } from '../AbstractText';\nimport type { Text } from '../Text';\n\ninterface CanvasAndContext\n{\n    canvas: ICanvas;\n    context: ICanvasRenderingContext2D;\n}\n\n/**\n * System plugin to the renderer to manage canvas text.\n * @memberof rendering\n */\nexport class CanvasTextSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'canvasText',\n    } as const;\n\n    private _activeTextures: Record<string, {\n        canvasAndContext: CanvasAndContext,\n        texture: Texture,\n        usageCount: number,\n    }> = {};\n\n    private readonly _renderer: Renderer;\n\n    constructor(_renderer: Renderer)\n    {\n        this._renderer = _renderer;\n    }\n\n    public getTextureSize(text: string, resolution: number, style: TextStyle): { width: number, height: number }\n    {\n        const measured = CanvasTextMetrics.measureText(text || ' ', style);\n\n        let width = Math.ceil(Math.ceil((Math.max(1, measured.width) + (style.padding * 2))) * resolution);\n        let height = Math.ceil(Math.ceil((Math.max(1, measured.height) + (style.padding * 2))) * resolution);\n\n        width = Math.ceil((width) - 1e-6);\n        height = Math.ceil((height) - 1e-6);\n        width = nextPow2(width);\n        height = nextPow2(height);\n\n        return { width, height };\n    }\n\n    /**\n     * This is a function that will create a texture from a text string, style and resolution.\n     * Useful if you want to make a texture of your text and use if for various other pixi things!\n     * @param options - The options of the text that will be used to generate the texture.\n     * @param options.text - the text to render\n     * @param options.style - the style of the text\n     * @param options.resolution - the resolution of the texture\n     * @returns the newly created texture\n     */\n    /** @deprecated since 8.0.0 */\n    public getTexture(text: string, resolution: number, style: TextStyle, textKey: string): Texture;\n    public getTexture(options: TextOptions): Texture;\n    public getTexture(options: TextOptions | string, resolution?: number, style?: TextStyle, _textKey?: string): Texture\n    {\n        if (typeof options === 'string')\n        {\n            // #if _DEBUG\n            deprecation('8.0.0', 'CanvasTextSystem.getTexture: Use object TextOptions instead of separate arguments');\n            // #endif\n\n            options = {\n                text: options,\n                style,\n                resolution,\n            };\n        }\n\n        if (!(options.style instanceof TextStyle))\n        {\n            options.style = new TextStyle(options.style);\n        }\n\n        const { texture, canvasAndContext } = this.createTextureAndCanvas(\n            options as {text: string, style: TextStyle, resolution?: number}\n        );\n\n        this._renderer.texture.initSource(texture._source);\n\n        CanvasPool.returnCanvasAndContext(canvasAndContext);\n\n        return texture;\n    }\n\n    public createTextureAndCanvas(options: {text: string, style: TextStyle, resolution?: number})\n    {\n        const { text, style } = options;\n\n        const resolution = options.resolution ?? this._renderer.resolution;\n\n        // create a canvas with the word hello on it\n        const measured = CanvasTextMetrics.measureText(text || ' ', style);\n\n        const width = Math.ceil(Math.ceil((Math.max(1, measured.width) + (style.padding * 2))) * resolution);\n        const height = Math.ceil(Math.ceil((Math.max(1, measured.height) + (style.padding * 2))) * resolution);\n\n        const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(width, height);\n\n        // create a texture from the canvas\n        const { canvas } = canvasAndContext;\n\n        this.renderTextToCanvas(text, style, resolution, canvasAndContext);\n\n        const texture = getPo2TextureFromSource(canvas, width, height, resolution);\n\n        if (style.trim)\n        {\n            const trimmed = getCanvasBoundingBox(canvas, resolution);\n\n            texture.frame.copyFrom(trimmed);\n\n            texture.updateUvs();\n        }\n\n        return { texture, canvasAndContext };\n    }\n\n    public getManagedTexture(text: Text)\n    {\n        text._resolution = text._autoResolution ? this._renderer.resolution : text.resolution;\n        const textKey = text._getKey();\n\n        if (this._activeTextures[textKey])\n        {\n            this._increaseReferenceCount(textKey);\n\n            return this._activeTextures[textKey].texture;\n        }\n\n        const { texture, canvasAndContext } = this.createTextureAndCanvas(text);\n\n        this._activeTextures[textKey] = {\n            canvasAndContext,\n            texture,\n            usageCount: 1,\n        };\n\n        return texture;\n    }\n\n    private _increaseReferenceCount(textKey: string)\n    {\n        this._activeTextures[textKey].usageCount++;\n    }\n\n    public decreaseReferenceCount(textKey: string)\n    {\n        const activeTexture = this._activeTextures[textKey];\n\n        activeTexture.usageCount--;\n\n        if (activeTexture.usageCount === 0)\n        {\n            CanvasPool.returnCanvasAndContext(activeTexture.canvasAndContext);\n            TexturePool.returnTexture(activeTexture.texture);\n\n            const source = activeTexture.texture.source;\n\n            source.resource = null;\n            source.uploadMethodId = 'unknown';\n            source.alphaMode = 'no-premultiply-alpha';\n\n            this._activeTextures[textKey] = null;\n        }\n    }\n\n    public getReferenceCount(textKey: string)\n    {\n        return this._activeTextures[textKey].usageCount;\n    }\n\n    /**\n     * Renders text to its canvas, and updates its texture.\n     *\n     * By default this is used internally to ensure the texture is correct before rendering,\n     * but it can be used called externally, for example from this class to 'pre-generate' the texture from a piece of text,\n     * and then shared across multiple Sprites.\n     * @param text\n     * @param style\n     * @param resolution\n     * @param canvasAndContext\n     */\n    public renderTextToCanvas(text: string, style: TextStyle, resolution: number, canvasAndContext: CanvasAndContext): void\n    {\n        const { canvas, context } = canvasAndContext;\n\n        const font = fontStringFromTextStyle(style);\n\n        const measured = CanvasTextMetrics.measureText(text || ' ', style);// , canvas);\n        const lines = measured.lines;\n        const lineHeight = measured.lineHeight;\n        const lineWidths = measured.lineWidths;\n        const maxLineWidth = measured.maxLineWidth;\n        const fontProperties = measured.fontProperties;\n\n        const height = canvas.height;\n\n        context.resetTransform();\n        context.scale(resolution, resolution);\n        context.textBaseline = style.textBaseline;\n\n        // set stroke styles..\n\n        if (style._stroke?.width)\n        {\n            const strokeStyle = style._stroke;\n\n            context.lineWidth = strokeStyle.width;\n\n            context.miterLimit = strokeStyle.miterLimit;\n            context.lineJoin = strokeStyle.join;\n            context.lineCap = strokeStyle.cap;\n        }\n\n        // return;\n        context.font = font;\n\n        let linePositionX: number;\n        let linePositionY: number;\n\n        // require 2 passes if a shadow; the first to draw the drop shadow, the second to draw the text\n        const passesCount = style.dropShadow ? 2 : 1;\n\n        // For v4, we drew text at the colours of the drop shadow underneath the normal text. This gave the correct zIndex,\n        // but features such as alpha and shadowblur did not look right at all, since we were using actual text as a shadow.\n        //\n        // For v5.0.0, we moved over to just use the canvas API for drop shadows, which made them look much nicer and more\n        // visually please, but now because the stroke is drawn and then the fill, drop shadows would appear on both the fill\n        // and the stroke; and fill drop shadows would appear over the top of the stroke.\n        //\n        // For v5.1.1, the new route is to revert to v4 style of drawing text first to get the drop shadows underneath normal\n        // text, but instead drawing text in the correct location, we'll draw it off screen (-paddingY), and then adjust the\n        // drop shadow so only that appears on screen (+paddingY). Now we'll have the correct draw order of the shadow\n        // beneath the text, whilst also having the proper text shadow styling.\n        for (let i = 0; i < passesCount; ++i)\n        {\n            const isShadowPass = style.dropShadow && i === 0;\n            // we only want the drop shadow, so put text way off-screen\n            const dsOffsetText = isShadowPass ? Math.ceil(Math.max(1, height) + (style.padding * 2)) : 0;\n            const dsOffsetShadow = dsOffsetText * resolution;\n\n            if (isShadowPass)\n            {\n                // On Safari, text with gradient and drop shadows together do not position correctly\n                // if the scale of the canvas is not 1: https://bugs.webkit.org/show_bug.cgi?id=197689\n                // Therefore we'll set the styles to be a plain black whilst generating this drop shadow\n                context.fillStyle = 'black';\n                context.strokeStyle = 'black';\n\n                const shadowOptions = style.dropShadow;\n\n                const dropShadowColor = shadowOptions.color;\n                const dropShadowAlpha = shadowOptions.alpha;\n\n                context.shadowColor = Color.shared\n                    .setValue(dropShadowColor)\n                    .setAlpha(dropShadowAlpha)\n                    .toRgbaString();\n\n                const dropShadowBlur = shadowOptions.blur * resolution;\n                const dropShadowDistance = shadowOptions.distance * resolution;\n\n                context.shadowBlur = dropShadowBlur;\n                context.shadowOffsetX = Math.cos(shadowOptions.angle) * dropShadowDistance;\n                context.shadowOffsetY = (Math.sin(shadowOptions.angle) * dropShadowDistance) + dsOffsetShadow;\n            }\n            else\n            {\n                context.fillStyle = style._fill ? getCanvasFillStyle(style._fill, context) : null;\n\n                if (style._stroke?.width)\n                {\n                    context.strokeStyle = getCanvasFillStyle(style._stroke, context);\n                }\n\n                context.shadowColor = 'black';\n            }\n\n            let linePositionYShift = (lineHeight - fontProperties.fontSize) / 2;\n\n            if (lineHeight - fontProperties.fontSize < 0)\n            {\n                linePositionYShift = 0;\n            }\n\n            const strokeWidth = style._stroke?.width ?? 0;\n\n            // draw lines line by line\n            for (let i = 0; i < lines.length; i++)\n            {\n                linePositionX = strokeWidth / 2;\n                linePositionY = ((strokeWidth / 2) + (i * lineHeight)) + fontProperties.ascent + linePositionYShift;\n\n                if (style.align === 'right')\n                {\n                    linePositionX += maxLineWidth - lineWidths[i];\n                }\n                else if (style.align === 'center')\n                {\n                    linePositionX += (maxLineWidth - lineWidths[i]) / 2;\n                }\n\n                if (style._stroke?.width)\n                {\n                    this._drawLetterSpacing(\n                        lines[i],\n                        style,\n                        canvasAndContext,\n                        linePositionX + style.padding,\n                        linePositionY + style.padding - dsOffsetText,\n                        true\n                    );\n                }\n\n                if (style._fill !== undefined)\n                {\n                    this._drawLetterSpacing(\n                        lines[i],\n                        style,\n                        canvasAndContext,\n                        linePositionX + style.padding,\n                        linePositionY + style.padding - dsOffsetText\n                    );\n                }\n            }\n        }\n    }\n\n    /**\n     * Render the text with letter-spacing.\n     * @param text - The text to draw\n     * @param style\n     * @param canvasAndContext\n     * @param x - Horizontal position to draw the text\n     * @param y - Vertical position to draw the text\n     * @param isStroke - Is this drawing for the outside stroke of the\n     *  text? If not, it's for the inside fill\n     */\n    private _drawLetterSpacing(\n        text: string,\n        style: TextStyle,\n        canvasAndContext: CanvasAndContext,\n        x: number, y: number,\n        isStroke = false\n    ): void\n    {\n        const { context } = canvasAndContext;\n\n        // letterSpacing of 0 means normal\n        const letterSpacing = style.letterSpacing;\n\n        let useExperimentalLetterSpacing = false;\n\n        if (CanvasTextMetrics.experimentalLetterSpacingSupported)\n        {\n            if (CanvasTextMetrics.experimentalLetterSpacing)\n            {\n                context.letterSpacing = `${letterSpacing}px`;\n                context.textLetterSpacing = `${letterSpacing}px`;\n                useExperimentalLetterSpacing = true;\n            }\n            else\n            {\n                context.letterSpacing = '0px';\n                context.textLetterSpacing = '0px';\n            }\n        }\n\n        if (letterSpacing === 0 || useExperimentalLetterSpacing)\n        {\n            if (isStroke)\n            {\n                context.strokeText(text, x, y);\n            }\n            else\n            {\n                context.fillText(text, x, y);\n            }\n\n            return;\n        }\n\n        let currentPosition = x;\n\n        const stringArray = CanvasTextMetrics.graphemeSegmenter(text);\n        let previousWidth = context.measureText(text).width;\n        let currentWidth = 0;\n\n        for (let i = 0; i < stringArray.length; ++i)\n        {\n            const currentChar = stringArray[i];\n\n            if (isStroke)\n            {\n                context.strokeText(currentChar, currentPosition, y);\n            }\n            else\n            {\n                context.fillText(currentChar, currentPosition, y);\n            }\n            let textStr = '';\n\n            for (let j = i + 1; j < stringArray.length; ++j)\n            {\n                textStr += stringArray[j];\n            }\n            currentWidth = context.measureText(textStr).width;\n            currentPosition += previousWidth - currentWidth + letterSpacing;\n            previousWidth = currentWidth;\n        }\n    }\n\n    public destroy(): void\n    {\n        this._activeTextures = null;\n    }\n}\n"],"names":["i"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9233, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9239, "column": 0}, "map": {"version":3,"file":"BatchableSprite.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite/BatchableSprite.ts"],"sourcesContent":["import type { Matrix } from '../../maths/matrix/Matrix';\nimport type { Batch, Batcher } from '../../rendering/batcher/shared/Batcher';\nimport type { DefaultBatchableQuadElement } from '../../rendering/batcher/shared/DefaultBatcher';\nimport type { Topology } from '../../rendering/renderers/shared/geometry/const';\nimport type { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport type { BoundsData } from '../container/bounds/Bounds';\nimport type { Container } from '../container/Container';\n\n/**\n * A batchable sprite object.\n * @ignore\n */\nexport class BatchableSprite implements DefaultBatchableQuadElement\n{\n    public batcherName = 'default';\n    public topology: Topology = 'triangle-list';\n\n    // batch specific..\n    public readonly attributeSize = 4;\n    public readonly indexSize = 6;\n    public readonly packAsQuad = true;\n\n    public transform: Matrix;\n\n    public renderable: Container;\n    public texture: Texture;\n    public bounds: BoundsData;\n\n    public roundPixels: 0 | 1 = 0;\n\n    public _indexStart: number;\n    public _textureId: number;\n    public _attributeStart = 0; // location in the buffer\n    public _batcher: Batcher = null;\n    public _batch: Batch = null;\n\n    get blendMode() { return this.renderable.groupBlendMode; }\n    get color() { return this.renderable.groupColorAlpha; }\n\n    public reset()\n    {\n        this.renderable = null;\n        this.texture = null;\n        this._batcher = null;\n        this._batch = null;\n        this.bounds = null;\n    }\n}\n"],"names":[],"mappings":";;;;AAYO,MAAM,eACb,CAAA;IADO,WAAA,EAAA;QAEH,IAAA,CAAO,WAAc,GAAA,SAAA,CAAA;QACrB,IAAA,CAAO,QAAqB,GAAA,eAAA,CAAA;QAG5B,mBAAA;QAAA,IAAA,CAAgB,aAAgB,GAAA,CAAA,CAAA;QAChC,IAAA,CAAgB,SAAY,GAAA,CAAA,CAAA;QAC5B,IAAA,CAAgB,UAAa,GAAA,IAAA,CAAA;QAQ7B,IAAA,CAAO,WAAqB,GAAA,CAAA,CAAA;QAI5B,IAAA,CAAO,eAAkB,GAAA,CAAA,CAAA;QACzB,yBAAA;QAAA,IAAA,CAAO,QAAoB,GAAA,IAAA,CAAA;QAC3B,IAAA,CAAO,MAAgB,GAAA,IAAA,CAAA;IAAA,CAAA;IAEvB,IAAI,SAAY,GAAA;QAAE,OAAO,IAAA,CAAK,UAAW,CAAA,cAAA,CAAA;IAAA,CAAgB;IACzD,IAAI,KAAQ,GAAA;QAAE,OAAO,IAAA,CAAK,UAAW,CAAA,eAAA,CAAA;IAAA,CAAiB;IAE/C,KACP,GAAA;QACI,IAAA,CAAK,UAAa,GAAA,IAAA,CAAA;QAClB,IAAA,CAAK,OAAU,GAAA,IAAA,CAAA;QACf,IAAA,CAAK,QAAW,GAAA,IAAA,CAAA;QAChB,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;QACd,IAAA,CAAK,MAAS,GAAA,IAAA,CAAA;IAAA,CAClB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 9273, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9279, "column": 0}, "map": {"version":3,"file":"CanvasTextPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/canvas/CanvasTextPipe.ts"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions';\nimport { updateQuadBounds } from '../../../utils/data/updateQuadBounds';\nimport { BigPool } from '../../../utils/pool/PoolGroup';\nimport { BatchableSprite } from '../../sprite/BatchableSprite';\n\nimport type { InstructionSet } from '../../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { Renderer } from '../../../rendering/renderers/types';\nimport type { Container } from '../../container/Container';\nimport type { Text } from '../Text';\n\nexport class CanvasTextPipe implements RenderPipe<Text>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'text',\n    } as const;\n\n    private _renderer: Renderer;\n\n    private _gpuText: Record<number, {\n        texture: Texture,\n        currentKey: string,\n        batchableSprite: BatchableSprite,\n    }> = Object.create(null);\n\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        this._renderer.runners.resolutionChange.add(this);\n        this._renderer.renderableGC.addManagedHash(this, '_gpuText');\n    }\n\n    public resolutionChange()\n    {\n        for (const i in this._gpuText)\n        {\n            const gpuText = this._gpuText[i];\n\n            if (!gpuText) continue;\n\n            const text = gpuText.batchableSprite.renderable as Text;\n\n            if (text._autoResolution)\n            {\n                text._resolution = this._renderer.resolution;\n                text.onViewUpdate();\n            }\n        }\n    }\n\n    public validateRenderable(text: Text): boolean\n    {\n        const gpuText = this._getGpuText(text);\n\n        const newKey = text._getKey();\n\n        if (gpuText.currentKey !== newKey)\n        {\n            return true;\n        }\n\n        return false;\n    }\n\n    public addRenderable(text: Text, instructionSet: InstructionSet)\n    {\n        const gpuText = this._getGpuText(text);\n\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (text._didTextUpdate)\n        {\n            this._updateText(text);\n        }\n\n        this._renderer.renderPipes.batch.addToBatch(batchableSprite, instructionSet);\n    }\n\n    public updateRenderable(text: Text)\n    {\n        const gpuText = this._getGpuText(text);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (text._didTextUpdate)\n        {\n            this._updateText(text);\n        }\n\n        batchableSprite._batcher.updateElement(batchableSprite);\n    }\n\n    public destroyRenderable(text: Text)\n    {\n        text.off('destroyed', this._destroyRenderableBound);\n\n        this._destroyRenderableById(text.uid);\n    }\n\n    private _destroyRenderableById(textUid: number)\n    {\n        const gpuText = this._gpuText[textUid];\n\n        this._renderer.canvasText.decreaseReferenceCount(gpuText.currentKey);\n\n        BigPool.return(gpuText.batchableSprite);\n\n        this._gpuText[textUid] = null;\n    }\n\n    private _updateText(text: Text)\n    {\n        const newKey = text._getKey();\n        const gpuText = this._getGpuText(text);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (gpuText.currentKey !== newKey)\n        {\n            this._updateGpuText(text);\n        }\n\n        text._didTextUpdate = false;\n\n        const padding = text._style.padding;\n\n        updateQuadBounds(batchableSprite.bounds, text._anchor, batchableSprite.texture, padding);\n    }\n\n    private _updateGpuText(text: Text)\n    {\n        const gpuText = this._getGpuText(text);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (gpuText.texture)\n        {\n            this._renderer.canvasText.decreaseReferenceCount(gpuText.currentKey);\n        }\n\n        gpuText.texture = batchableSprite.texture = this._renderer.canvasText.getManagedTexture(text);\n        gpuText.currentKey = text._getKey();\n        batchableSprite.texture = gpuText.texture;\n    }\n\n    private _getGpuText(text: Text)\n    {\n        return this._gpuText[text.uid] || this.initGpuText(text);\n    }\n\n    public initGpuText(text: Text)\n    {\n        const gpuTextData: CanvasTextPipe['_gpuText'][number] = {\n            texture: null,\n            currentKey: '--',\n            batchableSprite: BigPool.get(BatchableSprite),\n        };\n\n        gpuTextData.batchableSprite.renderable = text;\n        gpuTextData.batchableSprite.transform = text.groupTransform;\n        gpuTextData.batchableSprite.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 };\n        gpuTextData.batchableSprite.roundPixels = (this._renderer._roundPixels | text._roundPixels) as 0 | 1;\n\n        this._gpuText[text.uid] = gpuTextData;\n\n        text._resolution = text._autoResolution ? this._renderer.resolution : text.resolution;\n        this._updateText(text);\n\n        // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n        text.on('destroyed', this._destroyRenderableBound);\n\n        return gpuTextData;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuText)\n        {\n            this._destroyRenderableById(i as unknown as number);\n        }\n\n        this._gpuText = null;\n        this._renderer = null;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9407, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9413, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { CanvasTextPipe } from './canvas/CanvasTextPipe';\nimport { CanvasTextSystem } from './canvas/CanvasTextSystem';\n\nextensions.add(CanvasTextSystem);\nextensions.add(CanvasTextPipe);\n"],"names":[],"mappings":";;;;;;;;kKAIA,aAAA,CAAW,GAAA,sLAAI,mBAAgB,CAAA,CAAA;kKAC/B,aAAA,CAAW,GAAA,oLAAI,iBAAc,CAAA","ignoreList":[0]}},
    {"offset": {"line": 9423, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9429, "column": 0}, "map": {"version":3,"file":"resolveCharacters.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-bitmap/utils/resolveCharacters.ts"],"sourcesContent":["/**\n * Processes the passed character set data and returns a flattened array of all the characters.\n *\n * Ignored because not directly exposed.\n * @ignore\n * @param {string | string[] | string[][] } chars\n * @returns {string[]} the flattened array of characters\n */\n\nexport function resolveCharacters(chars: string | (string | string[])[]): string[]\n{\n    // Skip unexpected 'empty set' check at end\n    if (chars === '')\n    {\n        return [];\n    }\n\n    // Split the chars string into individual characters\n    if (typeof chars === 'string')\n    {\n        chars = [chars];\n    }\n\n    // Handle an array of characters+ranges\n    const result: string[] = [];\n\n    for (let i = 0, j = chars.length; i < j; i++)\n    {\n        const item = chars[i];\n\n        // Handle range delimited by start/end chars\n        if (Array.isArray(item))\n        {\n            if (item.length !== 2)\n            {\n                throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${item.length}.`);\n            }\n            if (item[0].length === 0 || item[1].length === 0)\n            {\n                throw new Error('[BitmapFont]: Invalid character delimiter.');\n            }\n\n            const startCode = item[0].charCodeAt(0);\n            const endCode = item[1].charCodeAt(0);\n\n            if (endCode < startCode)\n            {\n                throw new Error('[BitmapFont]: Invalid character range.');\n            }\n\n            for (let i = startCode, j = endCode; i <= j; i++)\n            {\n                result.push(String.fromCharCode(i));\n            }\n        }\n        else\n        {\n            result.push(...Array.from(item));\n        }\n    }\n\n    if (result.length === 0)\n    {\n        throw new Error('[BitmapFont]: Empty set when resolving characters.');\n    }\n\n    return result;\n}\n"],"names":["i","j"],"mappings":";;;;AASO,SAAS,kBAAkB,KAClC,EAAA;IAEI,IAAI,UAAU,EACd,EAAA;QACI,OAAO,EAAC,CAAA;IAAA,CACZ;IAGI,IAAA,OAAO,UAAU,QACrB,EAAA;QACI,KAAA,GAAQ;YAAC,KAAK;SAAA,CAAA;IAAA,CAClB;IAGA,MAAM,SAAmB,EAAC,CAAA;IAE1B,IAAA,IAAS,IAAI,CAAG,EAAA,CAAA,GAAI,MAAM,MAAQ,EAAA,CAAA,GAAI,GAAG,CACzC,EAAA,CAAA;QACU,MAAA,IAAA,GAAO,KAAA,CAAM,CAAC,CAAA,CAAA;QAGhB,IAAA,KAAA,CAAM,OAAQ,CAAA,IAAI,CACtB,EAAA;YACQ,IAAA,IAAA,CAAK,MAAA,KAAW,CACpB,EAAA;gBACI,MAAM,IAAI,KAAA,CAAM,CAAiE,8DAAA,EAAA,IAAA,CAAK,MAAM,CAAG,CAAA,CAAA,CAAA,CAAA;YAAA,CACnG;YACI,IAAA,IAAA,CAAK,CAAC,CAAE,CAAA,MAAA,KAAW,KAAK,IAAK,CAAA,CAAC,CAAE,CAAA,MAAA,KAAW,CAC/C,EAAA;gBACU,MAAA,IAAI,MAAM,4CAA4C,CAAA,CAAA;YAAA,CAChE;YAEA,MAAM,SAAY,GAAA,IAAA,CAAK,CAAC,CAAA,CAAE,UAAA,CAAW,CAAC,CAAA,CAAA;YACtC,MAAM,OAAU,GAAA,IAAA,CAAK,CAAC,CAAA,CAAE,UAAA,CAAW,CAAC,CAAA,CAAA;YAEpC,IAAI,UAAU,SACd,EAAA;gBACU,MAAA,IAAI,MAAM,wCAAwC,CAAA,CAAA;YAAA,CAC5D;YAEA,IAAA,IAASA,KAAI,SAAWC,EAAAA,EAAAA,GAAI,OAASD,EAAAA,EAAAA,IAAKC,IAAGD,EAC7C,EAAA,CAAA;gBACI,MAAA,CAAO,IAAK,CAAA,MAAA,CAAO,YAAaA,CAAAA,EAAC,CAAC,CAAA,CAAA;YAAA,CACtC;QAAA,CAGJ,MAAA;YACI,MAAA,CAAO,IAAK,CAAA,GAAG,KAAM,CAAA,IAAA,CAAK,IAAI,CAAC,CAAA,CAAA;QAAA,CACnC;IAAA,CACJ;IAEI,IAAA,MAAA,CAAO,MAAA,KAAW,CACtB,EAAA;QACU,MAAA,IAAI,MAAM,oDAAoD,CAAA,CAAA;IAAA,CACxE;IAEO,OAAA,MAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 9471, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9477, "column": 0}, "map": {"version":3,"file":"AbstractBitmapFont.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-bitmap/AbstractBitmapFont.ts"],"sourcesContent":["import EventEmitter from 'eventemitter3';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\n\nimport type { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport type { FontMetrics } from '../text/canvas/CanvasTextMetrics';\n\n/** @memberof text */\nexport interface CharData\n{\n    /** Unique id of character */\n    id: number;\n    /** x-offset to apply when rendering character */\n    xOffset: number;\n    /** y-offset to apply when rendering character. */\n    yOffset: number;\n    /** Advancement to apply to next character. */\n    xAdvance: number;\n    /** The kerning values for this character. */\n    kerning: Record<string, number>;\n    /** The texture of the character. */\n    texture?: Texture;\n}\n\n/**\n * The raw data of a character in a bitmap font.\n * @memberof text\n */\nexport interface RawCharData extends Omit<CharData, 'texture'>\n{\n    /** The page of the font texture that the character is on. */\n    page: number;\n    /** The x position of the character in the page. */\n    x: number;\n    /** The y position of the character in the page. */\n    y: number;\n    /** The width of the character in the page. */\n    width: number;\n    /** The height of the character in the page. */\n    height: number;\n    /** The letter of the character. */\n    letter: string;\n}\n\n/**\n * The raw data of a bitmap font.\n * @memberof text\n */\nexport interface BitmapFontData\n{\n    /** The offset of the font face from the baseline. */\n    baseLineOffset: number;\n    /** The map of characters by character code. */\n    chars: Record<string, RawCharData>;\n    /** The map of base page textures (i.e., sheets of glyphs). */\n    pages: {\n        /** Unique id for bitmap texture */\n        id: number;\n        /** File name */\n        file: string\n    }[];\n    /** The line-height of the font face in pixels. */\n    lineHeight: number;\n    /** The size of the font face in pixels. */\n    fontSize: number;\n    /** The name of the font face. */\n    fontFamily: string;\n    /** The range and type of the distance field for this font. */\n    distanceField?: {\n        /** Type of distance field */\n        type: 'sdf' | 'msdf' | 'none';\n        /** Range of the distance field in pixels */\n        range: number;\n    };\n}\n\ninterface BitmapFontEvents<Type>\n{\n    destroy: [Type];\n}\n\n/**\n * An abstract representation of a bitmap font.\n * @memberof text\n */\nexport abstract class AbstractBitmapFont<FontType>\n    extends EventEmitter<BitmapFontEvents<FontType>>\n    implements Omit<BitmapFontData, 'chars' | 'pages' | 'fontSize'>\n{\n    /** The map of characters by character code. */\n    public readonly chars: Record<string, CharData> = Object.create(null);\n\n    /**\n     * The line-height of the font face in pixels.\n     * @type {number}\n     */\n    public readonly lineHeight: BitmapFontData['lineHeight'] = 0;\n\n    /**\n     * The name of the font face\n     * @type {string}\n     */\n    public readonly fontFamily: BitmapFontData['fontFamily'] = '';\n    /** The metrics of the font face. */\n    public readonly fontMetrics: FontMetrics = { fontSize: 0, ascent: 0, descent: 0 };\n    /**\n     * The offset of the font face from the baseline.\n     * @type {number}\n     */\n    public readonly baseLineOffset: BitmapFontData['baseLineOffset'] = 0;\n    /** The range and type of the distance field for this font. */\n    public readonly distanceField: BitmapFontData['distanceField'] = { type: 'none', range: 0 };\n    /** The map of base page textures (i.e., sheets of glyphs). */\n    public readonly pages: { texture: Texture }[] = [];\n    /** should the fill for this font be applied as a tint to the text. */\n    public applyFillAsTint = true;\n\n    /** The size of the font face in pixels. */\n    public readonly baseMeasurementFontSize: number = 100;\n    protected baseRenderedFontSize = 100;\n\n    /**\n     * The name of the font face.\n     * @deprecated since 8.0.0 Use `fontFamily` instead.\n     */\n    public get font(): BitmapFontData['fontFamily']\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead.');\n        // #endif\n\n        return this.fontFamily;\n    }\n\n    /**\n     * The map of base page textures (i.e., sheets of glyphs).\n     * @deprecated since 8.0.0 Use `pages` instead.\n     */\n    public get pageTextures(): AbstractBitmapFont<FontType>['pages']\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead.');\n        // #endif\n\n        return this.pages;\n    }\n\n    /**\n     * The size of the font face in pixels.\n     * @deprecated since 8.0.0 Use `fontMetrics.fontSize` instead.\n     */\n    public get size(): BitmapFontData['fontSize']\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead.');\n        // #endif\n\n        return this.fontMetrics.fontSize;\n    }\n\n    /**\n     * The kind of distance field for this font or \"none\".\n     * @deprecated since 8.0.0 Use `distanceField.type` instead.\n     */\n    public get distanceFieldRange(): NonNullable<BitmapFontData['distanceField']>['range']\n    {\n        // #if _DEBUG\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead.');\n        // #endif\n\n        return this.distanceField.range;\n    }\n\n    /**\n     * The range of the distance field in pixels.\n     * @deprecated since 8.0.0 Use `distanceField.range` instead.\n     */\n    public get distanceFieldType(): NonNullable<BitmapFontData['distanceField']>['type']\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead.');\n        // #endif\n\n        return this.distanceField.type;\n    }\n\n    public destroy(destroyTextures = false): void\n    {\n        this.emit('destroy', this as unknown as FontType);\n\n        this.removeAllListeners();\n\n        for (const i in this.chars)\n        {\n            // texture may not exist if the char is \" \", \\n, \\r, or \\t.\n            this.chars[i].texture?.destroy();\n        }\n\n        (this.chars as null) = null;\n\n        if (destroyTextures)\n        {\n            this.pages.forEach((page) => page.texture.destroy(true));\n            (this.pages as any) = null;\n        }\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;AAoFO,MAAe,oNACV,UAEZ,CAAA;IAHO,WAAA,EAAA;QAAA,KAAA,CAAA,GAAA,SAAA,CAAA,CAAA;QAKH,6CAAA,GAAgB,IAAA,CAAA,KAAA,GAAA,aAAA,GAAyC,MAAA,CAAA,MAAA,CAAO,IAAI,CAAA,CAAA;QAMpE;;;KAAA,GAAA,IAAA,CAAgB,UAA2C,GAAA,CAAA,CAAA;QAM3D;;;KAAA,GAAA,IAAA,CAAgB,UAA2C,GAAA,EAAA,CAAA;QAE3D,kCAAA,GAAA,IAAA,CAAgB,WAAA,GAA2B;YAAE,QAAA,EAAU;YAAG,MAAQ,EAAA,CAAA;YAAG,SAAS,CAAE;QAAA,CAAA,CAAA;QAKhF;;;KAAA,GAAA,IAAA,CAAgB,cAAmD,GAAA,CAAA,CAAA;QAEnE,4DAAA,GAAA,IAAA,CAAgB,aAAiD,GAAA;YAAE,IAAM,EAAA,MAAA;YAAQ,OAAO,CAAE;QAAA,CAAA,CAAA;QAE1F,4DAAA,GAAA,IAAA,CAAgB,KAAA,GAAgC,EAAC,CAAA;QAEjD,oEAAA,GAAA,IAAA,CAAO,eAAkB,GAAA,IAAA,CAAA;QAGzB,yCAAA,GAAA,IAAA,CAAgB,uBAAkC,GAAA,GAAA,CAAA;QAClD,IAAA,CAAU,oBAAuB,GAAA,GAAA,CAAA;IAAA,CAAA;IAAA;;;GAAA,GAMjC,IAAW,IACX,GAAA;YAEI,uLAAA,2KAAY,SAAA,EAAQ,0EAA0E,CAAA,CAAA;QAG9F,OAAO,IAAK,CAAA,UAAA,CAAA;IAAA,CAChB;IAAA;;;GAAA,GAMA,IAAW,YACX,GAAA;qLAEI,cAAA,2KAAY,SAAA,EAAQ,6EAA6E,CAAA,CAAA;QAGjG,OAAO,IAAK,CAAA,KAAA,CAAA;IAAA,CAChB;IAAA;;;GAAA,GAMA,IAAW,IACX,GAAA;qLAEI,cAAA,0KAAY,UAAA,EAAQ,oFAAoF,CAAA,CAAA;QAGxG,OAAO,IAAA,CAAK,WAAY,CAAA,QAAA,CAAA;IAAA,CAC5B;IAAA;;;GAAA,GAMA,IAAW,kBACX,GAAA;qLAGI,cAAA,0KAAY,UAAA,EAAQ,iGAAiG,CAAA,CAAA;QAGrH,OAAO,IAAA,CAAK,aAAc,CAAA,KAAA,CAAA;IAAA,CAC9B;IAAA;;;GAAA,GAMA,IAAW,iBACX,GAAA;QAEI,2LAAA,2KAAY,SAAA,EAAQ,+FAA+F,CAAA,CAAA;QAGnH,OAAO,IAAA,CAAK,aAAc,CAAA,IAAA,CAAA;IAAA,CAC9B;IAEO,OAAA,CAAQ,kBAAkB,KACjC,EAAA;QACS,IAAA,CAAA,IAAA,CAAK,WAAW,IAA2B,CAAA,CAAA;QAEhD,IAAA,CAAK,kBAAmB,EAAA,CAAA;QAEb,IAAA,MAAA,CAAA,IAAK,IAAA,CAAK,KACrB,CAAA;YAEI,IAAA,CAAK,KAAM,CAAA,CAAC,CAAE,CAAA,OAAA,EAAS,OAAQ,EAAA,CAAA;QAAA,CACnC;QAEC,IAAA,CAAK,KAAiB,GAAA,IAAA,CAAA;QAEvB,IAAI,eACJ,EAAA;YACS,IAAA,CAAA,KAAA,CAAM,OAAA,CAAQ,CAAC,IAAA,GAAS,KAAK,OAAQ,CAAA,OAAA,CAAQ,IAAI,CAAC,CAAA,CAAA;YACtD,IAAA,CAAK,KAAgB,GAAA,IAAA,CAAA;QAAA,CAC1B;IAAA,CACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 9566, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9572, "column": 0}, "map": {"version":3,"file":"DynamicBitmapFont.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-bitmap/DynamicBitmapFont.ts"],"sourcesContent":["import { Color } from '../../color/Color';\nimport { Rectangle } from '../../maths/shapes/Rectangle';\nimport { CanvasPool } from '../../rendering/renderers/shared/texture/CanvasPool';\nimport { ImageSource } from '../../rendering/renderers/shared/texture/sources/ImageSource';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { CanvasTextMetrics } from '../text/canvas/CanvasTextMetrics';\nimport { fontStringFromTextStyle } from '../text/canvas/utils/fontStringFromTextStyle';\nimport { getCanvasFillStyle } from '../text/canvas/utils/getCanvasFillStyle';\nimport { TextStyle } from '../text/TextStyle';\nimport { AbstractBitmapFont } from './AbstractBitmapFont';\nimport { resolveCharacters } from './utils/resolveCharacters';\n\nimport type { ICanvasRenderingContext2D } from '../../environment/canvas/ICanvasRenderingContext2D';\nimport type { CanvasAndContext } from '../../rendering/renderers/shared/texture/CanvasPool';\nimport type { FontMetrics } from '../text/canvas/CanvasTextMetrics';\n\nexport interface DynamicBitmapFontOptions\n{\n    style: TextStyle\n    skipKerning?: boolean\n    resolution?: number\n    padding?: number\n    overrideFill?: boolean\n    overrideSize?: boolean\n    textureSize?: number\n    mipmap?: boolean\n}\n\n/**\n * A BitmapFont that generates its glyphs dynamically.\n * @memberof text\n * @ignore\n */\nexport class DynamicBitmapFont extends AbstractBitmapFont<DynamicBitmapFont>\n{\n    public static defaultOptions: DynamicBitmapFontOptions = {\n        textureSize: 512,\n        style: new TextStyle(),\n        mipmap: true,\n    };\n    /**\n     * this is a resolution modifier for the font size..\n     * texture resolution will also be used to scale texture according to its font size also\n     */\n    public resolution = 1;\n    /** The pages of the font. */\n    public override readonly pages: {canvasAndContext?: CanvasAndContext, texture: Texture}[] = [];\n\n    private readonly _padding: number = 0;\n    private readonly _measureCache: Record<string, number> = Object.create(null);\n    private _currentChars: string[] = [];\n    private _currentX = 0;\n    private _currentY = 0;\n    private _currentPageIndex = -1;\n    private readonly _style: TextStyle;\n    private readonly _skipKerning: boolean = false;\n    private readonly _textureSize: number;\n    private readonly _mipmap: boolean;\n\n    /**\n     * @param options - The options for the dynamic bitmap font.\n     */\n    constructor(options: DynamicBitmapFontOptions)\n    {\n        super();\n\n        const dynamicOptions = { ...DynamicBitmapFont.defaultOptions, ...options };\n\n        this._textureSize = dynamicOptions.textureSize;\n        this._mipmap = dynamicOptions.mipmap;\n\n        const style = dynamicOptions.style.clone();\n\n        if (dynamicOptions.overrideFill)\n        {\n            // assuming no shape fill..\n            style._fill.color = 0xffffff;\n            style._fill.alpha = 1;\n            style._fill.texture = Texture.WHITE;\n            style._fill.fill = null;\n        }\n\n        this.applyFillAsTint = dynamicOptions.overrideFill;\n\n        const requestedFontSize = style.fontSize;\n\n        // adjust font size to match the base measurement size\n        style.fontSize = this.baseMeasurementFontSize;\n\n        const font = fontStringFromTextStyle(style);\n\n        if (dynamicOptions.overrideSize)\n        {\n            if (style._stroke)\n            {\n                // we want the stroke to fit the size of the requested text, so we need to scale it\n                // accordingly (eg font size 20, with stroke 10 - stroke is 50% of size,\n                // as dynamic font is size 100, the stroke should be adjusted to 50 to make it look right)\n                style._stroke.width *= this.baseRenderedFontSize / requestedFontSize;\n            }\n        }\n        else\n        {\n            style.fontSize = this.baseRenderedFontSize = requestedFontSize;\n        }\n\n        this._style = style;\n        this._skipKerning = dynamicOptions.skipKerning ?? false;\n        this.resolution = dynamicOptions.resolution ?? 1;\n        this._padding = dynamicOptions.padding ?? 4;\n\n        (this.fontMetrics as FontMetrics) = CanvasTextMetrics.measureFont(font);\n        (this.lineHeight as number) = style.lineHeight || this.fontMetrics.fontSize || style.fontSize;\n    }\n\n    public ensureCharacters(chars: string): void\n    {\n        const charList = resolveCharacters(chars)\n            .filter((char) => !this._currentChars.includes(char))\n            .filter((char, index, self) => self.indexOf(char) === index);\n        // filter returns..\n\n        if (!charList.length) return;\n\n        this._currentChars = [...this._currentChars, ...charList];\n\n        let pageData;\n\n        if (this._currentPageIndex === -1)\n        {\n            pageData = this._nextPage();\n        }\n        else\n        {\n            pageData = this.pages[this._currentPageIndex];\n        }\n\n        let { canvas, context } = pageData.canvasAndContext;\n        let textureSource = pageData.texture.source;\n\n        const style = this._style;\n\n        let currentX = this._currentX;\n        let currentY = this._currentY;\n\n        const fontScale = this.baseRenderedFontSize / this.baseMeasurementFontSize;\n        const padding = this._padding * fontScale;\n\n        let maxCharHeight = 0;\n        let skipTexture = false;\n\n        const maxTextureWidth = canvas.width / this.resolution;\n        const maxTextureHeight = canvas.height / this.resolution;\n\n        for (let i = 0; i < charList.length; i++)\n        {\n            const char = charList[i];\n\n            const metrics = CanvasTextMetrics.measureText(char, style, canvas, false);\n\n            // override the line height.. we want this to be the glyps height\n            // not the user specified one.\n            metrics.lineHeight = metrics.height;\n\n            const width = metrics.width * fontScale;\n            // This is ugly - but italics are given more space so they don't overlap\n            const textureGlyphWidth = Math.ceil((style.fontStyle === 'italic' ? 2 : 1) * width);\n\n            const height = (metrics.height) * fontScale;\n\n            const paddedWidth = textureGlyphWidth + (padding * 2);\n            const paddedHeight = height + (padding * 2);\n\n            skipTexture = false;\n            // don't let empty characters count towards the maxCharHeight\n            if (char !== '\\n' && char !== '\\r' && char !== '\\t' && char !== ' ')\n            {\n                skipTexture = true;\n                maxCharHeight = Math.ceil(Math.max(paddedHeight, maxCharHeight));// / 1.5;\n            }\n\n            if (currentX + paddedWidth > maxTextureWidth)\n            {\n                currentY += maxCharHeight;\n\n                // reset the line x and height..\n                maxCharHeight = paddedHeight;\n                currentX = 0;\n\n                if (currentY + maxCharHeight > maxTextureHeight)\n                {\n                    textureSource.update();\n\n                    const pageData = this._nextPage();\n\n                    canvas = pageData.canvasAndContext.canvas;\n                    context = pageData.canvasAndContext.context;\n                    textureSource = pageData.texture.source;\n\n                    currentY = 0;\n                }\n            }\n\n            const xAdvance = (width / fontScale)\n                - (style.dropShadow?.distance ?? 0)\n                - (style._stroke?.width ?? 0);\n\n            // This is in coord space of the measurements.. not the texture\n            this.chars[char] = {\n                id: char.codePointAt(0),\n                xOffset: -this._padding,\n                yOffset: -this._padding,\n                xAdvance,\n                kerning: {},\n            };\n\n            if (skipTexture)\n            {\n                this._drawGlyph(\n                    context,\n                    metrics,\n                    currentX + padding,\n                    currentY + padding,\n                    fontScale,\n                    style,\n                );\n\n                const px = textureSource.width * fontScale;\n                const py = textureSource.height * fontScale;\n\n                const frame = new Rectangle(\n                    ((currentX) / px) * textureSource.width,\n                    ((currentY) / py) * textureSource.height,\n                    ((paddedWidth) / px) * textureSource.width,\n                    ((paddedHeight) / py) * textureSource.height,\n                );\n\n                this.chars[char].texture = new Texture({\n                    source: textureSource,\n                    frame,\n                });\n\n                currentX += Math.ceil(paddedWidth);\n            }\n\n            // now add it to the font data..\n        }\n\n        textureSource.update();\n\n        this._currentX = currentX;\n        this._currentY = currentY;\n\n        // now apply kerning..\n        this._skipKerning && this._applyKerning(charList, context);\n    }\n\n    /**\n     * @deprecated since 8.0.0\n     * The map of base page textures (i.e., sheets of glyphs).\n     */\n    public override get pageTextures(): DynamicBitmapFont['pages']\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead.');\n        // #endif\n\n        return this.pages;\n    }\n\n    private _applyKerning(newChars: string[], context: ICanvasRenderingContext2D): void\n    {\n        const measureCache = this._measureCache;\n\n        for (let i = 0; i < newChars.length; i++)\n        {\n            const first = newChars[i];\n\n            for (let j = 0; j < this._currentChars.length; j++)\n            {\n                // first go through new char being first\n                const second = this._currentChars[j];\n\n                let c1 = measureCache[first];\n\n                if (!c1) c1 = measureCache[first] = context.measureText(first).width;\n\n                let c2 = measureCache[second];\n\n                if (!c2) c2 = measureCache[second] = context.measureText(second).width;\n\n                let total = context.measureText(first + second).width;\n                let amount = total - (c1 + c2);\n\n                if (amount)\n                {\n                    this.chars[first].kerning[second] = amount;\n                }\n\n                // then go through new char being second\n                total = context.measureText(first + second).width;\n                amount = total - (c1 + c2);\n\n                if (amount)\n                {\n                    this.chars[second].kerning[first] = amount;\n                }\n            }\n        }\n    }\n\n    private _nextPage(): {canvasAndContext: CanvasAndContext, texture: Texture}\n    {\n        this._currentPageIndex++;\n\n        const textureResolution = this.resolution;\n        const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(\n            this._textureSize,\n            this._textureSize,\n            textureResolution\n        );\n\n        this._setupContext(canvasAndContext.context, this._style, textureResolution);\n\n        const resolution = textureResolution * (this.baseRenderedFontSize / this.baseMeasurementFontSize);\n        const texture = new Texture({\n            source: new ImageSource({\n                resource: canvasAndContext.canvas,\n                resolution,\n                alphaMode: 'premultiply-alpha-on-upload',\n                autoGenerateMipmaps: this._mipmap,\n            }),\n\n        });\n\n        const pageData = {\n            canvasAndContext,\n            texture,\n        };\n\n        this.pages[this._currentPageIndex] = pageData;\n\n        return pageData;\n    }\n\n    // canvas style!\n    private _setupContext(context: ICanvasRenderingContext2D, style: TextStyle, resolution: number): void\n    {\n        style.fontSize = this.baseRenderedFontSize;\n        context.scale(resolution, resolution);\n        context.font = fontStringFromTextStyle(style);\n        style.fontSize = this.baseMeasurementFontSize;\n        context.textBaseline = style.textBaseline;\n\n        const stroke = style._stroke;\n        const strokeThickness = stroke?.width ?? 0;\n\n        if (stroke)\n        {\n            context.lineWidth = strokeThickness;\n            context.lineJoin = stroke.join;\n            context.miterLimit = stroke.miterLimit;\n\n            // TODO prolly cache this??\n            context.strokeStyle = getCanvasFillStyle(stroke, context);\n        }\n\n        if (style._fill)\n        {\n            // set canvas text styles\n            context.fillStyle = getCanvasFillStyle(style._fill, context);\n        }\n\n        if (style.dropShadow)\n        {\n            const shadowOptions = style.dropShadow;\n            const rgb = Color.shared.setValue(shadowOptions.color).toArray();\n\n            const dropShadowBlur = shadowOptions.blur * resolution;\n            const dropShadowDistance = shadowOptions.distance * resolution;\n\n            context.shadowColor = `rgba(${rgb[0] * 255},${rgb[1] * 255},${rgb[2] * 255},${shadowOptions.alpha})`;\n            context.shadowBlur = dropShadowBlur;\n            context.shadowOffsetX = Math.cos(shadowOptions.angle) * dropShadowDistance;\n            context.shadowOffsetY = Math.sin(shadowOptions.angle) * dropShadowDistance;\n        }\n        else\n        {\n            context.shadowColor = 'black';\n            context.shadowBlur = 0;\n            context.shadowOffsetX = 0;\n            context.shadowOffsetY = 0;\n        }\n    }\n\n    private _drawGlyph(\n        context: ICanvasRenderingContext2D,\n        metrics: CanvasTextMetrics,\n        x: number,\n        y: number,\n        fontScale: number,\n        style: TextStyle\n    ): void\n    {\n        const char = metrics.text;\n        const fontProperties = metrics.fontProperties;\n        const stroke = style._stroke;\n\n        const strokeThickness = (stroke?.width ?? 0) * fontScale;\n\n        const tx = x + (strokeThickness / 2);\n        const ty = y - (strokeThickness / 2);\n\n        const descent = fontProperties.descent * fontScale;\n        const lineHeight = metrics.lineHeight * fontScale;\n\n        if (style.stroke && strokeThickness)\n        {\n            context.strokeText(char, tx, ty + lineHeight - descent);\n        }\n\n        if (style._fill)\n        {\n            context.fillText(char, tx, ty + lineHeight - descent);\n        }\n    }\n\n    public override destroy(): void\n    {\n        super.destroy();\n\n        for (let i = 0; i < this.pages.length; i++)\n        {\n            const { canvasAndContext, texture } = this.pages[i];\n\n            CanvasPool.returnCanvasAndContext(canvasAndContext);\n            texture.destroy(true);\n        }\n\n        (this.pages as null) = null;\n    }\n}\n"],"names":["pageData"],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 9843, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 9849, "column": 0}, "map": {"version":3,"file":"getBitmapTextLayout.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-bitmap/utils/getBitmapTextLayout.ts"],"sourcesContent":["import type { TextStyle } from '../../text/TextStyle';\nimport type { AbstractBitmapFont } from '../AbstractBitmapFont';\n\nexport interface BitmapTextLayoutData\n{\n    width: number;\n    height: number;\n    scale: number;\n    offsetY: number;\n    lines: {\n        width: number\n        charPositions: number[],\n        chars: string[],\n        // / spaces: number\n        spaceWidth: number\n        spacesIndex: number[]\n    }[];\n}\n\nexport function getBitmapTextLayout(\n    chars: string[],\n    style: TextStyle,\n    font: AbstractBitmapFont<any>,\n    trimEnd: boolean\n): BitmapTextLayoutData\n{\n    const layoutData: BitmapTextLayoutData = {\n        width: 0,\n        height: 0,\n        offsetY: 0,\n        scale: style.fontSize / font.baseMeasurementFontSize,\n        lines: [{\n            width: 0,\n            charPositions: [] as number[],\n            spaceWidth: 0,\n            spacesIndex: [],\n            chars: [],\n        }]\n    };\n\n    layoutData.offsetY = font.baseLineOffset;\n\n    let currentLine = layoutData.lines[0];\n\n    let previousChar: string = null;\n    let firstWord = true;\n    //    let spaceCount = 0;\n\n    const currentWord = {\n        spaceWord: false,\n        width: 0,\n        start: 0,\n        index: 0, // use index to not modify the array as we use it a lot!\n        positions: [] as number[],\n        chars: [] as string[],\n    };\n\n    const nextWord = (word: typeof currentWord) =>\n    {\n        const start = currentLine.width;\n\n        for (let j = 0; j < currentWord.index; j++)\n        {\n            const position = word.positions[j];\n\n            currentLine.chars.push(word.chars[j]);\n            currentLine.charPositions.push(position + start);\n        }\n\n        currentLine.width += word.width;\n\n        firstWord = false;\n\n        // reset the word..\n        currentWord.width = 0;\n        currentWord.index = 0;\n        currentWord.chars.length = 0;\n\n        // spaceCount = 0;\n    };\n\n    const nextLine = () =>\n    {\n        let index = currentLine.chars.length - 1;\n\n        if (trimEnd)\n        {\n            let lastChar = currentLine.chars[index];\n\n            while (lastChar === ' ')\n            {\n                currentLine.width -= font.chars[lastChar].xAdvance;\n                lastChar = currentLine.chars[--index];\n            }\n        }\n\n        layoutData.width = Math.max(layoutData.width, currentLine.width);\n\n        currentLine = {\n            width: 0,\n            charPositions: [],\n            chars: [],\n            spaceWidth: 0,\n            spacesIndex: [],\n        };\n\n        firstWord = true;\n        layoutData.lines.push(currentLine);\n        layoutData.height += font.lineHeight;\n    };\n\n    const scale = font.baseMeasurementFontSize / style.fontSize;\n\n    const adjustedLetterSpacing = style.letterSpacing * scale;\n    const adjustedWordWrapWidth = style.wordWrapWidth * scale;\n\n    // loop an extra time to force a line break..\n    for (let i = 0; i < chars.length + 1; i++)\n    {\n        let char: string;\n\n        const isEnd = i === chars.length;\n\n        if (!isEnd)\n        {\n            char = chars[i];\n        }\n\n        const charData = font.chars[char] || font.chars[' '];\n\n        const isSpace = (/(?:\\s)/).test(char);\n        const isWordBreak = isSpace || char === '\\r' || char === '\\n' || isEnd;\n\n        // spaceCount++;\n        // wasSpace = isSpace;\n\n        if (isWordBreak)\n        {\n            const addWordToNextLine = !firstWord\n                && style.wordWrap\n                && (currentLine.width + currentWord.width - adjustedLetterSpacing) > adjustedWordWrapWidth;\n\n            if (addWordToNextLine)\n            {\n                nextLine();\n\n                nextWord(currentWord);\n\n                if (!isEnd)\n                {\n                    currentLine.charPositions.push(0);\n                }\n            }\n            else\n            {\n                currentWord.start = currentLine.width;\n\n                nextWord(currentWord);\n\n                if (!isEnd)\n                {\n                    currentLine.charPositions.push(0);\n                }\n            }\n\n            if (char === '\\r' || char === '\\n')\n            {\n                if (currentLine.width !== 0)\n                {\n                    nextLine();\n                }\n            }\n            else if (!isEnd)\n            {\n                const spaceWidth = charData.xAdvance + (charData.kerning[previousChar] || 0) + adjustedLetterSpacing;\n\n                currentLine.width += spaceWidth;\n\n                currentLine.spaceWidth = spaceWidth;\n                currentLine.spacesIndex.push(currentLine.charPositions.length);\n                currentLine.chars.push(char);\n\n                // spaceCount++;\n            }\n        }\n        else\n        {\n            const kerning = charData.kerning[previousChar] || 0;\n\n            const nextCharWidth = charData.xAdvance + kerning + adjustedLetterSpacing;\n\n            currentWord.positions[currentWord.index++] = currentWord.width + kerning;\n            currentWord.chars.push(char);\n\n            currentWord.width += nextCharWidth;\n        }\n\n        previousChar = char;\n        // lastChar = char;\n    }\n\n    nextLine();\n\n    if (style.align === 'center')\n    {\n        alignCenter(layoutData);\n    }\n    else if (style.align === 'right')\n    {\n        alignRight(layoutData);\n    }\n    else if (style.align === 'justify')\n    {\n        alignJustify(layoutData);\n    }\n\n    return layoutData;\n}\n\nfunction alignCenter(measurementData: BitmapTextLayoutData)\n{\n    for (let i = 0; i < measurementData.lines.length; i++)\n    {\n        const line = measurementData.lines[i];\n        const offset = ((measurementData.width / 2) - (line.width / 2));\n\n        for (let j = 0; j < line.charPositions.length; j++)\n        {\n            line.charPositions[j] += offset;\n        }\n    }\n}\n\nfunction alignRight(measurementData: BitmapTextLayoutData)\n{\n    for (let i = 0; i < measurementData.lines.length; i++)\n    {\n        const line = measurementData.lines[i];\n        const offset = ((measurementData.width) - (line.width));\n\n        for (let j = 0; j < line.charPositions.length; j++)\n        {\n            line.charPositions[j] += offset;\n        }\n    }\n}\n\nfunction alignJustify(measurementData: BitmapTextLayoutData)\n{\n    const width = measurementData.width;\n\n    for (let i = 0; i < measurementData.lines.length; i++)\n    {\n        const line = measurementData.lines[i];\n\n        let indy = 0;\n        let spaceIndex = line.spacesIndex[indy++];\n\n        let offset = 0;\n\n        const totalSpaces = line.spacesIndex.length;\n\n        const newSpaceWidth = (width - line.width) / totalSpaces;\n\n        const spaceWidth = newSpaceWidth;\n\n        for (let j = 0; j < line.charPositions.length; j++)\n        {\n            if (j === spaceIndex)\n            {\n                spaceIndex = line.spacesIndex[indy++];\n\n                offset += spaceWidth;\n            }\n\n            line.charPositions[j] += offset;\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10012, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10018, "column": 0}, "map": {"version":3,"file":"BitmapFontManager.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-bitmap/BitmapFontManager.ts"],"sourcesContent":["import { Cache } from '../../assets/cache/Cache';\nimport { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { warn } from '../../utils/logging/warn';\nimport { TextStyle } from '../text/TextStyle';\nimport { DynamicBitmapFont } from './DynamicBitmapFont';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout';\nimport { resolveCharacters } from './utils/resolveCharacters';\n\nimport type { TextStyleOptions } from '../text/TextStyle';\nimport type { BitmapFont } from './BitmapFont';\nimport type { BitmapTextLayoutData } from './utils/getBitmapTextLayout';\n\nlet fontCount = 0;\n\n/**\n *\n * The options for installing a new BitmapFont. Once installed the font will be available for use in the BitmapText.\n * It can be accessed by the `fontFamily` property of the TextStyle.\n *\n * Install a new BitmapFont will create the characters provided for the font and store them in the cache.\n * But don't worry, if a character is requested that hasn't been generated yet, it will be created on the fly.\n * @memberof text\n */\nexport interface BitmapFontInstallOptions\n{\n    /** the name of the font, this will be the name you use in the fontFamily of text style to access this font */\n    name?: string;\n    /**\n     * Characters included in the font set. You can also use ranges.\n     * For example, `[['a', 'z'], ['A', 'Z'], \"!@#$%^&*()~{}[] \"]`.\n     * Don't forget to include spaces ' ' in your character set!\n     * @default BitmapFont.ALPHANUMERIC\n     */\n    chars?: string | (string | string[])[];\n    /**\n     * Render resolution for glyphs.\n     * @default 1\n     */\n    resolution?: number;\n    /**\n     * Padding between glyphs on texture atlas. Lower values could mean more visual artifacts\n     * and bleeding from other glyphs, larger values increase the space required on the texture.\n     * @default 4\n     */\n    padding?: number;\n    /**\n     * Skip generation of kerning information for the BitmapFont.\n     * If true, this could potentially increase the performance, but may impact the rendered text appearance.\n     * @default false\n     */\n    skipKerning?: boolean;\n    /** Style options to render with BitmapFont. */\n    style?: TextStyle | TextStyleOptions;\n}\n\n/**\n * The BitmapFontManager is a helper that exists to install and uninstall fonts\n * into the cache for BitmapText objects.\n * @memberof text\n * @name BitmapFontManager\n * @example\n * import { BitmapFontManager, BitmapText } from 'pixi.js';\n *\n * BitmapFontManager.install({\n *   name: 'TitleFont',\n *   style: {}\n * });\n *\n * const title = new BitmapText({ text: 'This is the title', style: { fontFamily: 'TitleFont' }});\n */\nclass BitmapFontManagerClass\n{\n    /**\n     * This character set includes all the letters in the alphabet (both lower- and upper- case).\n     * @type {string[][]}\n     * @example\n     * BitmapFont.from('ExampleFont', style, { chars: BitmapFont.ALPHA })\n     */\n    public readonly ALPHA = [['a', 'z'], ['A', 'Z'], ' '];\n\n    /**\n     * This character set includes all decimal digits (from 0 to 9).\n     * @type {string[][]}\n     * @example\n     * BitmapFont.from('ExampleFont', style, { chars: BitmapFont.NUMERIC })\n     */\n    public readonly NUMERIC = [['0', '9']];\n\n    /**\n     * This character set is the union of `BitmapFont.ALPHA` and `BitmapFont.NUMERIC`.\n     * @type {string[][]}\n     */\n    public readonly ALPHANUMERIC = [['a', 'z'], ['A', 'Z'], ['0', '9'], ' '];\n\n    /**\n     * This character set consists of all the ASCII table.\n     * @member {string[][]}\n     * @see http://www.asciitable.com/\n     */\n    public readonly ASCII = [[' ', '~']];\n\n    /** Default options for installing a new BitmapFont. */\n    public defaultOptions: Omit<BitmapFontInstallOptions, 'style'> = {\n        chars: this.ALPHANUMERIC,\n        resolution: 1,\n        padding: 4,\n        skipKerning: false,\n    };\n\n    /**\n     * Get a font for the specified text and style.\n     * @param text - The text to get the font for\n     * @param style - The style to use\n     */\n    public getFont(text: string, style: TextStyle): BitmapFont\n    {\n        let fontFamilyKey = `${style.fontFamily as string}-bitmap`;\n        let overrideFill = true;\n\n        // assuming there is no texture we can use a tint!\n        if (style._fill.fill && !style._stroke)\n        {\n            fontFamilyKey += style._fill.fill.styleKey;\n            overrideFill = false;\n        }\n        else if (style._stroke || style.dropShadow)\n        {\n            // if there is a stoke, we need to use the style key as this the font generated cannot be tinted\n            // due to the fact the font has at least two colors.\n            let key = style.styleKey;\n\n            // remove the font size..\n            key = key.substring(0, key.lastIndexOf('-'));\n\n            fontFamilyKey = `${key}-bitmap`;\n            overrideFill = false;\n        }\n\n        // first get us the the right font...\n        if (!Cache.has(fontFamilyKey))\n        {\n            const fnt = new DynamicBitmapFont({\n                style,\n                overrideFill,\n                overrideSize: true,\n                ...this.defaultOptions,\n            });\n\n            fontCount++;\n\n            // warn users if they have created too many dynamic fonts\n            if (fontCount > 50)\n            {\n                // eslint-disable-next-line max-len\n                warn('BitmapText', `You have dynamically created ${fontCount} bitmap fonts, this can be inefficient. Try pre installing your font styles using \\`BitmapFont.install({name:\"style1\", style})\\``);\n            }\n\n            fnt.once('destroy', () =>\n            {\n                fontCount--;\n                Cache.remove(fontFamilyKey);\n            });\n\n            Cache.set(\n                fontFamilyKey as string,\n                fnt\n            );\n        }\n\n        const dynamicFont = Cache.get(fontFamilyKey);\n\n        (dynamicFont as DynamicBitmapFont).ensureCharacters?.(text);\n\n        return dynamicFont;\n    }\n\n    /**\n     * Get the layout of a text for the specified style.\n     * @param text - The text to get the layout for\n     * @param style - The style to use\n     * @param trimEnd - Whether to ignore whitespaces at the end of each line\n     */\n    public getLayout(text: string, style: TextStyle, trimEnd: boolean = true): BitmapTextLayoutData\n    {\n        const bitmapFont = this.getFont(text, style);\n\n        return getBitmapTextLayout([...text], style, bitmapFont, trimEnd);\n    }\n\n    /**\n     * Measure the text using the specified style.\n     * @param text - The text to measure\n     * @param style - The style to use\n     * @param trimEnd - Whether to ignore whitespaces at the end of each line\n     */\n    public measureText(\n        text: string,\n        style: TextStyle,\n        trimEnd: boolean = true\n    ): { width: number; height: number; scale: number; offsetY: number }\n    {\n        return this.getLayout(text, style, trimEnd);\n    }\n\n    /**\n     * Generates a bitmap-font for the given style and character set\n     * @param options - Setup options for font generation.\n     * @returns Font generated by style options.\n     * @example\n     * import { BitmapFontManager, BitmapText } from 'pixi.js';\n     *\n     * BitmapFontManager.install('TitleFont', {\n     *     fontFamily: 'Arial',\n     *     fontSize: 12,\n     *     strokeThickness: 2,\n     *     fill: 'purple',\n     * });\n     *\n     * const title = new BitmapText({ text: 'This is the title', fontFamily: 'TitleFont' });\n     */\n    public install(options: BitmapFontInstallOptions): BitmapFont;\n    /** @deprecated since 7.0.0 */\n    public install(name: string, style?: TextStyle | TextStyleOptions, options?: BitmapFontInstallOptions): BitmapFont;\n    // eslint-disable-next-line max-len\n    public install(...args: [string | BitmapFontInstallOptions, (TextStyle | TextStyleOptions)?, BitmapFontInstallOptions?]): BitmapFont\n    {\n        let options = args[0] as BitmapFontInstallOptions;\n\n        if (typeof options === 'string')\n        {\n            options = {\n                name: options,\n                style: args[1],\n                chars: args[2]?.chars,\n                resolution: args[2]?.resolution,\n                padding: args[2]?.padding,\n                skipKerning: args[2]?.skipKerning,\n            } as BitmapFontInstallOptions;\n\n            // #if _DEBUG\n            // eslint-disable-next-line max-len\n            deprecation(v8_0_0, 'BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})');\n            // #endif\n        }\n\n        const name = options?.name;\n\n        if (!name)\n        {\n            throw new Error('[BitmapFontManager] Property `name` is required.');\n        }\n\n        options = { ...this.defaultOptions, ...options };\n\n        const textStyle = options.style;\n\n        const style = textStyle instanceof TextStyle ? textStyle : new TextStyle(textStyle);\n        const overrideFill = style._fill.fill !== null && style._fill.fill !== undefined;\n        const font = new DynamicBitmapFont({\n            style,\n            overrideFill,\n            skipKerning: options.skipKerning,\n            padding: options.padding,\n            resolution: options.resolution,\n            overrideSize: false\n        });\n\n        const flatChars = resolveCharacters(options.chars);\n\n        font.ensureCharacters(flatChars.join(''));\n\n        Cache.set(`${name}-bitmap`, font);\n\n        font.once('destroy', () => Cache.remove(`${name}-bitmap`));\n\n        return font;\n    }\n\n    /**\n     * Uninstalls a bitmap font from the cache.\n     * @param {string} name - The name of the bitmap font to uninstall.\n     */\n    public uninstall(name: string)\n    {\n        const cacheKey = `${name}-bitmap`;\n        const font = Cache.get<BitmapFont>(cacheKey);\n\n        if (font)\n        {\n            font.destroy();\n        }\n    }\n}\n\nexport const BitmapFontManager = new BitmapFontManagerClass();\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10210, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10216, "column": 0}, "map": {"version":3,"file":"localUniformMSDFBit.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/sdfShader/shader-bits/localUniformMSDFBit.ts"],"sourcesContent":["// TODO eventually we should not use this bit, but instead use the localUniformBit\n// have the MSDF bit be merged in with the localUniformBit\n\nexport const localUniformMSDFBit = {\n    name: 'local-uniform-msdf-bit',\n    vertex: {\n        header: /* wgsl */`\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32,\n                uRound:f32,\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n        `,\n        main: /* wgsl */`\n            vColor *= localUniforms.uColor;\n            modelMatrix *= localUniforms.uTransformMatrix;\n        `,\n        end: /* wgsl */`\n            if(localUniforms.uRound == 1)\n            {\n                vPosition = vec4(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);\n            }\n        `\n    },\n    fragment: {\n        header: /* wgsl */`\n            struct LocalUniforms {\n                uColor:vec4<f32>,\n                uTransformMatrix:mat3x3<f32>,\n                uDistance: f32\n            }\n\n            @group(2) @binding(0) var<uniform> localUniforms : LocalUniforms;\n         `,\n        main: /* wgsl */` \n            outColor = vec4<f32>(calculateMSDFAlpha(outColor, localUniforms.uColor, localUniforms.uDistance));\n        `\n\n    }\n};\n\nexport const localUniformMSDFBitGl = {\n    name: 'local-uniform-msdf-bit',\n    vertex: {\n        header: /* glsl */`\n            uniform mat3 uTransformMatrix;\n            uniform vec4 uColor;\n            uniform float uRound;\n        `,\n        main: /* glsl */`\n            vColor *= uColor;\n            modelMatrix *= uTransformMatrix;\n        `,\n        end: /* glsl */`\n            if(uRound == 1.)\n            {\n                gl_Position.xy = roundPixels(gl_Position.xy, uResolution);\n            }\n        `\n    },\n    fragment: {\n        header: /* glsl */`\n            uniform float uDistance;\n         `,\n        main: /* glsl */` \n            outColor = vec4(calculateMSDFAlpha(outColor, vColor, uDistance));\n        `\n\n    }\n};\n"],"names":[],"mappings":";;;;;AAGO,MAAM,mBAAsB,GAAA;IAC/B,IAAM,EAAA,wBAAA;IACN,MAAQ,EAAA;QACJ,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;;;;;;QAAA,CAAA;QAUlB,IAAA,EAAA,QAAA,GAAgB,CAAA;;;QAAA,CAAA;QAIhB,GAAA,EAAA,QAAA,GAAe,CAAA;;;;;QAAA,CAAA;IAAA,CAMnB;IACA,QAAU,EAAA;QACN,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;;;;;SAAA,CAAA;QASlB,IAAA,EAAA,QAAA,GAAgB,CAAA;;QAAA,CAAA;IAAA,CAIpB;AACJ,EAAA;AAEO,MAAM,qBAAwB,GAAA;IACjC,IAAM,EAAA,wBAAA;IACN,MAAQ,EAAA;QACJ,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;QAAA,CAAA;QAKlB,IAAA,EAAA,QAAA,GAAgB,CAAA;;;QAAA,CAAA;QAIhB,GAAA,EAAA,QAAA,GAAe,CAAA;;;;;QAAA,CAAA;IAAA,CAMnB;IACA,QAAU,EAAA;QACN,MAAA,EAAA,QAAA,GAAkB,CAAA;;SAAA,CAAA;QAGlB,IAAA,EAAA,QAAA,GAAgB,CAAA;;QAAA,CAAA;IAAA,CAIpB;AACJ","ignoreList":[0]}},
    {"offset": {"line": 10290, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10296, "column": 0}, "map": {"version":3,"file":"mSDFBit.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/sdfShader/shader-bits/mSDFBit.ts"],"sourcesContent":["export const mSDFBit = {\n    name: 'msdf-bit',\n    fragment: {\n        header: /* wgsl */`\n            fn calculateMSDFAlpha(msdfColor:vec4<f32>, shapeColor:vec4<f32>, distance:f32) -> f32 {\n                \n                // MSDF\n                var median = msdfColor.r + msdfColor.g + msdfColor.b -\n                    min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                    max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n            \n                // SDF\n                median = min(median, msdfColor.a);\n\n                var screenPxDistance = distance * (median - 0.5);\n                var alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                var luma: f32 = dot(shapeColor.rgb, vec3<f32>(0.299, 0.587, 0.114));\n                var gamma: f32 = mix(1.0, 1.0 / 2.2, luma);\n                var coverage: f32 = pow(shapeColor.a * alpha, gamma);\n\n                return coverage;\n             \n            }\n        `,\n    }\n\n};\n\nexport const mSDFBitGl = {\n    name: 'msdf-bit',\n    fragment: {\n        header: /* glsl */`\n            float calculateMSDFAlpha(vec4 msdfColor, vec4 shapeColor, float distance) {\n                \n                // MSDF\n                float median = msdfColor.r + msdfColor.g + msdfColor.b -\n                                min(msdfColor.r, min(msdfColor.g, msdfColor.b)) -\n                                max(msdfColor.r, max(msdfColor.g, msdfColor.b));\n               \n                // SDF\n                median = min(median, msdfColor.a);\n            \n                float screenPxDistance = distance * (median - 0.5);\n                float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\n           \n                if (median < 0.01) {\n                    alpha = 0.0;\n                } else if (median > 0.99) {\n                    alpha = 1.0;\n                }\n\n                // Gamma correction for coverage-like alpha\n                float luma = dot(shapeColor.rgb, vec3(0.299, 0.587, 0.114));\n                float gamma = mix(1.0, 1.0 / 2.2, luma);\n                float coverage = pow(shapeColor.a * alpha, gamma);  \n              \n                return coverage;\n            }\n        `,\n    }\n\n};\n"],"names":[],"mappings":";;;;;AAAO,MAAM,OAAU,GAAA;IACnB,IAAM,EAAA,UAAA;IACN,QAAU,EAAA;QACN,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAA,CAAA;IAAA,CA4BtB;AAEJ,EAAA;AAEO,MAAM,SAAY,GAAA;IACrB,IAAM,EAAA,UAAA;IACN,QAAU,EAAA;QACN,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;QAAA,CAAA;IAAA,CA4BtB;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 10369, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10375, "column": 0}, "map": {"version":3,"file":"SdfShader.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text/sdfShader/SdfShader.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { getMaxTexturesPerBatch } from '../../../rendering/batcher/gl/utils/maxRecommendedTextures';\nimport {\n    compileHighShaderGlProgram,\n    compileHighShaderGpuProgram\n} from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { colorBit, colorBitGl } from '../../../rendering/high-shader/shader-bits/colorBit';\nimport {\n    generateTextureBatchBit,\n    generateTextureBatchBitGl\n} from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit';\nimport { roundPixelsBit, roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { getBatchSamplersUniformGroup } from '../../../rendering/renderers/gl/shader/getBatchSamplersUniformGroup';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { localUniformMSDFBit, localUniformMSDFBitGl } from './shader-bits/localUniformMSDFBit';\nimport { mSDFBit, mSDFBitGl } from './shader-bits/mSDFBit';\n\nimport type { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram';\nimport type { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram';\n\nlet gpuProgram: GpuProgram;\nlet glProgram: GlProgram;\n\nexport class SdfShader extends Shader\n{\n    constructor()\n    {\n        const uniforms = new UniformGroup({\n            uColor: { value: new Float32Array([1, 1, 1, 1]), type: 'vec4<f32>' },\n            uTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n            uDistance: { value: 4, type: 'f32' },\n            uRound: { value: 0, type: 'f32' },\n        });\n\n        const maxTextures = getMaxTexturesPerBatch();\n\n        gpuProgram ??= compileHighShaderGpuProgram({\n            name: 'sdf-shader',\n            bits: [\n                colorBit,\n                generateTextureBatchBit(maxTextures),\n                localUniformMSDFBit,\n                mSDFBit,\n                roundPixelsBit\n            ]\n        });\n\n        glProgram ??= compileHighShaderGlProgram({\n            name: 'sdf-shader',\n            bits: [\n                colorBitGl,\n                generateTextureBatchBitGl(maxTextures),\n                localUniformMSDFBitGl,\n                mSDFBitGl,\n                roundPixelsBitGl,\n            ]\n        });\n\n        super({\n            glProgram,\n            gpuProgram,\n            resources: {\n                localUniforms: uniforms,\n                batchSamplers: getBatchSamplersUniformGroup(maxTextures),\n            }\n        });\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAqBA,IAAI,UAAA,CAAA;AACJ,IAAI,SAAA,CAAA;AAEG,MAAM,gNAAkB,SAC/B,CAAA;IACI,WACA,EAAA;QACU,MAAA,QAAA,GAAW,uMAAI,gBAAa,CAAA;YAC9B,MAAQ,EAAA;gBAAE,KAAO,EAAA,IAAI,YAAa,CAAA;oBAAC,CAAG;oBAAA,CAAA;oBAAG,CAAG;oBAAA,CAAC;iBAAC,CAAA;gBAAG,MAAM,WAAY;YAAA,CAAA;YACnE,kBAAkB;gBAAE,KAAA,EAAO,uKAAI,SAAO,EAAA;gBAAG,MAAM,aAAc;YAAA,CAAA;YAC7D,SAAW,EAAA;gBAAE,KAAO,EAAA,CAAA;gBAAG,MAAM,KAAM;YAAA,CAAA;YACnC,MAAQ,EAAA;gBAAE,KAAO,EAAA,CAAA;gBAAG,MAAM,KAAM;YAAA,CAAA;QAAA,CACnC,CAAA,CAAA;QAED,MAAM,cAAc,oOAAA,AAAuB,EAAA,CAAA;QAE3C,UAAA,IAAA,CAAA,UAAA,0MAAe,8BAAA,AAA4B,EAAA;YACvC,IAAM,EAAA,YAAA;YACN,IAAM,EAAA;mNACF,WAAA;iBACA,+OAAA,EAAwB,WAAW,CAAA;6NACnC,sBAAA;iNACA,UAAA;yNACA,iBAAA;aACJ;QAAA,CACH,CAAA,CAAA,CAAA;QAED,SAAA,IAAA,CAAA,SAAA,IAAc,mOAAA,AAA2B,EAAA;YACrC,IAAM,EAAA,YAAA;YACN,IAAM,EAAA;mNACF,aAAA;sOACA,4BAAA,EAA0B,WAAW,CAAA;gBACrC,qOAAA;iNACA,YAAA;yNACA,mBAAA;aACJ;QAAA,CACH,CAAA,CAAA,CAAA;QAEK,KAAA,CAAA;YACF,SAAA;YACA,UAAA;YACA,SAAW,EAAA;gBACP,aAAe,EAAA,QAAA;gBACf,aAAA,sNAAe,+BAAA,EAA6B,WAAW,CAAA;YAAA,CAC3D;QAAA,CACH,CAAA,CAAA;IAAA,CACL;AACJ","ignoreList":[0]}},
    {"offset": {"line": 10461, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10467, "column": 0}, "map": {"version":3,"file":"Graphics.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/graphics/shared/Graphics.ts"],"sourcesContent":["import { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\nimport { ViewContainer } from '../../view/ViewContainer';\nimport { GraphicsContext } from './GraphicsContext';\n\nimport type { ColorSource } from '../../../color/Color';\nimport type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { PointData } from '../../../maths/point/PointData';\nimport type { Instruction } from '../../../rendering/renderers/shared/instructions/Instruction';\nimport type { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport type { Bounds } from '../../container/bounds/Bounds';\nimport type { ContainerOptions } from '../../container/Container';\nimport type { ContextDestroyOptions, DestroyOptions } from '../../container/destroyTypes';\nimport type { FillInput, FillStyle, StrokeStyle } from './FillTypes';\nimport type { GraphicsPath } from './path/GraphicsPath';\nimport type { RoundedPoint } from './path/roundShape';\n\n/**\n * Constructor options used for `Graphics` instances.\n * ```js\n * const graphics = new Graphics({\n *    fillStyle: { color: 0xff0000, alpha: 0.5 },\n *    strokeStyle: { color: 0x00ff00, width: 2 },\n * });\n * ```\n * @see {@link scene.Graphics}\n * @memberof scene\n */\nexport interface GraphicsOptions extends ContainerOptions\n{\n    /** The GraphicsContext to use, useful for reuse and optimisation */\n    context?: GraphicsContext;\n    /** Whether or not to round the x/y position. */\n    roundPixels?: boolean;\n}\n\n/**\n * The Graphics class is primarily used to render primitive shapes such as lines, circles and\n * rectangles to the display, and to color and fill them.  However, you can also use a Graphics\n * object to build a list of primitives to use as a mask, or as a complex hitArea.\n * @memberof scene\n * @extends scene.Container\n */\nexport class Graphics extends ViewContainer implements Instruction\n{\n    public override readonly renderPipeId: string = 'graphics';\n    public batched: boolean;\n\n    private _context: GraphicsContext;\n    private readonly _ownedContext: GraphicsContext;\n\n    /**\n     * @param options - Options for the Graphics.\n     */\n    constructor(options?: GraphicsOptions | GraphicsContext)\n    {\n        if (options instanceof GraphicsContext)\n        {\n            options = { context: options };\n        }\n\n        const { context, roundPixels, ...rest } = options || {};\n\n        super({\n            label: 'Graphics',\n            ...rest\n        });\n\n        if (!context)\n        {\n            this._context = this._ownedContext = new GraphicsContext();\n        }\n        else\n        {\n            this._context = context;\n        }\n\n        this._context.on('update', this.onViewUpdate, this);\n\n        this.allowChildren = false;\n        this.roundPixels = roundPixels ?? false;\n    }\n\n    set context(context: GraphicsContext)\n    {\n        if (context === this._context) return;\n\n        this._context.off('update', this.onViewUpdate, this);\n\n        this._context = context;\n\n        // TODO store this bound function somewhere else..\n        this._context.on('update', this.onViewUpdate, this);\n\n        this.onViewUpdate();\n    }\n\n    get context(): GraphicsContext\n    {\n        return this._context;\n    }\n\n    /**\n     * The local bounds of the graphic.\n     * @type {rendering.Bounds}\n     */\n    override get bounds(): Bounds\n    {\n        return this._context.bounds;\n    }\n\n    /**\n     * Graphics objects do not need to update their bounds as the context handles this.\n     * @private\n     */\n    protected updateBounds(): void { /** */ }\n\n    /**\n     * Checks if the object contains the given point.\n     * @param point - The point to check\n     */\n    public override containsPoint(point: PointData)\n    {\n        return this._context.containsPoint(point);\n    }\n\n    /**\n     * Destroys this graphics renderable and optionally its context.\n     * @param options - Options parameter. A boolean will act as if all options\n     *\n     * If the context was created by this graphics and `destroy(false)` or `destroy()` is called\n     * then the context will still be destroyed.\n     *\n     * If you want to explicitly not destroy this context that this graphics created,\n     * then you should pass destroy({ context: false })\n     *\n     * If the context was passed in as an argument to the constructor then it will not be destroyed\n     * @param {boolean} [options.texture=false] - Should destroy the texture of the graphics context\n     * @param {boolean} [options.textureSource=false] - Should destroy the texture source of the graphics context\n     * @param {boolean} [options.context=false] - Should destroy the context\n     */\n    public override destroy(options?: DestroyOptions): void\n    {\n        if (this._ownedContext && !options)\n        {\n            this._ownedContext.destroy(options);\n        }\n        else if (options === true || (options as ContextDestroyOptions)?.context === true)\n        {\n            this._context.destroy(options);\n        }\n\n        (this._ownedContext as null) = null;\n        this._context = null;\n\n        super.destroy(options);\n    }\n\n    private _callContextMethod(method: keyof GraphicsContext, args: any[]): this\n    {\n        (this.context as any)[method](...args);\n\n        return this;\n    }\n\n    // --------------------------------------- GraphicsContext methods ---------------------------------------\n    /**\n     * Sets the current fill style of the graphics context. The fill style can be a color, gradient,\n     * pattern, or a more complex style defined by a FillStyle object.\n     * @param {FillInput} args - The fill style to apply. This can be a simple color, a gradient or\n     * pattern object, or a FillStyle or ConvertedFillStyle object.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public setFillStyle(...args: Parameters<GraphicsContext['setFillStyle']>): this\n    {\n        return this._callContextMethod('setFillStyle', args);\n    }\n\n    /**\n     * Sets the current stroke style of the graphics context. Similar to fill styles, stroke styles can\n     * encompass colors, gradients, patterns, or more detailed configurations via a StrokeStyle object.\n     * @param {StrokeInput} args - The stroke style to apply. Can be defined as a color, a gradient or pattern,\n     * or a StrokeStyle or ConvertedStrokeStyle object.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public setStrokeStyle(...args: Parameters<GraphicsContext['setStrokeStyle']>): this\n    {\n        return this._callContextMethod('setStrokeStyle', args);\n    }\n\n    /**\n     * Fills the current or given path with the current fill style. This method can optionally take\n     * a color and alpha for a simple fill, or a more complex FillStyle object for advanced fills.\n     * @param {FillInput} style - (Optional) The style to fill the path with. Can be a color, gradient, pattern, or a\n     * complex style object. If omitted, uses the current fill style.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public fill(style?: FillInput): this;\n    /** @deprecated 8.0.0 */\n    public fill(color: ColorSource, alpha?: number): this;\n    public fill(...args: [FillStyle | ColorSource, number?]): this\n    {\n        return this._callContextMethod('fill', args);\n    }\n    /**\n     * Strokes the current path with the current stroke style. This method can take an optional\n     * FillStyle parameter to define the stroke's appearance, including its color, width, and other properties.\n     * @param {FillStyle} args - (Optional) The stroke style to apply. Can be defined as a simple color or a more\n     * complex style object. If omitted, uses the current stroke style.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public stroke(...args: Parameters<GraphicsContext['stroke']>): this\n    {\n        return this._callContextMethod('stroke', args);\n    }\n    /**\n     * Adds a texture to the graphics context. This method supports multiple overloads for specifying the texture,\n     * tint, and dimensions. If only a texture is provided, it uses the texture's width and height for drawing.\n     * Additional parameters allow for specifying a tint color, and custom dimensions for the texture drawing area.\n     * @param texture - The Texture object to use.\n     * @param tint - (Optional) A ColorSource to tint the texture. If not provided, defaults to white (0xFFFFFF).\n     * @param dx - (Optional) The x-coordinate in the destination canvas at which to place the top-left corner of\n     * the source image.\n     * @param dy - (Optional) The y-coordinate in the destination canvas at which to place the top-left corner of\n     * the source image.\n     * @param dw - (Optional) The width of the rectangle within the source image to draw onto the destination canvas.\n     * If not provided, uses the texture's frame width.\n     * @param dh - (Optional) The height of the rectangle within the source image to draw onto the destination canvas.\n     * If not provided, uses the texture's frame height.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public texture(texture: Texture, tint?: ColorSource, dx?: number, dy?: number, dw?: number, dh?: number): this;\n    public texture(texture: Texture): this;\n    public texture(...args: [Texture, number?, number?, number?, number?, number?]): this\n    {\n        return this._callContextMethod('texture', args);\n    }\n    /**\n     * Resets the current path. Any previous path and its commands are discarded and a new path is\n     * started. This is typically called before beginning a new shape or series of drawing commands.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public beginPath(): this\n    {\n        return this._callContextMethod('beginPath', []);\n    }\n    /**\n     * Applies a cutout to the last drawn shape. This is used to create holes or complex shapes by\n     * subtracting a path from the previously drawn path. If a hole is not completely in a shape, it will\n     * fail to cut correctly!\n     */\n    public cut(): this\n    {\n        return this._callContextMethod('cut', []);\n    }\n    /**\n     * Adds an arc to the current path, which is centered at (x, y) with the specified radius,\n     * starting and ending angles, and direction.\n     * @param x - The x-coordinate of the arc's center.\n     * @param y - The y-coordinate of the arc's center.\n     * @param radius - The arc's radius.\n     * @param startAngle - The starting angle, in radians.\n     * @param endAngle - The ending angle, in radians.\n     * @param counterclockwise - (Optional) Specifies whether the arc is drawn counterclockwise (true) or clockwise\n     * (false). Defaults to false.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, counterclockwise?: boolean): this;\n    public arc(...args: Parameters<GraphicsContext['arc']>): this\n    {\n        return this._callContextMethod('arc', args);\n    }\n    /**\n     * Adds an arc to the current path with the given control points and radius, connected to the previous point\n     * by a straight line if necessary.\n     * @param x1 - The x-coordinate of the first control point.\n     * @param y1 - The y-coordinate of the first control point.\n     * @param x2 - The x-coordinate of the second control point.\n     * @param y2 - The y-coordinate of the second control point.\n     * @param radius - The arc's radius.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): this;\n    public arcTo(...args: Parameters<GraphicsContext['arcTo']>): this\n    {\n        return this._callContextMethod('arcTo', args);\n    }\n    /**\n     * Adds an SVG-style arc to the path, allowing for elliptical arcs based on the SVG spec.\n     * @param rx - The x-radius of the ellipse.\n     * @param ry - The y-radius of the ellipse.\n     * @param xAxisRotation - The rotation of the ellipse's x-axis relative\n     * to the x-axis of the coordinate system, in degrees.\n     * @param largeArcFlag - Determines if the arc should be greater than or less than 180 degrees.\n     * @param sweepFlag - Determines if the arc should be swept in a positive angle direction.\n     * @param x - The x-coordinate of the arc's end point.\n     * @param y - The y-coordinate of the arc's end point.\n     * @returns The instance of the current object for chaining.\n     */\n    public arcToSvg(\n        rx: number, ry: number, xAxisRotation: number, largeArcFlag: number, sweepFlag: number, x: number, y: number\n    ): this;\n    public arcToSvg(...args: Parameters<GraphicsContext['arcToSvg']>): this\n    {\n        return this._callContextMethod('arcToSvg', args);\n    }\n    /**\n     * Adds a cubic Bezier curve to the path.\n     * It requires three points: the first two are control points and the third one is the end point.\n     * The starting point is the last point in the current path.\n     * @param cp1x - The x-coordinate of the first control point.\n     * @param cp1y - The y-coordinate of the first control point.\n     * @param cp2x - The x-coordinate of the second control point.\n     * @param cp2y - The y-coordinate of the second control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public bezierCurveTo(\n        cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number, smoothness?: number\n    ): this;\n    public bezierCurveTo(...args: Parameters<GraphicsContext['bezierCurveTo']>): this\n    {\n        return this._callContextMethod('bezierCurveTo', args);\n    }\n    /**\n     * Closes the current path by drawing a straight line back to the start.\n     * If the shape is already closed or there are no points in the path, this method does nothing.\n     * @returns The instance of the current object for chaining.\n     */\n    public closePath(): this\n    {\n        return this._callContextMethod('closePath', []);\n    }\n    /**\n     * Draws an ellipse at the specified location and with the given x and y radii.\n     * An optional transformation can be applied, allowing for rotation, scaling, and translation.\n     * @param x - The x-coordinate of the center of the ellipse.\n     * @param y - The y-coordinate of the center of the ellipse.\n     * @param radiusX - The horizontal radius of the ellipse.\n     * @param radiusY - The vertical radius of the ellipse.\n     * @returns The instance of the current object for chaining.\n     */\n    public ellipse(x: number, y: number, radiusX: number, radiusY: number): this;\n    public ellipse(...args: Parameters<GraphicsContext['ellipse']>): this\n    {\n        return this._callContextMethod('ellipse', args);\n    }\n    /**\n     * Draws a circle shape. This method adds a new circle path to the current drawing.\n     * @param x - The x-coordinate of the center of the circle.\n     * @param y - The y-coordinate of the center of the circle.\n     * @param radius - The radius of the circle.\n     * @returns The instance of the current object for chaining.\n     */\n    public circle(x: number, y: number, radius: number): this;\n    public circle(...args: Parameters<GraphicsContext['circle']>): this\n    {\n        return this._callContextMethod('circle', args);\n    }\n    /**\n     * Adds another `GraphicsPath` to this path, optionally applying a transformation.\n     * @param path - The `GraphicsPath` to add.\n     * @returns The instance of the current object for chaining.\n     */\n    public path(path: GraphicsPath): this;\n    public path(...args: Parameters<GraphicsContext['path']>): this\n    {\n        return this._callContextMethod('path', args);\n    }\n    /**\n     * Connects the current point to a new point with a straight line. This method updates the current path.\n     * @param x - The x-coordinate of the new point to connect to.\n     * @param y - The y-coordinate of the new point to connect to.\n     * @returns The instance of the current object for chaining.\n     */\n    public lineTo(x: number, y: number): this;\n    public lineTo(...args: Parameters<GraphicsContext['lineTo']>): this\n    {\n        return this._callContextMethod('lineTo', args);\n    }\n    /**\n     * Sets the starting point for a new sub-path. Any subsequent drawing commands are considered part of this path.\n     * @param x - The x-coordinate for the starting point.\n     * @param y - The y-coordinate for the starting point.\n     * @returns The instance of the current object for chaining.\n     */\n    public moveTo(x: number, y: number): this;\n    public moveTo(...args: Parameters<GraphicsContext['moveTo']>): this\n    {\n        return this._callContextMethod('moveTo', args);\n    }\n    /**\n     * Adds a quadratic curve to the path. It requires two points: the control point and the end point.\n     * The starting point is the last point in the current path.\n     * @param cpx - The x-coordinate of the control point.\n     * @param cpy - The y-coordinate of the control point.\n     * @param x - The x-coordinate of the end point.\n     * @param y - The y-coordinate of the end point.\n     * @param smoothness - Optional parameter to adjust the smoothness of the curve.\n     * @returns The instance of the current object for chaining.\n     */\n    public quadraticCurveTo(cpx: number, cpy: number, x: number, y: number, smoothness?: number): this;\n    public quadraticCurveTo(...args: Parameters<GraphicsContext['quadraticCurveTo']>): this\n    {\n        return this._callContextMethod('quadraticCurveTo', args);\n    }\n    /**\n     * Draws a rectangle shape. This method adds a new rectangle path to the current drawing.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @returns The instance of the current object for chaining.\n     */\n    public rect(x: number, y: number, w: number, h: number): this;\n    public rect(...args: Parameters<GraphicsContext['rect']>): this\n    {\n        return this._callContextMethod('rect', args);\n    }\n    /**\n     * Draws a rectangle with rounded corners.\n     * The corner radius can be specified to determine how rounded the corners should be.\n     * An optional transformation can be applied, which allows for rotation, scaling, and translation of the rectangle.\n     * @param x - The x-coordinate of the top-left corner of the rectangle.\n     * @param y - The y-coordinate of the top-left corner of the rectangle.\n     * @param w - The width of the rectangle.\n     * @param h - The height of the rectangle.\n     * @param radius - The radius of the rectangle's corners. If not specified, corners will be sharp.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundRect(x: number, y: number, w: number, h: number, radius?: number): this;\n    public roundRect(...args: Parameters<GraphicsContext['roundRect']>): this\n    {\n        return this._callContextMethod('roundRect', args);\n    }\n    /**\n     * Draws a polygon shape by specifying a sequence of points. This method allows for the creation of complex polygons,\n     * which can be both open and closed. An optional transformation can be applied, enabling the polygon to be scaled,\n     * rotated, or translated as needed.\n     * @param points - An array of numbers, or an array of PointData objects eg [{x,y}, {x,y}, {x,y}]\n     * representing the x and y coordinates, of the polygon's vertices, in sequence.\n     * @param close - A boolean indicating whether to close the polygon path. True by default.\n     * @returns The instance of the current object for chaining further drawing commands.\n     */\n    public poly(points: number[] | PointData[], close?: boolean): this;\n    public poly(...args: Parameters<GraphicsContext['poly']>): this\n    {\n        return this._callContextMethod('poly', args);\n    }\n    /**\n     * Draws a regular polygon with a specified number of sides. All sides and angles are equal.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @param transform - An optional `Matrix` object to apply a transformation to the polygon.\n     * @returns The instance of the current object for chaining.\n     */\n    public regularPoly(x: number, y: number, radius: number, sides: number, rotation?: number, transform?: Matrix): this;\n    public regularPoly(...args: Parameters<GraphicsContext['regularPoly']>): this\n    {\n        return this._callContextMethod('regularPoly', args);\n    }\n    /**\n     * Draws a polygon with rounded corners.\n     * Similar to `regularPoly` but with the ability to round the corners of the polygon.\n     * @param x - The x-coordinate of the center of the polygon.\n     * @param y - The y-coordinate of the center of the polygon.\n     * @param radius - The radius of the circumscribed circle of the polygon.\n     * @param sides - The number of sides of the polygon. Must be 3 or more.\n     * @param corner - The radius of the rounding of the corners.\n     * @param rotation - The rotation angle of the polygon, in radians. Zero by default.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundPoly(x: number, y: number, radius: number, sides: number, corner: number, rotation?: number): this;\n    public roundPoly(...args: Parameters<GraphicsContext['roundPoly']>): this\n    {\n        return this._callContextMethod('roundPoly', args);\n    }\n    /**\n     * Draws a shape with rounded corners. This function supports custom radius for each corner of the shape.\n     * Optionally, corners can be rounded using a quadratic curve instead of an arc, providing a different aesthetic.\n     * @param points - An array of `RoundedPoint` representing the corners of the shape to draw.\n     * A minimum of 3 points is required.\n     * @param radius - The default radius for the corners.\n     * This radius is applied to all corners unless overridden in `points`.\n     * @param useQuadratic - If set to true, rounded corners are drawn using a quadraticCurve\n     *  method instead of an arc method. Defaults to false.\n     * @param smoothness - Specifies the smoothness of the curve when `useQuadratic` is true.\n     * Higher values make the curve smoother.\n     * @returns The instance of the current object for chaining.\n     */\n    public roundShape(points: RoundedPoint[], radius: number, useQuadratic?: boolean, smoothness?: number): this;\n    public roundShape(...args: Parameters<GraphicsContext['roundShape']>): this\n    {\n        return this._callContextMethod('roundShape', args);\n    }\n    /**\n     * Draw Rectangle with fillet corners. This is much like rounded rectangle\n     * however it support negative numbers as well for the corner radius.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param fillet - accept negative or positive values\n     */\n    public filletRect(x: number, y: number, width: number, height: number, fillet: number): this;\n    public filletRect(...args: Parameters<GraphicsContext['filletRect']>): this\n    {\n        return this._callContextMethod('filletRect', args);\n    }\n    /**\n     * Draw Rectangle with chamfer corners. These are angled corners.\n     * @param x - Upper left corner of rect\n     * @param y - Upper right corner of rect\n     * @param width - Width of rect\n     * @param height - Height of rect\n     * @param chamfer - non-zero real number, size of corner cutout\n     * @param transform\n     */\n    public chamferRect(x: number, y: number, width: number, height: number, chamfer: number, transform?: Matrix): this;\n    public chamferRect(...args: Parameters<GraphicsContext['chamferRect']>): this\n    {\n        return this._callContextMethod('chamferRect', args);\n    }\n    /**\n     * Draws a star shape centered at a specified location. This method allows for the creation\n     *  of stars with a variable number of points, outer radius, optional inner radius, and rotation.\n     * The star is drawn as a closed polygon with alternating outer and inner vertices to create the star's points.\n     * An optional transformation can be applied to scale, rotate, or translate the star as needed.\n     * @param x - The x-coordinate of the center of the star.\n     * @param y - The y-coordinate of the center of the star.\n     * @param points - The number of points of the star.\n     * @param radius - The outer radius of the star (distance from the center to the outer points).\n     * @param innerRadius - Optional. The inner radius of the star\n     * (distance from the center to the inner points between the outer points).\n     * If not provided, defaults to half of the `radius`.\n     * @param rotation - Optional. The rotation of the star in radians, where 0 is aligned with the y-axis.\n     * Defaults to 0, meaning one point is directly upward.\n     * @returns The instance of the current object for chaining further drawing commands.\n     */\n    public star(x: number, y: number, points: number, radius: number, innerRadius?: number, rotation?: number): this;\n    public star(...args: Parameters<GraphicsContext['star']>): this\n    {\n        return this._callContextMethod('star', args);\n    }\n    /**\n     * Parses and renders an SVG string into the graphics context. This allows for complex shapes and paths\n     * defined in SVG format to be drawn within the graphics context.\n     * @param svg - The SVG string to be parsed and rendered.\n     */\n    public svg(svg: string): this;\n    public svg(...args: Parameters<GraphicsContext['svg']>): this\n    {\n        return this._callContextMethod('svg', args);\n    }\n    /**\n     * Restores the most recently saved graphics state by popping the top of the graphics state stack.\n     * This includes transformations, fill styles, and stroke styles.\n     */\n    public restore(): this;\n    public restore(...args: Parameters<GraphicsContext['restore']>): this\n    {\n        return this._callContextMethod('restore', args);\n    }\n    /** Saves the current graphics state, including transformations, fill styles, and stroke styles, onto a stack. */\n    public save(): this\n    {\n        return this._callContextMethod('save', []);\n    }\n    /**\n     * Returns the current transformation matrix of the graphics context.\n     * @returns The current transformation matrix.\n     */\n    public getTransform(): Matrix\n    {\n        return this.context.getTransform();\n    }\n    /**\n     * Resets the current transformation matrix to the identity matrix, effectively removing\n     * any transformations (rotation, scaling, translation) previously applied.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public resetTransform(): this\n    {\n        return this._callContextMethod('resetTransform', []);\n    }\n    /**\n     * Applies a rotation transformation to the graphics context around the current origin.\n     * @param angle - The angle of rotation in radians.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public rotateTransform(angle: number): this;\n    public rotateTransform(...args: Parameters<GraphicsContext['rotate']>): this\n    {\n        return this._callContextMethod('rotate', args);\n    }\n    /**\n     * Applies a scaling transformation to the graphics context, scaling drawings by x horizontally and by y vertically.\n     * @param x - The scale factor in the horizontal direction.\n     * @param y - (Optional) The scale factor in the vertical direction.\n     * If not specified, the x value is used for both directions.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public scaleTransform(x: number, y?: number): this;\n    public scaleTransform(...args: Parameters<GraphicsContext['scale']>): this\n    {\n        return this._callContextMethod('scale', args);\n    }\n    /**\n     * Sets the current transformation matrix of the graphics context to the specified matrix or values.\n     * This replaces the current transformation matrix.\n     * @param a - The value for the a property of the matrix, or a Matrix object to use directly.\n     * @param b - The value for the b property of the matrix.\n     * @param c - The value for the c property of the matrix.\n     * @param d - The value for the d property of the matrix.\n     * @param dx - The value for the tx (translate x) property of the matrix.\n     * @param dy - The value for the ty (translate y) property of the matrix.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public setTransform(transform: Matrix): this;\n    public setTransform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public setTransform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this;\n    public setTransform(...args: [Matrix] | [number, number, number, number, number, number]): this\n    {\n        return this._callContextMethod('setTransform', args);\n    }\n    /**\n     * Applies the specified transformation matrix to the current graphics context by multiplying\n     * the current matrix with the specified matrix.\n     * @param a - The value for the a property of the matrix, or a Matrix object to use directly.\n     * @param b - The value for the b property of the matrix.\n     * @param c - The value for the c property of the matrix.\n     * @param d - The value for the d property of the matrix.\n     * @param dx - The value for the tx (translate x) property of the matrix.\n     * @param dy - The value for the ty (translate y) property of the matrix.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public transform(transform: Matrix): this;\n    public transform(a: number, b: number, c: number, d: number, dx: number, dy: number): this;\n    public transform(a: number | Matrix, b?: number, c?: number, d?: number, dx?: number, dy?: number): this;\n    public transform(...args: [Matrix] | [number, number, number, number, number, number]): this\n    {\n        return this._callContextMethod('transform', args);\n    }\n    /**\n     * Applies a translation transformation to the graphics context, moving the origin by the specified amounts.\n     * @param x - The amount to translate in the horizontal direction.\n     * @param y - (Optional) The amount to translate in the vertical direction. If not specified,\n     * the x value is used for both directions.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public translateTransform(x: number, y?: number): this;\n    public translateTransform(...args: Parameters<GraphicsContext['translate']>): this\n    {\n        return this._callContextMethod('translate', args);\n    }\n    /**\n     * Clears all drawing commands from the graphics context, effectively resetting it. This includes clearing the path,\n     * and optionally resetting transformations to the identity matrix.\n     * @returns The instance of the current GraphicsContext for method chaining.\n     */\n    public clear(): this\n    {\n        return this._callContextMethod('clear', []);\n    }\n    /**\n     * The fill style to use.\n     * @type {ConvertedFillStyle}\n     */\n    get fillStyle(): GraphicsContext['fillStyle']\n    {\n        return this._context.fillStyle;\n    }\n    set fillStyle(value: FillInput)\n    {\n        this._context.fillStyle = value;\n    }\n    /**\n     * The stroke style to use.\n     * @type {ConvertedStrokeStyle}\n     */\n    get strokeStyle(): GraphicsContext['strokeStyle']\n    {\n        return this._context.strokeStyle;\n    }\n    set strokeStyle(value: StrokeStyle)\n    {\n        this._context.strokeStyle = value;\n    }\n\n    /**\n     * Creates a new Graphics object.\n     * Note that only the context of the object is cloned, not its transform (position,scale,etc)\n     * @param deep - Whether to create a deep clone of the graphics object. If false, the context\n     * will be shared between the two objects (default false). If true, the context will be\n     * cloned (recommended if you need to modify the context in any way).\n     * @returns - A clone of the graphics object\n     */\n    public clone(deep = false): Graphics\n    {\n        if (deep)\n        {\n            return new Graphics(this._context.clone());\n        }\n\n        (this._ownedContext as null) = null;\n        const clone = new Graphics(this._context);\n\n        return clone;\n    }\n\n    // -------- v7 deprecations ---------\n\n    /**\n     * @param width\n     * @param color\n     * @param alpha\n     * @deprecated since 8.0.0 Use {@link Graphics#setStrokeStyle} instead\n     */\n    public lineStyle(width?: number, color?: ColorSource, alpha?: number): this\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.');\n        // #endif\n\n        const strokeStyle: Partial<StrokeStyle> = {};\n\n        // avoid undefined assignment\n        width && (strokeStyle.width = width);\n        color && (strokeStyle.color = color);\n        alpha && (strokeStyle.alpha = alpha);\n\n        this.context.strokeStyle = strokeStyle;\n\n        return this;\n    }\n\n    /**\n     * @param color\n     * @param alpha\n     * @deprecated since 8.0.0 Use {@link Graphics#fill} instead\n     */\n    public beginFill(color: ColorSource, alpha?: number)\n    {\n        // #if _DEBUG\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.');\n        // #endif\n\n        const fillStyle: Partial<FillStyle> = {};\n\n        // avoid undefined assignment\n        if (color !== undefined) fillStyle.color = color;\n        if (alpha !== undefined) fillStyle.alpha = alpha;\n\n        this.context.fillStyle = fillStyle;\n\n        return this;\n    }\n\n    /**\n     * @deprecated since 8.0.0 Use {@link Graphics#fill} instead\n     */\n    public endFill()\n    {\n        // #if _DEBUG\n        // eslint-disable-next-line max-len\n        deprecation(v8_0_0, 'Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.');\n        // #endif\n\n        this.context.fill();\n        const strokeStyle = this.context.strokeStyle;\n\n        if (strokeStyle.width !== GraphicsContext.defaultStrokeStyle.width\n            || strokeStyle.color !== GraphicsContext.defaultStrokeStyle.color\n            || strokeStyle.alpha !== GraphicsContext.defaultStrokeStyle.alpha)\n        {\n            this.context.stroke();\n        }\n\n        return this;\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0 Use {@link Graphics#circle} instead\n     */\n    public drawCircle(...args: Parameters<GraphicsContext['circle']>): this\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Graphics#drawCircle has been renamed to Graphics#circle');\n        // #endif\n\n        return this._callContextMethod('circle', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0 Use {@link Graphics#ellipse} instead\n     */\n    public drawEllipse(...args: Parameters<GraphicsContext['ellipse']>): this\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Graphics#drawEllipse has been renamed to Graphics#ellipse');\n        // #endif\n\n        return this._callContextMethod('ellipse', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0 Use {@link Graphics#poly} instead\n     */\n    public drawPolygon(...args: Parameters<GraphicsContext['poly']>): this\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Graphics#drawPolygon has been renamed to Graphics#poly');\n        // #endif\n\n        return this._callContextMethod('poly', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0 Use {@link Graphics#rect} instead\n     */\n    public drawRect(...args: Parameters<GraphicsContext['rect']>): this\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Graphics#drawRect has been renamed to Graphics#rect');\n        // #endif\n\n        return this._callContextMethod('rect', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0 Use {@link Graphics#roundRect} instead\n     */\n    public drawRoundedRect(...args: Parameters<GraphicsContext['roundRect']>): this\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Graphics#drawRoundedRect has been renamed to Graphics#roundRect');\n        // #endif\n\n        return this._callContextMethod('roundRect', args);\n    }\n\n    /**\n     * @param {...any} args\n     * @deprecated since 8.0.0 Use {@link Graphics#star} instead\n     */\n    public drawStar(...args: Parameters<GraphicsContext['star']>): this\n    {\n        // #if _DEBUG\n        deprecation(v8_0_0, 'Graphics#drawStar has been renamed to Graphics#star');\n        // #endif\n\n        return this._callContextMethod('star', args);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10827, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10833, "column": 0}, "map": {"version":3,"file":"BitmapTextPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-bitmap/BitmapTextPipe.ts"],"sourcesContent":["import { Cache } from '../../assets/cache/Cache';\nimport { ExtensionType } from '../../extensions/Extensions';\nimport { BigPool } from '../../utils/pool/PoolGroup';\nimport { Graphics } from '../graphics/shared/Graphics';\nimport { SdfShader } from '../text/sdfShader/SdfShader';\nimport { BitmapFontManager } from './BitmapFontManager';\nimport { getBitmapTextLayout } from './utils/getBitmapTextLayout';\n\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderable } from '../../rendering/renderers/shared/Renderable';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { PoolItem } from '../../utils/pool/Pool';\nimport type { Container } from '../container/Container';\nimport type { BitmapText } from './BitmapText';\n\nexport class BitmapTextPipe implements RenderPipe<BitmapText>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'bitmapText',\n    } as const;\n\n    private _renderer: Renderer;\n    private _gpuBitmapText: Record<number, Graphics> = {};\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        this._renderer.renderableGC.addManagedHash(this, '_gpuBitmapText');\n    }\n\n    public validateRenderable(bitmapText: BitmapText): boolean\n    {\n        const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n\n        if (bitmapText._didTextUpdate)\n        {\n            bitmapText._didTextUpdate = false;\n\n            this._updateContext(bitmapText, graphicsRenderable);\n        }\n\n        return this._renderer.renderPipes.graphics.validateRenderable(graphicsRenderable);\n\n        // TODO - need to shift all the verts in the graphicsData to the new anchor\n\n        // update the anchor...\n    }\n\n    public addRenderable(bitmapText: BitmapText, instructionSet: InstructionSet)\n    {\n        const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n\n        // sync..\n        syncWithProxy(bitmapText, graphicsRenderable);\n\n        if (bitmapText._didTextUpdate)\n        {\n            bitmapText._didTextUpdate = false;\n\n            this._updateContext(bitmapText, graphicsRenderable);\n        }\n\n        this._renderer.renderPipes.graphics.addRenderable(graphicsRenderable, instructionSet);\n\n        if (graphicsRenderable.context.customShader)\n        {\n            this._updateDistanceField(bitmapText);\n        }\n    }\n\n    public destroyRenderable(bitmapText: BitmapText)\n    {\n        bitmapText.off('destroyed', this._destroyRenderableBound);\n\n        this._destroyRenderableByUid(bitmapText.uid);\n    }\n\n    private _destroyRenderableByUid(renderableUid: number)\n    {\n        const context = this._gpuBitmapText[renderableUid].context;\n\n        if (context.customShader)\n        {\n            BigPool.return(context.customShader as PoolItem);\n\n            context.customShader = null;\n        }\n\n        BigPool.return(this._gpuBitmapText[renderableUid] as PoolItem);\n        this._gpuBitmapText[renderableUid] = null;\n    }\n\n    public updateRenderable(bitmapText: BitmapText)\n    {\n        const graphicsRenderable = this._getGpuBitmapText(bitmapText);\n\n        // sync..\n        syncWithProxy(bitmapText, graphicsRenderable);\n\n        this._renderer.renderPipes.graphics.updateRenderable(graphicsRenderable);\n\n        if (graphicsRenderable.context.customShader)\n        {\n            this._updateDistanceField(bitmapText);\n        }\n    }\n\n    private _updateContext(bitmapText: BitmapText, proxyGraphics: Graphics)\n    {\n        const { context } = proxyGraphics;\n\n        const bitmapFont = BitmapFontManager.getFont(bitmapText.text, bitmapText._style);\n\n        context.clear();\n\n        if (bitmapFont.distanceField.type !== 'none')\n        {\n            if (!context.customShader)\n            {\n                context.customShader = BigPool.get(SdfShader);\n            }\n        }\n\n        const chars = Array.from(bitmapText.text);\n        const style = bitmapText._style;\n\n        let currentY = bitmapFont.baseLineOffset;\n\n        // measure our text...\n        const bitmapTextLayout = getBitmapTextLayout(chars, style, bitmapFont, true);\n\n        let index = 0;\n\n        const padding = style.padding;\n        const scale = bitmapTextLayout.scale;\n\n        let tx = bitmapTextLayout.width;\n        let ty = bitmapTextLayout.height + bitmapTextLayout.offsetY;\n\n        if (style._stroke)\n        {\n            tx += style._stroke.width / scale;\n            ty += style._stroke.width / scale;\n        }\n\n        context\n            .translate((-bitmapText._anchor._x * tx) - padding, (-bitmapText._anchor._y * ty) - padding)\n            .scale(scale, scale);\n\n        const tint = bitmapFont.applyFillAsTint ? style._fill.color : 0xFFFFFF;\n\n        for (let i = 0; i < bitmapTextLayout.lines.length; i++)\n        {\n            const line = bitmapTextLayout.lines[i];\n\n            for (let j = 0; j < line.charPositions.length; j++)\n            {\n                const char = chars[index++];\n\n                const charData = bitmapFont.chars[char];\n\n                if (charData?.texture)\n                {\n                    context.texture(\n                        charData.texture,\n                        tint ? tint : 'black',\n                        Math.round(line.charPositions[j] + charData.xOffset),\n                        Math.round(currentY + charData.yOffset),\n                    );\n                }\n            }\n\n            currentY += bitmapFont.lineHeight;\n        }\n    }\n\n    private _getGpuBitmapText(bitmapText: BitmapText)\n    {\n        return this._gpuBitmapText[bitmapText.uid] || this.initGpuText(bitmapText);\n    }\n\n    public initGpuText(bitmapText: BitmapText)\n    {\n        // TODO we could keep a bunch of contexts around and reuse one that has the same style!\n        const proxyRenderable = BigPool.get(Graphics);\n\n        this._gpuBitmapText[bitmapText.uid] = proxyRenderable;\n\n        this._updateContext(bitmapText, proxyRenderable);\n\n        bitmapText.on('destroyed', this._destroyRenderableBound);\n\n        return this._gpuBitmapText[bitmapText.uid];\n    }\n\n    private _updateDistanceField(bitmapText: BitmapText)\n    {\n        const context = this._getGpuBitmapText(bitmapText).context;\n\n        const fontFamily = bitmapText._style.fontFamily as string;\n        const dynamicFont = Cache.get(`${fontFamily as string}-bitmap`);\n\n        // Inject the shader code with the correct value\n        const { a, b, c, d } = bitmapText.groupTransform;\n\n        const dx = Math.sqrt((a * a) + (b * b));\n        const dy = Math.sqrt((c * c) + (d * d));\n        const worldScale = (Math.abs(dx) + Math.abs(dy)) / 2;\n\n        const fontScale = dynamicFont.baseRenderedFontSize / bitmapText._style.fontSize;\n\n        const distance = worldScale * dynamicFont.distanceField.range * (1 / fontScale);\n\n        context.customShader.resources.localUniforms.uniforms.uDistance = distance;\n    }\n\n    public destroy()\n    {\n        for (const uid in this._gpuBitmapText)\n        {\n            this._destroyRenderableByUid(uid as unknown as number);\n        }\n\n        this._gpuBitmapText = null;\n\n        this._renderer = null;\n    }\n}\n\nfunction syncWithProxy(container: Renderable, proxy: Renderable)\n{\n    proxy.groupTransform = container.groupTransform;\n    proxy.groupColorAlpha = container.groupColorAlpha;\n    proxy.groupColor = container.groupColor;\n    proxy.groupBlendMode = container.groupBlendMode;\n    proxy.globalDisplayStatus = container.globalDisplayStatus;\n    proxy.groupTransform = container.groupTransform;\n    proxy.localDisplayStatus = container.localDisplayStatus;\n    proxy.groupAlpha = container.groupAlpha;\n    proxy._roundPixels = container._roundPixels;\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 10986, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 10992, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-bitmap/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { BitmapTextPipe } from './BitmapTextPipe';\n\nextensions.add(BitmapTextPipe);\n"],"names":[],"mappings":";;;;;;kKAGA,aAAA,CAAW,GAAA,oLAAI,iBAAc,CAAA","ignoreList":[0]}},
    {"offset": {"line": 10999, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11005, "column": 0}, "map": {"version":3,"file":"HTMLTextRenderData.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/HTMLTextRenderData.ts"],"sourcesContent":["import type { CanvasAndContext } from '../../rendering/renderers/shared/texture/CanvasPool';\n\nexport const nssvg = 'http://www.w3.org/2000/svg';\nexport const nsxhtml = 'http://www.w3.org/1999/xhtml';\n\nexport class HTMLTextRenderData\n{\n    public svgRoot = document.createElementNS(nssvg, 'svg');\n    public foreignObject = document.createElementNS(nssvg, 'foreignObject');\n    public domElement = document.createElementNS(nsxhtml, 'div');\n    public styleElement = document.createElementNS(nsxhtml, 'style');\n    public image = new Image();\n    public canvasAndContext?: CanvasAndContext;\n\n    constructor()\n    {\n        const { foreignObject, svgRoot, styleElement, domElement } = this;\n        // Arbitrary max size\n\n        foreignObject.setAttribute('width', '10000');\n        foreignObject.setAttribute('height', '10000');\n        foreignObject.style.overflow = 'hidden';\n\n        svgRoot.appendChild(foreignObject);\n\n        foreignObject.appendChild(styleElement);\n        foreignObject.appendChild(domElement);\n    }\n}\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,KAAQ,GAAA,6BAAA;AACd,MAAM,OAAU,GAAA,+BAAA;AAEhB,MAAM,kBACb,CAAA;IAQI,WACA,EAAA;QARA,IAAA,CAAO,OAAU,GAAA,QAAA,CAAS,eAAgB,CAAA,KAAA,EAAO,KAAK,CAAA,CAAA;QACtD,IAAA,CAAO,aAAgB,GAAA,QAAA,CAAS,eAAgB,CAAA,KAAA,EAAO,eAAe,CAAA,CAAA;QACtE,IAAA,CAAO,UAAa,GAAA,QAAA,CAAS,eAAgB,CAAA,OAAA,EAAS,KAAK,CAAA,CAAA;QAC3D,IAAA,CAAO,YAAe,GAAA,QAAA,CAAS,eAAgB,CAAA,OAAA,EAAS,OAAO,CAAA,CAAA;QACxD,IAAA,CAAA,KAAA,GAAQ,IAAI,KAAM,EAAA,CAAA;QAKrB,MAAM,EAAE,aAAA,EAAe,OAAS,EAAA,YAAA,EAAc,UAAA,EAAe,GAAA,IAAA,CAAA;QAG/C,aAAA,CAAA,YAAA,CAAa,SAAS,OAAO,CAAA,CAAA;QAC7B,aAAA,CAAA,YAAA,CAAa,UAAU,OAAO,CAAA,CAAA;QAC5C,aAAA,CAAc,KAAA,CAAM,QAAW,GAAA,QAAA,CAAA;QAE/B,OAAA,CAAQ,WAAA,CAAY,aAAa,CAAA,CAAA;QAEjC,aAAA,CAAc,WAAA,CAAY,YAAY,CAAA,CAAA;QACtC,aAAA,CAAc,WAAA,CAAY,UAAU,CAAA,CAAA;IAAA,CACxC;AACJ","ignoreList":[0]}},
    {"offset": {"line": 11031, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11037, "column": 0}, "map": {"version":3,"file":"extractFontFamilies.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/extractFontFamilies.ts"],"sourcesContent":["import type { HTMLTextStyle } from '../HTMLTextStyle';\n\n/**\n * Extracts font families from text. It will extract font families from the style, tagStyles and any font families\n * embedded in the text. It should also strip out duplicates as it goes.\n * @param  text - The text to extract font families from\n * @param style - The style to extract font families from\n * @returns {string[]} - The font families as an array of strings\n */\nexport function extractFontFamilies(text: string, style: HTMLTextStyle): string[]\n{\n    const fontFamily = style.fontFamily;\n    const fontFamilies: string[] = [];\n    const dedupe: Record<string, boolean> = {};\n\n    // first ensure fonts are loaded inline..\n    // find any font..\n    const regex = /font-family:([^;\"\\s]+)/g;\n\n    const matches = text.match(regex);\n\n    function addFontFamily(fontFamily: string)\n    {\n        if (!dedupe[fontFamily])\n        {\n            fontFamilies.push(fontFamily);\n\n            dedupe[fontFamily] = true;\n        }\n    }\n\n    if (Array.isArray(fontFamily))\n    {\n        for (let i = 0; i < fontFamily.length; i++)\n        {\n            addFontFamily(fontFamily[i]);\n        }\n    }\n    else\n    {\n        addFontFamily(fontFamily);\n    }\n\n    if (matches)\n    {\n        matches.forEach((match) =>\n        {\n            const fontFamily = match.split(':')[1].trim();\n\n            addFontFamily(fontFamily);\n        });\n    }\n\n    for (const i in style.tagStyles)\n    {\n        const fontFamily = style.tagStyles[i].fontFamily;\n\n        addFontFamily(fontFamily as string);\n    }\n\n    return fontFamilies;\n}\n"],"names":["fontFamily"],"mappings":";;;;AASgB,SAAA,mBAAA,CAAoB,IAAA,EAAc,KAClD,EAAA;IACI,MAAM,aAAa,KAAM,CAAA,UAAA,CAAA;IACzB,MAAM,eAAyB,EAAC,CAAA;IAChC,MAAM,SAAkC,CAAA,CAAC,CAAA;IAIzC,MAAM,KAAQ,GAAA,yBAAA,CAAA;IAER,MAAA,OAAA,GAAU,IAAK,CAAA,KAAA,CAAM,KAAK,CAAA,CAAA;IAEhC,SAAS,cAAcA,WACvB,EAAA;QACQ,IAAA,CAAC,MAAOA,CAAAA,WAAU,CACtB,EAAA;YACI,YAAA,CAAa,IAAA,CAAKA,WAAU,CAAA,CAAA;YAE5B,MAAA,CAAOA,WAAU,CAAI,GAAA,IAAA,CAAA;QAAA,CACzB;IAAA,CACJ;IAEI,IAAA,KAAA,CAAM,OAAQ,CAAA,UAAU,CAC5B,EAAA;QACI,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,UAAA,CAAW,MAAA,EAAQ,CACvC,EAAA,CAAA;YACkB,aAAA,CAAA,UAAA,CAAW,CAAC,CAAC,CAAA,CAAA;QAAA,CAC/B;IAAA,CAGJ,MAAA;QACI,aAAA,CAAc,UAAU,CAAA,CAAA;IAAA,CAC5B;IAEA,IAAI,OACJ,EAAA;QACY,OAAA,CAAA,OAAA,CAAQ,CAAC,KACjB,KAAA;YACI,MAAMA,cAAa,KAAM,CAAA,KAAA,CAAM,GAAG,CAAE,CAAA,CAAC,CAAA,CAAE,IAAK,EAAA,CAAA;YAE5C,aAAA,CAAcA,WAAU,CAAA,CAAA;QAAA,CAC3B,CAAA,CAAA;IAAA,CACL;IAEW,IAAA,MAAA,CAAA,IAAK,MAAM,SACtB,CAAA;QACI,MAAMA,WAAa,GAAA,KAAA,CAAM,SAAU,CAAA,CAAC,CAAE,CAAA,UAAA,CAAA;QAEtC,aAAA,CAAcA,WAAoB,CAAA,CAAA;IAAA,CACtC;IAEO,OAAA,YAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 11074, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11080, "column": 0}, "map": {"version":3,"file":"loadFontAsBase64.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/loadFontAsBase64.ts"],"sourcesContent":["import { DOMAdapter } from '../../../environment/adapter';\n\n/**\n * Resolves a font url to a base64 string\n * @param url - The url to load the font from\n * @returns - The font as a base64 string\n */\nexport async function loadFontAsBase64(url: string): Promise<string>\n{\n    const response = await DOMAdapter.get().fetch(url);\n\n    const blob = await response.blob();\n\n    const reader = new FileReader();\n\n    const dataSrc: string = await new Promise((resolve, reject) =>\n    {\n        reader.onloadend = () => resolve(reader.result as string);\n        reader.onerror = reject;\n        reader.readAsDataURL(blob);\n    });\n\n    return dataSrc;\n}\n"],"names":[],"mappings":";;;;;;AAOA,eAAsB,iBAAiB,GACvC,EAAA;IACI,MAAM,WAAW,sKAAM,aAAA,CAAW,GAAI,EAAA,CAAE,KAAA,CAAM,GAAG,CAAA,CAAA;IAE3C,MAAA,IAAA,GAAO,MAAM,QAAA,CAAS,IAAK,EAAA,CAAA;IAE3B,MAAA,MAAA,GAAS,IAAI,UAAW,EAAA,CAAA;IAE9B,MAAM,UAAkB,MAAM,IAAI,OAAQ,CAAA,CAAC,SAAS,MACpD,KAAA;QACI,MAAA,CAAO,SAAY,GAAA,IAAM,OAAQ,CAAA,MAAA,CAAO,MAAgB,CAAA,CAAA;QACxD,MAAA,CAAO,OAAU,GAAA,MAAA,CAAA;QACjB,MAAA,CAAO,aAAA,CAAc,IAAI,CAAA,CAAA;IAAA,CAC5B,CAAA,CAAA;IAEM,OAAA,OAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 11099, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11105, "column": 0}, "map": {"version":3,"file":"loadFontCSS.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/loadFontCSS.ts"],"sourcesContent":["import { loadFontAsBase64 } from './loadFontAsBase64';\n\nexport interface FontCSSStyleOptions\n{\n    fontFamily: string | string[]\n    fontWeight: string\n    fontStyle: string\n}\n\n/**\n * This will take a font url and a style and return a css string that can be injected into a style tag\n * This will contain inlined base64 font and the font family information\n * @param style - the style to generate the css for\n * @param url - The url to load the font from\n * @returns - The css string\n */\nexport async function loadFontCSS(style: FontCSSStyleOptions, url: string): Promise<string>\n{\n    const dataSrc = await loadFontAsBase64(url);\n\n    return `@font-face {\n        font-family: \"${style.fontFamily}\";\n        src: url('${dataSrc}');\n        font-weight: ${style.fontWeight};\n        font-style: ${style.fontStyle};\n    }`;\n}\n"],"names":[],"mappings":";;;;;;AAgBsB,eAAA,WAAA,CAAY,KAAA,EAA4B,GAC9D,EAAA;IACU,MAAA,OAAA,GAAU,sMAAM,mBAAA,EAAiB,GAAG,CAAA,CAAA;IAEnC,OAAA,CAAA;sBAAA,EACa,MAAM,UAAU,CAAA;kBAAA,EACpB,OAAO,CAAA;qBAAA,EACJ,MAAM,UAAU,CAAA;oBAAA,EACjB,MAAM,SAAS,CAAA;KAAA,CAAA,CAAA;AAErC","ignoreList":[0]}},
    {"offset": {"line": 11122, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11128, "column": 0}, "map": {"version":3,"file":"getFontCss.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/getFontCss.ts"],"sourcesContent":["import { Cache } from '../../../assets/cache/Cache';\nimport { loadFontCSS } from './loadFontCSS';\n\nimport type { FontCSSStyleOptions } from './loadFontCSS';\n\nexport const FontStylePromiseCache = new Map<string, Promise<string>>();\n\n/**\n * takes the font families and returns a css string that can be injected into a style tag\n * It will contain the font families and the font urls encoded as base64\n * @param fontFamilies - The font families to load\n * @param style - The FontCSSStyleOptions to load the font with (used for the first font family)\n * @param defaultOptions - The default options to load the font with (used for the rest of the font families)\n * @param defaultOptions.fontWeight - The default font weight\n * @param defaultOptions.fontStyle - The default font style\n * @returns - The css string\n */\nexport async function getFontCss(\n    fontFamilies: string[],\n    style: FontCSSStyleOptions,\n    defaultOptions: {fontWeight: string, fontStyle: string}\n)\n{\n    const fontPromises = fontFamilies\n        .filter((fontFamily) => Cache.has(`${fontFamily}-and-url`))\n        .map((fontFamily, i) =>\n        {\n            if (!FontStylePromiseCache.has(fontFamily))\n            {\n                const { url } = Cache.get(`${fontFamily}-and-url`);\n\n                if (i === 0)\n                {\n                    FontStylePromiseCache.set(fontFamily, loadFontCSS({\n                        fontWeight: style.fontWeight,\n                        fontStyle: style.fontStyle,\n                        fontFamily,\n                    }, url));\n                }\n\n                else\n                {\n                    FontStylePromiseCache.set(fontFamily, loadFontCSS({\n                        fontWeight: defaultOptions.fontWeight,\n                        fontStyle: defaultOptions.fontStyle,\n                        fontFamily,\n                    }, url));\n                }\n            }\n\n            return FontStylePromiseCache.get(fontFamily);\n        });\n\n    return (await Promise.all(fontPromises)).join('\\n');\n}\n"],"names":[],"mappings":";;;;;;;;;AAKa,MAAA,qBAAA,GAAA,aAAA,GAAA,IAA4B,GAA6B,GAAA;AAYhD,eAAA,UAAA,CAClB,YACA,EAAA,KAAA,EACA,cAEJ,EAAA;IACI,MAAM,YAAe,GAAA,YAAA,CAChB,MAAO,CAAA,CAAC,aAAe,0KAAM,CAAA,GAAA,CAAI,CAAG,EAAA,UAAU,CAAA,QAAA,CAAU,CAAC,CAAA,CACzD,GAAI,CAAA,CAAC,YAAY,CAClB,KAAA;QACI,IAAI,CAAC,qBAAA,CAAsB,GAAI,CAAA,UAAU,CACzC,EAAA;YACI,MAAM,EAAE,GAAI,EAAA,qKAAI,QAAA,CAAM,GAAI,CAAA,CAAA,EAAG,UAAU,CAAU,QAAA,CAAA,CAAA,CAAA;YAEjD,IAAI,MAAM,CACV,EAAA;gBAC0B,qBAAA,CAAA,GAAA,CAAI,uMAAY,cAAA,AAAY,EAAA;oBAC9C,YAAY,KAAM,CAAA,UAAA;oBAClB,WAAW,KAAM,CAAA,SAAA;oBACjB,UAAA;gBAAA,CACJ,EAAG,GAAG,CAAC,CAAA,CAAA;YAAA,CAIX,MAAA;gBAC0B,qBAAA,CAAA,GAAA,CAAI,uMAAY,cAAA,AAAY,EAAA;oBAC9C,YAAY,cAAe,CAAA,UAAA;oBAC3B,WAAW,cAAe,CAAA,SAAA;oBAC1B,UAAA;gBAAA,CACJ,EAAG,GAAG,CAAC,CAAA,CAAA;YAAA,CACX;QAAA,CACJ;QAEO,OAAA,qBAAA,CAAsB,GAAA,CAAI,UAAU,CAAA,CAAA;IAAA,CAC9C,CAAA,CAAA;IAEL,OAAA,CAAQ,MAAM,OAAQ,CAAA,GAAA,CAAI,YAAY,CAAA,EAAG,IAAA,CAAK,IAAI,CAAA,CAAA;AACtD","ignoreList":[0]}},
    {"offset": {"line": 11162, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11168, "column": 0}, "map": {"version":3,"file":"textStyleToCSS.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/textStyleToCSS.ts"],"sourcesContent":["import { Color } from '../../../color/Color';\n\nimport type { ConvertedStrokeStyle } from '../../graphics/shared/FillTypes';\nimport type { TextStyle } from '../../text/TextStyle';\nimport type { HTMLTextStyle, HTMLTextStyleOptions } from '../HTMLTextStyle';\n\n/**\n * Internally converts all of the style properties into CSS equivalents.\n * @param style\n * @returns The CSS style string, for setting `style` property of root HTMLElement.\n */\nexport function textStyleToCSS(style: HTMLTextStyle): string\n{\n    const stroke = style._stroke;\n    const fill = style._fill;\n\n    const cssStyleString = [\n        `color: ${Color.shared.setValue(fill.color).toHex()}`,\n        `font-size: ${(style.fontSize as number)}px`,\n        `font-family: ${style.fontFamily}`,\n        `font-weight: ${style.fontWeight}`,\n        `font-style: ${style.fontStyle}`,\n        `font-variant: ${style.fontVariant}`,\n        `letter-spacing: ${style.letterSpacing}px`,\n        `text-align: ${style.align}`,\n        `padding: ${style.padding}px`,\n        `white-space: ${(style.whiteSpace === 'pre' && style.wordWrap) ? 'pre-wrap' : style.whiteSpace}`,\n        ...style.lineHeight ? [`line-height: ${style.lineHeight}px`] : [],\n        ...style.wordWrap ? [\n            `word-wrap: ${style.breakWords ? 'break-all' : 'break-word'}`,\n            `max-width: ${style.wordWrapWidth}px`\n        ] : [],\n        ...stroke ? [strokeToCSS(stroke)] : [],\n        ...style.dropShadow ? [dropShadowToCSS(style.dropShadow)] : [],\n        ...style.cssOverrides,\n    ].join(';');\n\n    const cssStyles = [`div { ${cssStyleString} }`];\n\n    tagStyleToCSS(style.tagStyles, cssStyles);\n\n    return cssStyles.join(' ');\n}\n\nfunction dropShadowToCSS(dropShadowStyle: TextStyle['dropShadow']): string\n{\n    const color = Color.shared.setValue(dropShadowStyle.color).setAlpha(dropShadowStyle.alpha).toHexa();\n    const x = Math.round(Math.cos(dropShadowStyle.angle) * dropShadowStyle.distance);\n    const y = Math.round(Math.sin(dropShadowStyle.angle) * dropShadowStyle.distance);\n\n    const position = `${x}px ${y}px`;\n\n    if (dropShadowStyle.blur > 0)\n    {\n        return `text-shadow: ${position} ${dropShadowStyle.blur}px ${color}`;\n    }\n\n    return `text-shadow: ${position} ${color}`;\n}\n\nfunction strokeToCSS(stroke: ConvertedStrokeStyle): string\n{\n    return [\n        `-webkit-text-stroke-width: ${stroke.width}px`,\n        `-webkit-text-stroke-color: ${Color.shared.setValue(stroke.color).toHex()}`,\n        `text-stroke-width: ${stroke.width}px`,\n        `text-stroke-color: ${Color.shared.setValue(stroke.color).toHex()}`,\n        'paint-order: stroke',\n    ].join(';');\n}\n\n/** Converts the tag styles into CSS. */\nconst templates = {\n    fontSize: `font-size: {{VALUE}}px`,\n    fontFamily: `font-family: {{VALUE}}`,\n    fontWeight: `font-weight: {{VALUE}}`,\n    fontStyle: `font-style: {{VALUE}}`,\n    fontVariant: `font-variant: {{VALUE}}`,\n    letterSpacing: `letter-spacing: {{VALUE}}px`,\n    align: `text-align: {{VALUE}}`,\n    padding: `padding: {{VALUE}}px`,\n    whiteSpace: `white-space: {{VALUE}}`,\n    lineHeight: `line-height: {{VALUE}}px`,\n    wordWrapWidth: `max-width: {{VALUE}}px`,\n};\n\n/** Converts the tag styles into CSS if modifications are required */\nconst transform = {\n    fill: (value: string) => `color: ${Color.shared.setValue(value).toHex()}`,\n    breakWords: (value: string) => `word-wrap: ${value ? 'break-all' : 'break-word'}`,\n    stroke: strokeToCSS,\n    dropShadow: dropShadowToCSS\n};\n\nfunction tagStyleToCSS(tagStyles: Record<string, HTMLTextStyleOptions>, out: string[])\n{\n    for (const i in tagStyles)\n    {\n        const tagStyle = tagStyles[i];\n        const cssTagStyle = [];\n\n        for (const j in tagStyle)\n        {\n            if (transform[j as keyof typeof transform])\n            {\n                cssTagStyle.push(transform[j as keyof typeof transform](tagStyle[j as keyof HTMLTextStyleOptions] as any));\n            }\n            else if (templates[j as keyof typeof templates])\n            {\n                // eslint-disable-next-line max-len\n                cssTagStyle.push(templates[j as keyof typeof templates].replace('{{VALUE}}', tagStyle[j as keyof HTMLTextStyleOptions] as any));\n            }\n        }\n\n        out.push(`${i} { ${cssTagStyle.join(';')} }`);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11263, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11269, "column": 0}, "map": {"version":3,"file":"HTMLTextStyle.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/HTMLTextStyle.ts"],"sourcesContent":["/* eslint-disable accessor-pairs */\nimport { warn } from '../../utils/logging/warn';\nimport { TextStyle } from '../text/TextStyle';\nimport { generateTextStyleKey } from '../text/utils/generateTextStyleKey';\nimport { textStyleToCSS } from './utils/textStyleToCSS';\n\nimport type { FillInput, StrokeInput } from '../graphics/shared/FillTypes';\nimport type { TextStyleOptions } from '../text/TextStyle';\n\n/**\n * Options for HTML text style, extends {@link TextStyle}.\n * @memberof text\n * @extends text.TextStyleOptions\n * @property {string[]} [cssOverrides] - CSS style(s) to add.\n * @property {Record<string, text.HTMLTextStyleOptions>} [tagStyles] - Tag styles.\n */\nexport interface HTMLTextStyleOptions extends Omit<TextStyleOptions, 'leading' | 'textBaseline' | 'trim' >\n{\n    cssOverrides?: string[];\n    tagStyles?: Record<string, HTMLTextStyleOptions>;\n}\n\n/**\n * A TextStyle object rendered by the HTMLTextSystem.\n * @memberof text\n */\nexport class HTMLTextStyle extends TextStyle\n{\n    private _cssOverrides: string[] = [];\n    private _cssStyle: string;\n    /**\n     * List of styles per tag.\n     * @example\n     * new HTMLText({\n     *   text:'<red>Red</red>,<blue>Blue</blue>,<green>Green</green>',\n     *   style:{\n     *       fontFamily: 'DM Sans',\n     *       fill: 'white',\n     *       fontSize:100,\n     *       tagStyles:{\n     *           red:{\n     *               fill:'red',\n     *           },\n     *           blue:{\n     *               fill:'blue',\n     *           },\n     *           green:{\n     *               fill:'green',\n     *           }\n     *       }\n     *   }\n     * );\n     */\n    public tagStyles: Record<string, HTMLTextStyleOptions>;\n\n    constructor(options: HTMLTextStyleOptions = {})\n    {\n        super(options);\n\n        this.cssOverrides ??= options.cssOverrides;\n        this.tagStyles = options.tagStyles ?? {};\n    }\n\n    /** List of style overrides that will be applied to the HTML text. */\n    set cssOverrides(value: string | string[])\n    {\n        this._cssOverrides = value instanceof Array ? value : [value];\n        this.update();\n    }\n\n    get cssOverrides(): string[]\n    {\n        return this._cssOverrides;\n    }\n\n    protected override _generateKey(): string\n    {\n        this._styleKey = generateTextStyleKey(this) + this._cssOverrides.join('-');\n\n        return this._styleKey;\n    }\n\n    public update()\n    {\n        this._cssStyle = null;\n        super.update();\n    }\n\n    /**\n     * Creates a new HTMLTextStyle object with the same values as this one.\n     * @returns New cloned HTMLTextStyle object\n     */\n    public clone(): HTMLTextStyle\n    {\n        return new HTMLTextStyle({\n            align: this.align,\n            breakWords: this.breakWords,\n            dropShadow: this.dropShadow ? { ...this.dropShadow } : null,\n            fill: this._fill,\n            fontFamily: this.fontFamily,\n            fontSize: this.fontSize,\n            fontStyle: this.fontStyle,\n            fontVariant: this.fontVariant,\n            fontWeight: this.fontWeight,\n            letterSpacing: this.letterSpacing,\n            lineHeight: this.lineHeight,\n            padding: this.padding,\n            stroke: this._stroke,\n            whiteSpace: this.whiteSpace,\n            wordWrap: this.wordWrap,\n            wordWrapWidth: this.wordWrapWidth,\n            cssOverrides: this.cssOverrides,\n        });\n    }\n\n    get cssStyle(): string\n    {\n        if (!this._cssStyle)\n        {\n            this._cssStyle = textStyleToCSS(this);\n        }\n\n        return this._cssStyle;\n    }\n\n    /**\n     * Add a style override, this can be any CSS property\n     * it will override any built-in style. This is the\n     * property and the value as a string (e.g., `color: red`).\n     * This will override any other internal style.\n     * @param {string} value - CSS style(s) to add.\n     * @example\n     * style.addOverride('background-color: red');\n     */\n    public addOverride(...value: string[]): void\n    {\n        const toAdd = value.filter((v) => !this.cssOverrides.includes(v));\n\n        if (toAdd.length > 0)\n        {\n            this.cssOverrides.push(...toAdd);\n            this.update();\n        }\n    }\n\n    /**\n     * Remove any overrides that match the value.\n     * @param {string} value - CSS style to remove.\n     * @example\n     * style.removeOverride('background-color: red');\n     */\n    public removeOverride(...value: string[]): void\n    {\n        const toRemove = value.filter((v) => this.cssOverrides.includes(v));\n\n        if (toRemove.length > 0)\n        {\n            this.cssOverrides = this.cssOverrides.filter((v) => !toRemove.includes(v));\n            this.update();\n        }\n    }\n\n    override set fill(value: FillInput)\n    {\n        // if its not a string or a number, then its a texture!\n        if (typeof value !== 'string' && typeof value !== 'number')\n        {\n            // #if _DEBUG\n            warn('[HTMLTextStyle] only color fill is not supported by HTMLText');\n            // #endif\n        }\n\n        super.fill = value;\n    }\n\n    override set stroke(value: StrokeInput)\n    {\n        // if its not a string or a number, then its a texture!\n        if (value && typeof value !== 'string' && typeof value !== 'number')\n        {\n            // #if _DEBUG\n            warn('[HTMLTextStyle] only color stroke is not supported by HTMLText');\n            // #endif\n        }\n\n        super.stroke = value;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11379, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11385, "column": 0}, "map": {"version":3,"file":"measureHtmlText.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/measureHtmlText.ts"],"sourcesContent":["import { HTMLTextRenderData } from '../HTMLTextRenderData';\n\nimport type { Size } from '../../../maths/misc/Size';\nimport type { HTMLTextStyle } from '../HTMLTextStyle';\n\nlet tempHTMLTextRenderData: HTMLTextRenderData;\n\n/**\n * Measures the HTML text without actually generating an image.\n * This is used to calculate the size of the text.\n * @param text - The text to measure\n * @param style - The style to use\n * @param fontStyleCSS - The font css to use\n * @param htmlTextRenderData - The HTMLTextRenderData to write the SVG to\n * @returns - The size of the text\n */\nexport function measureHtmlText(\n    text: string,\n    style: HTMLTextStyle,\n    fontStyleCSS?: string,\n    htmlTextRenderData?: HTMLTextRenderData\n): Size\n{\n    htmlTextRenderData ||= tempHTMLTextRenderData || (tempHTMLTextRenderData = new HTMLTextRenderData());\n\n    const { domElement, styleElement, svgRoot } = htmlTextRenderData;\n\n    domElement.innerHTML = `<style>${style.cssStyle};</style><div style='padding:0'>${text}</div>`;\n\n    domElement.setAttribute('style', 'transform-origin: top left; display: inline-block');\n\n    if (fontStyleCSS)\n    {\n        styleElement.textContent = fontStyleCSS;\n    }\n\n    // Measure the contents using the shadow DOM\n    document.body.appendChild(svgRoot);\n\n    const contentBounds = domElement.getBoundingClientRect();\n\n    svgRoot.remove();\n\n    // padding is included in the CSS calculation, so we need to remove it here\n    const doublePadding = style.padding * 2;\n\n    return {\n        width: contentBounds.width - doublePadding,\n        height: contentBounds.height - doublePadding,\n    };\n}\n"],"names":[],"mappings":";;;;;;AAKA,IAAI,sBAAA,CAAA;AAWG,SAAS,eACZ,CAAA,IAAA,EACA,KACA,EAAA,YAAA,EACA,kBAEJ,EAAA;IAC2B,kBAAA,IAAA,CAAA,kBAAA,GAAA,sBAAA,IAAA,CAA2B,sBAAyB,GAAA,yLAAI,qBAAmB,EAAA,CAAA,CAAA,CAAA;IAElG,MAAM,EAAE,UAAA,EAAY,YAAc,EAAA,OAAA,EAAY,GAAA,kBAAA,CAAA;IAE9C,UAAA,CAAW,SAAY,GAAA,CAAA,OAAA,EAAU,KAAM,CAAA,QAAQ,CAAA,gCAAA,EAAmC,IAAI,CAAA,MAAA,CAAA,CAAA;IAE3E,UAAA,CAAA,YAAA,CAAa,SAAS,mDAAmD,CAAA,CAAA;IAEpF,IAAI,YACJ,EAAA;QACI,YAAA,CAAa,WAAc,GAAA,YAAA,CAAA;IAAA,CAC/B;IAGS,QAAA,CAAA,IAAA,CAAK,WAAA,CAAY,OAAO,CAAA,CAAA;IAE3B,MAAA,aAAA,GAAgB,WAAW,qBAAsB,EAAA,CAAA;IAEvD,OAAA,CAAQ,MAAO,EAAA,CAAA;IAGT,MAAA,aAAA,GAAgB,MAAM,OAAU,GAAA,CAAA,CAAA;IAE/B,OAAA;QACH,KAAA,EAAO,cAAc,KAAQ,GAAA,aAAA;QAC7B,MAAA,EAAQ,cAAc,MAAS,GAAA,aAAA;IAAA,CACnC,CAAA;AACJ","ignoreList":[0]}},
    {"offset": {"line": 11411, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11417, "column": 0}, "map": {"version":3,"file":"getSVGUrl.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/getSVGUrl.ts"],"sourcesContent":["import type { HTMLTextRenderData } from '../HTMLTextRenderData';\nimport type { HTMLTextStyle } from '../HTMLTextStyle';\n\n/**\n * takes all the data and returns a svg url string can be loaded by an image element\n * @param text - The text to measure\n * @param style - The style to use\n * @param resolution - The resolution to use\n * @param fontCSS - The font css to use\n * @param htmlTextData - The HTMLTextRenderData to write the SVG to\n * @returns - The SVG as a url string\n */\nexport function getSVGUrl(\n    text: string,\n    style: HTMLTextStyle,\n    resolution: number,\n    fontCSS: string,\n    htmlTextData: HTMLTextRenderData\n)\n{\n    const { domElement, styleElement, svgRoot } = htmlTextData;\n\n    domElement.innerHTML = `<style>${style.cssStyle}</style><div style='padding:0;'>${text}</div>`;\n    domElement.setAttribute('style', `transform: scale(${resolution});transform-origin: top left; display: inline-block`);\n    styleElement.textContent = fontCSS;\n\n    const { width, height } = htmlTextData.image;\n\n    svgRoot.setAttribute('width', width.toString());\n    svgRoot.setAttribute('height', height.toString());\n\n    return new XMLSerializer().serializeToString(svgRoot);\n}\n"],"names":[],"mappings":";;;;AAYO,SAAS,SACZ,CAAA,IAAA,EACA,KACA,EAAA,UAAA,EACA,OAAA,EACA,YAEJ,EAAA;IACI,MAAM,EAAE,UAAA,EAAY,YAAc,EAAA,OAAA,EAAY,GAAA,YAAA,CAAA;IAE9C,UAAA,CAAW,SAAY,GAAA,CAAA,OAAA,EAAU,KAAM,CAAA,QAAQ,CAAA,gCAAA,EAAmC,IAAI,CAAA,MAAA,CAAA,CAAA;IACtF,UAAA,CAAW,YAAa,CAAA,OAAA,EAAS,CAAoB,iBAAA,EAAA,UAAU,CAAqD,mDAAA,CAAA,CAAA,CAAA;IACpH,YAAA,CAAa,WAAc,GAAA,OAAA,CAAA;IAE3B,MAAM,EAAE,KAAA,EAAO,MAAO,EAAA,GAAI,YAAa,CAAA,KAAA,CAAA;IAEvC,OAAA,CAAQ,YAAa,CAAA,OAAA,EAAS,KAAM,CAAA,QAAA,EAAU,CAAA,CAAA;IAC9C,OAAA,CAAQ,YAAa,CAAA,QAAA,EAAU,MAAO,CAAA,QAAA,EAAU,CAAA,CAAA;IAEhD,OAAO,IAAI,aAAA,EAAgB,CAAA,iBAAA,CAAkB,OAAO,CAAA,CAAA;AACxD","ignoreList":[0]}},
    {"offset": {"line": 11433, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11439, "column": 0}, "map": {"version":3,"file":"loadSVGImage.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/loadSVGImage.ts"],"sourcesContent":["/**\n * This function loads an SVG image into an HTMLImageElement.\n * The image can then be uploaded as texture to the GPU.\n * iOS has a bug where embedded fonts are not available immediately after the image loads,\n * so we wait an arbitrary amount of time before resolving the promise.\n * @param image - The image to load the SVG into\n * @param url - The url to load the SVG from\n * @param delay - Whether to delay the load\n * @returns - A promise that resolves when the image has loaded\n */\nexport function loadSVGImage(image: HTMLImageElement, url: string, delay: boolean)\n{\n    return new Promise<void>(async (resolve) =>\n    {\n        // Safari has a known bug where embedded fonts are not available\n        // immediately after the image loads, to compensate we wait an\n        // arbitrary amount of time\n        // @see https://bugs.webkit.org/show_bug.cgi?id=219770\n        if (delay)\n        {\n            await new Promise<void>((resolve) => setTimeout(resolve, 100));\n        }\n\n        image.onload = () =>\n        {\n            resolve();\n        };\n\n        image.src = `data:image/svg+xml;charset=utf8,${encodeURIComponent(url)}`;\n        image.crossOrigin = 'anonymous';\n    });\n}\n"],"names":["resolve"],"mappings":";;;;AAUgB,SAAA,YAAA,CAAa,KAAyB,EAAA,GAAA,EAAa,KACnE,EAAA;IACW,OAAA,IAAI,OAAc,CAAA,OAAO,OAChC,KAAA;QAKI,IAAI,KACJ,EAAA;YACI,MAAM,IAAI,OAAc,CAAA,CAACA,WAAY,UAAWA,CAAAA,QAAAA,EAAS,GAAG,CAAC,CAAA,CAAA;QAAA,CACjE;QAEA,KAAA,CAAM,MAAA,GAAS,MACf;YACY,OAAA,EAAA,CAAA;QAAA,CACZ,CAAA;QAEA,KAAA,CAAM,GAAM,GAAA,CAAA,gCAAA,EAAmC,kBAAmB,CAAA,GAAG,CAAC,CAAA,CAAA,CAAA;QACtE,KAAA,CAAM,WAAc,GAAA,WAAA,CAAA;IAAA,CACvB,CAAA,CAAA;AACL","ignoreList":[0]}},
    {"offset": {"line": 11457, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11463, "column": 0}, "map": {"version":3,"file":"getTemporaryCanvasFromImage.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/utils/getTemporaryCanvasFromImage.ts"],"sourcesContent":["import { CanvasPool } from '../../../rendering/renderers/shared/texture/CanvasPool';\n\nimport type { CanvasAndContext } from '../../../rendering/renderers/shared/texture/CanvasPool';\n\n/**\n * This function converts an image to a canvas, and returns the canvas.\n * It is used to convert images to canvases to work around a CORS issue where WebGPU cannot\n * upload an SVGImage to a texture.\n *\n * It uses the CanvasPool to get an optimal canvas and context, and then draws the image onto it.\n * Remember to return this canvas is immediately to the CanvasPool for reuse when you are done with it.\n * (eg upload it to the GPU!)\n * @param image - The image to convert to a canvas.\n * @param resolution - The resolution of the canvas.\n */\nexport function getTemporaryCanvasFromImage(image: HTMLImageElement, resolution: number): CanvasAndContext\n{\n    // Get an optimal canvas and context from the CanvasPool, based on the\n    // dimensions of the image and the desired resolution.\n    const canvasAndContext = CanvasPool.getOptimalCanvasAndContext(\n        image.width,\n        image.height,\n        resolution\n    );\n\n    // Clear the context of the canvas, and draw the image onto it.\n    const { context } = canvasAndContext;\n\n    context.clearRect(0, 0, image.width, image.height);\n    context.drawImage(image, 0, 0);\n\n    // Return the canvas.\n    return canvasAndContext;\n}\n\n"],"names":[],"mappings":";;;;;;AAegB,SAAA,2BAAA,CAA4B,KAAA,EAAyB,UACrE,EAAA;IAGI,MAAM,sNAAmB,aAAW,CAAA,0BAAA,CAChC,KAAM,CAAA,KAAA,EACN,KAAM,CAAA,MAAA,EACN,UAAA;IAIE,MAAA,EAAE,OAAA,EAAY,GAAA,gBAAA,CAAA;IAEpB,OAAA,CAAQ,SAAA,CAAU,CAAG,EAAA,CAAA,EAAG,KAAM,CAAA,KAAA,EAAO,MAAM,MAAM,CAAA,CAAA;IACzC,OAAA,CAAA,SAAA,CAAU,KAAO,EAAA,CAAA,EAAG,CAAC,CAAA,CAAA;IAGtB,OAAA,gBAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 11478, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11484, "column": 0}, "map": {"version":3,"file":"HTMLTextSystem.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/HTMLTextSystem.ts"],"sourcesContent":["import { ExtensionType } from '../../extensions/Extensions';\nimport { type CanvasAndContext, CanvasPool } from '../../rendering/renderers/shared/texture/CanvasPool';\nimport { TexturePool } from '../../rendering/renderers/shared/texture/TexturePool';\nimport { type Renderer, RendererType } from '../../rendering/renderers/types';\nimport { isSafari } from '../../utils/browser/isSafari';\nimport { warn } from '../../utils/logging/warn';\nimport { BigPool } from '../../utils/pool/PoolGroup';\nimport { getPo2TextureFromSource } from '../text/utils/getPo2TextureFromSource';\nimport { HTMLTextRenderData } from './HTMLTextRenderData';\nimport { HTMLTextStyle } from './HTMLTextStyle';\nimport { extractFontFamilies } from './utils/extractFontFamilies';\nimport { getFontCss } from './utils/getFontCss';\nimport { getSVGUrl } from './utils/getSVGUrl';\nimport { getTemporaryCanvasFromImage } from './utils/getTemporaryCanvasFromImage';\nimport { loadSVGImage } from './utils/loadSVGImage';\nimport { measureHtmlText } from './utils/measureHtmlText';\n\nimport type { System } from '../../rendering/renderers/shared/system/System';\nimport type { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport type { PoolItem } from '../../utils/pool/Pool';\nimport type { HTMLTextOptions } from './HTMLText';\nimport type { FontCSSStyleOptions } from './utils/loadFontCSS';\n\ninterface HTMLTextTexture\n{\n    texture: Texture,\n    usageCount: number,\n    promise: Promise<Texture>,\n}\n\n/**\n * System plugin to the renderer to manage HTMLText\n * @memberof rendering\n */\nexport class HTMLTextSystem implements System\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLSystem,\n            ExtensionType.WebGPUSystem,\n            ExtensionType.CanvasSystem,\n        ],\n        name: 'htmlText',\n    } as const;\n\n    public static defaultFontOptions: FontCSSStyleOptions = {\n        fontFamily: 'Arial',\n        fontStyle: 'normal',\n        fontWeight: 'normal',\n    };\n\n    private _activeTextures: Record<string, HTMLTextTexture> = {};\n\n    /**\n     * WebGPU has a cors issue when uploading an image that is an SVGImage\n     * To get around this we need to create a canvas draw the image to it and upload that instead.\n     * Bit of a shame.. but no other work around just yet!\n     */\n    private readonly _createCanvas: boolean;\n    private readonly _renderer: Renderer;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        this._createCanvas = renderer.type === RendererType.WEBGPU;\n    }\n\n    public getTexture(options: HTMLTextOptions): Promise<Texture>\n    {\n        return this._buildTexturePromise(\n            options.text as string,\n            options.resolution,\n            options.style as HTMLTextStyle\n        );\n    }\n\n    public getManagedTexture(\n        text: string,\n        resolution: number,\n        style: HTMLTextStyle,\n        textKey: string\n    ): Promise<Texture>\n    {\n        if (this._activeTextures[textKey])\n        {\n            this._increaseReferenceCount(textKey);\n\n            return this._activeTextures[textKey].promise;\n        }\n\n        const promise = this._buildTexturePromise(text, resolution, style)\n            .then((texture) =>\n            {\n                this._activeTextures[textKey].texture = texture;\n\n                return texture;\n            });\n\n        this._activeTextures[textKey] = {\n            texture: null,\n            promise,\n            usageCount: 1,\n        };\n\n        return promise;\n    }\n\n    private async _buildTexturePromise(\n        text: string,\n        resolution: number,\n        style: HTMLTextStyle,\n    )\n    {\n        const htmlTextData = BigPool.get(HTMLTextRenderData);\n        const fontFamilies = extractFontFamilies(text, style);\n        const fontCSS = await getFontCss(\n            fontFamilies,\n            style,\n            HTMLTextStyle.defaultTextStyle as {fontWeight: string, fontStyle: string}\n        );\n        const measured = measureHtmlText(text, style, fontCSS, htmlTextData);\n\n        const width = Math.ceil(Math.ceil((Math.max(1, measured.width) + (style.padding * 2))) * resolution);\n        const height = Math.ceil(Math.ceil((Math.max(1, measured.height) + (style.padding * 2))) * resolution);\n\n        const image = htmlTextData.image;\n\n        // this off set will ensure we don't get any UV bleeding!\n        const uvSafeOffset = 2;\n\n        image.width = (width | 0) + uvSafeOffset;\n        image.height = (height | 0) + uvSafeOffset;\n\n        const svgURL = getSVGUrl(text, style, resolution, fontCSS, htmlTextData);\n\n        await loadSVGImage(image, svgURL, isSafari() && fontFamilies.length > 0);\n\n        const resource: HTMLImageElement | HTMLCanvasElement = image;\n        let canvasAndContext: CanvasAndContext;\n\n        if (this._createCanvas)\n        {\n            // silly webGPU workaround..\n            canvasAndContext = getTemporaryCanvasFromImage(image, resolution);\n        }\n\n        const texture = getPo2TextureFromSource(canvasAndContext ? canvasAndContext.canvas : resource,\n            image.width - uvSafeOffset,\n            image.height - uvSafeOffset,\n            resolution\n        );\n\n        if (this._createCanvas)\n        {\n            this._renderer.texture.initSource(texture.source);\n            CanvasPool.returnCanvasAndContext(canvasAndContext);\n        }\n\n        BigPool.return(htmlTextData as PoolItem);\n\n        return texture;\n    }\n\n    private _increaseReferenceCount(textKey: string)\n    {\n        this._activeTextures[textKey].usageCount++;\n    }\n\n    public decreaseReferenceCount(textKey: string)\n    {\n        const activeTexture = this._activeTextures[textKey];\n\n        // TODO SHOULD NOT BE NEEDED\n        if (!activeTexture) return;\n\n        activeTexture.usageCount--;\n\n        if (activeTexture.usageCount === 0)\n        {\n            if (activeTexture.texture)\n            {\n                this._cleanUp(activeTexture);\n            }\n            else\n            {\n                // we did not resolve...\n                activeTexture.promise.then((texture) =>\n                {\n                    activeTexture.texture = texture;\n\n                    this._cleanUp(activeTexture);\n                }).catch(() =>\n                {\n                    // #if _DEBUG\n                    warn('HTMLTextSystem: Failed to clean texture');\n                    // #endif\n                });\n            }\n\n            this._activeTextures[textKey] = null;\n        }\n    }\n\n    private _cleanUp(activeTexture: HTMLTextTexture)\n    {\n        TexturePool.returnTexture(activeTexture.texture);\n        activeTexture.texture.source.resource = null;\n        activeTexture.texture.source.uploadMethodId = 'unknown';\n    }\n\n    public getReferenceCount(textKey: string)\n    {\n        return this._activeTextures[textKey].usageCount;\n    }\n\n    public destroy(): void\n    {\n        this._activeTextures = null;\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCO,MAAM,cACb,CAAA;IA2BI,YAAY,QACZ,CAAA;QAXA,IAAA,CAAQ,eAAA,GAAmD,CAAA,CAAC,CAAA;QAYxD,IAAA,CAAK,SAAY,GAAA,QAAA,CAAA;QACZ,IAAA,CAAA,aAAA,GAAgB,QAAS,CAAA,IAAA,8KAAS,eAAa,CAAA,MAAA,CAAA;IAAA,CACxD;IAEO,WAAW,OAClB,EAAA;QACI,OAAO,IAAK,CAAA,oBAAA,CACR,OAAQ,CAAA,IAAA,EACR,OAAQ,CAAA,UAAA,EACR,OAAQ,CAAA,KAAA;IACZ,CACJ;IAEO,iBACH,CAAA,IAAA,EACA,UACA,EAAA,KAAA,EACA,OAEJ,EAAA;QACQ,IAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAChC,EAAA;YACI,IAAA,CAAK,uBAAA,CAAwB,OAAO,CAAA,CAAA;YAE7B,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAAE,CAAA,OAAA,CAAA;QAAA,CACzC;QAEM,MAAA,OAAA,GAAU,IAAA,CAAK,oBAAqB,CAAA,IAAA,EAAM,YAAY,KAAK,CAAA,CAC5D,IAAK,CAAA,CAAC,OACP,KAAA;YACS,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAA,CAAE,OAAU,GAAA,OAAA,CAAA;YAEjC,OAAA,OAAA,CAAA;QAAA,CACV,CAAA,CAAA;QAEA,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAI,GAAA;YAC5B,OAAS,EAAA,IAAA;YACT,OAAA;YACA,UAAY,EAAA,CAAA;QAAA,CAChB,CAAA;QAEO,OAAA,OAAA,CAAA;IAAA,CACX;IAEA,MAAc,oBAAA,CACV,IACA,EAAA,UAAA,EACA,KAEJ,EAAA;QACU,MAAA,YAAA,uKAAe,UAAQ,CAAA,GAAA,sLAAI,qBAAkB,CAAA,CAAA;QAC7C,MAAA,YAAA,OAAe,qNAAA,AAAoB,EAAA,IAAA,EAAM,KAAK,CAAA,CAAA;QACpD,MAAM,UAAU,gMAAM,aAAA,EAClB,YAAA,EACA,KAAA,EACA,gMAAc,CAAA,gBAAA;QAElB,MAAM,QAAW,kMAAA,kBAAA,EAAgB,IAAM,EAAA,KAAA,EAAO,SAAS,YAAY,CAAA,CAAA;QAEnE,MAAM,KAAQ,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,IAAA,CAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,KAAK,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;QACnG,MAAM,MAAS,GAAA,IAAA,CAAK,IAAK,CAAA,IAAA,CAAK,IAAA,CAAM,IAAK,CAAA,GAAA,CAAI,CAAG,EAAA,QAAA,CAAS,MAAM,CAAK,GAAA,KAAA,CAAM,OAAU,GAAA,CAAG,IAAI,UAAU,CAAA,CAAA;QAErG,MAAM,QAAQ,YAAa,CAAA,KAAA,CAAA;QAG3B,MAAM,YAAe,GAAA,CAAA,CAAA;QAEf,KAAA,CAAA,KAAA,GAAA,CAAS,QAAQ,CAAK,IAAA,YAAA,CAAA;QACtB,KAAA,CAAA,MAAA,GAAA,CAAU,SAAS,CAAK,IAAA,YAAA,CAAA;QAE9B,MAAM,kMAAS,YAAA,AAAU,EAAA,IAAA,EAAM,KAAO,EAAA,UAAA,EAAY,SAAS,YAAY,CAAA,CAAA;QAEvE,kMAAM,eAAA,EAAa,KAAO,EAAA,MAAA,4KAAQ,WAAA,EAAc,KAAA,YAAA,CAAa,MAAA,GAAS,CAAC,CAAA,CAAA;QAEvE,MAAM,QAAiD,GAAA,KAAA,CAAA;QACnD,IAAA,gBAAA,CAAA;QAEJ,IAAI,IAAA,CAAK,aACT,EAAA;YAEuB,gBAAA,8MAAA,8BAAA,EAA4B,OAAO,UAAU,CAAA,CAAA;QAAA,CACpE;QAEA,MAAM,OAAU,kMAAA,0BAAA,EAAwB,gBAAA,GAAmB,iBAAiB,MAAS,GAAA,QAAA,EACjF,MAAM,KAAQ,GAAA,YAAA,EACd,MAAM,MAAS,GAAA,YAAA,EACf,UAAA;QAGJ,IAAI,IAAA,CAAK,aACT,EAAA;YACI,IAAA,CAAK,SAAU,CAAA,OAAA,CAAQ,UAAW,CAAA,OAAA,CAAQ,MAAM,CAAA,CAAA;8MAChD,cAAA,CAAW,sBAAA,CAAuB,gBAAgB,CAAA,CAAA;QAAA,CACtD;4KAEA,UAAA,CAAQ,MAAA,CAAO,YAAwB,CAAA,CAAA;QAEhC,OAAA,OAAA,CAAA;IAAA,CACX;IAEQ,wBAAwB,OAChC,EAAA;QACS,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAE,CAAA,UAAA,EAAA,CAAA;IAAA,CAClC;IAEO,uBAAuB,OAC9B,EAAA;QACU,MAAA,aAAA,GAAgB,IAAK,CAAA,eAAA,CAAgB,OAAO,CAAA,CAAA;QAGlD,IAAI,CAAC,aAAA,EAAe,OAAA;QAEN,aAAA,CAAA,UAAA,EAAA,CAAA;QAEV,IAAA,aAAA,CAAc,UAAA,KAAe,CACjC,EAAA;YACI,IAAI,cAAc,OAClB,EAAA;gBACI,IAAA,CAAK,QAAA,CAAS,aAAa,CAAA,CAAA;YAAA,CAG/B,MAAA;gBAEkB,aAAA,CAAA,OAAA,CAAQ,IAAK,CAAA,CAAC,OAC5B,KAAA;oBACI,aAAA,CAAc,OAAU,GAAA,OAAA,CAAA;oBAExB,IAAA,CAAK,QAAA,CAAS,aAAa,CAAA,CAAA;gBAAA,CAC9B,CAAE,CAAA,KAAA,CAAM,MACT;oBAEI,6KAAA,EAAK,yCAAyC,CAAA,CAAA;gBAAA,CAEjD,CAAA,CAAA;YAAA,CACL;YAEK,IAAA,CAAA,eAAA,CAAgB,OAAO,CAAI,GAAA,IAAA,CAAA;QAAA,CACpC;IAAA,CACJ;IAEQ,SAAS,aACjB,EAAA;4MACgB,cAAA,CAAA,aAAA,CAAc,cAAc,OAAO,CAAA,CAAA;QACjC,aAAA,CAAA,OAAA,CAAQ,MAAA,CAAO,QAAW,GAAA,IAAA,CAAA;QAC1B,aAAA,CAAA,OAAA,CAAQ,MAAA,CAAO,cAAiB,GAAA,SAAA,CAAA;IAAA,CAClD;IAEO,kBAAkB,OACzB,EAAA;QACW,OAAA,IAAA,CAAK,eAAgB,CAAA,OAAO,CAAE,CAAA,UAAA,CAAA;IAAA,CACzC;IAEO,OACP,GAAA;QACI,IAAA,CAAK,eAAkB,GAAA,IAAA,CAAA;IAAA,CAC3B;AACJ,CAAA;AAAA,YAAA,GA1La,cAAA,CAGK,SAAY,GAAA;IACtB,IAAM,EAAA;0KACF,gBAAc,CAAA,WAAA;0KACd,gBAAc,CAAA,YAAA;0KACd,gBAAc,CAAA,YAAA;KAClB;IACA,IAAM,EAAA,UAAA;AACV,CAAA,CAAA;AAVS,cAAA,CAYK,kBAA0C,GAAA;IACpD,UAAY,EAAA,OAAA;IACZ,SAAW,EAAA,QAAA;IACX,UAAY,EAAA,QAAA;AAChB,CAAA","ignoreList":[0]}},
    {"offset": {"line": 11619, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11625, "column": 0}, "map": {"version":3,"file":"HTMLTextPipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/HTMLTextPipe.ts"],"sourcesContent":["import { ExtensionType } from '../../extensions/Extensions';\nimport { Texture } from '../../rendering/renderers/shared/texture/Texture';\nimport { updateQuadBounds } from '../../utils/data/updateQuadBounds';\nimport { BigPool } from '../../utils/pool/PoolGroup';\nimport { BatchableSprite } from '../sprite/BatchableSprite';\n\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { Container } from '../container/Container';\nimport type { HTMLText } from './HTMLText';\nimport type { HTMLTextStyle } from './HTMLTextStyle';\n\nexport class HTMLTextPipe implements RenderPipe<HTMLText>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'htmlText',\n    } as const;\n\n    private _renderer: Renderer;\n\n    private _gpuText: Record<number, {\n        textureNeedsUploading: boolean;\n        generatingTexture: boolean;\n        texture: Texture,\n        currentKey: string,\n        batchableSprite: BatchableSprite,\n    }> = Object.create(null);\n\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        this._renderer.runners.resolutionChange.add(this);\n        this._renderer.renderableGC.addManagedHash(this, '_gpuText');\n    }\n\n    public resolutionChange()\n    {\n        for (const i in this._gpuText)\n        {\n            const gpuText = this._gpuText[i];\n\n            if (!gpuText) continue;\n\n            const text = gpuText.batchableSprite.renderable as HTMLText;\n\n            if (text._autoResolution)\n            {\n                text._resolution = this._renderer.resolution;\n                text.onViewUpdate();\n            }\n        }\n    }\n\n    public validateRenderable(htmlText: HTMLText): boolean\n    {\n        const gpuText = this._getGpuText(htmlText);\n\n        const newKey = htmlText._getKey();\n\n        if (gpuText.textureNeedsUploading)\n        {\n            gpuText.textureNeedsUploading = false;\n\n            return true;\n        }\n\n        if (gpuText.currentKey !== newKey)\n        {\n            // TODO - could look into optimising this a tad!\n            // if its a single texture, then we could just swap it?\n            // same for CanvasText..\n            return true;\n        }\n\n        return false;\n    }\n\n    public addRenderable(htmlText: HTMLText, instructionSet: InstructionSet)\n    {\n        const gpuText = this._getGpuText(htmlText);\n\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (htmlText._didTextUpdate)\n        {\n            this._updateText(htmlText);\n        }\n\n        this._renderer.renderPipes.batch.addToBatch(batchableSprite, instructionSet);\n    }\n\n    public updateRenderable(htmlText: HTMLText)\n    {\n        const gpuText = this._getGpuText(htmlText);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (htmlText._didTextUpdate)\n        {\n            this._updateText(htmlText);\n        }\n\n        batchableSprite._batcher.updateElement(batchableSprite);\n    }\n\n    public destroyRenderable(htmlText: HTMLText)\n    {\n        htmlText.off('destroyed', this._destroyRenderableBound);\n        this._destroyRenderableById(htmlText.uid);\n    }\n\n    private _destroyRenderableById(htmlTextUid: number)\n    {\n        const gpuText = this._gpuText[htmlTextUid];\n\n        this._renderer.htmlText.decreaseReferenceCount(gpuText.currentKey);\n\n        BigPool.return(gpuText.batchableSprite);\n\n        this._gpuText[htmlTextUid] = null;\n    }\n\n    private _updateText(htmlText: HTMLText)\n    {\n        const newKey = htmlText._getKey();\n        const gpuText = this._getGpuText(htmlText);\n        const batchableSprite = gpuText.batchableSprite;\n\n        if (gpuText.currentKey !== newKey)\n        {\n            this._updateGpuText(htmlText).catch((e) =>\n            {\n                console.error(e);\n            });\n        }\n\n        htmlText._didTextUpdate = false;\n\n        const padding = htmlText._style.padding;\n\n        updateQuadBounds(batchableSprite.bounds, htmlText._anchor, batchableSprite.texture, padding);\n    }\n\n    private async _updateGpuText(htmlText: HTMLText)\n    {\n        htmlText._didTextUpdate = false;\n\n        const gpuText = this._getGpuText(htmlText);\n\n        if (gpuText.generatingTexture) return;\n\n        const newKey = htmlText._getKey();\n\n        this._renderer.htmlText.decreaseReferenceCount(gpuText.currentKey);\n\n        gpuText.generatingTexture = true;\n\n        gpuText.currentKey = newKey;\n\n        const resolution = htmlText.resolution ?? this._renderer.resolution;\n\n        const texture = await this._renderer.htmlText.getManagedTexture(\n            htmlText.text,\n            resolution,\n            htmlText._style as HTMLTextStyle,\n            htmlText._getKey()\n        );\n\n        const batchableSprite = gpuText.batchableSprite;\n\n        batchableSprite.texture = gpuText.texture = texture;\n\n        gpuText.generatingTexture = false;\n\n        gpuText.textureNeedsUploading = true;\n        htmlText.onViewUpdate();\n\n        const padding = htmlText._style.padding;\n\n        updateQuadBounds(batchableSprite.bounds, htmlText._anchor, batchableSprite.texture, padding);\n    }\n\n    private _getGpuText(htmlText: HTMLText)\n    {\n        return this._gpuText[htmlText.uid] || this.initGpuText(htmlText);\n    }\n\n    public initGpuText(htmlText: HTMLText)\n    {\n        const gpuTextData: HTMLTextPipe['_gpuText'][number] = {\n            texture: Texture.EMPTY,\n            currentKey: '--',\n            batchableSprite: BigPool.get(BatchableSprite),\n            textureNeedsUploading: false,\n            generatingTexture: false,\n        };\n\n        const batchableSprite = gpuTextData.batchableSprite;\n\n        batchableSprite.renderable = htmlText;\n        batchableSprite.transform = htmlText.groupTransform;\n        batchableSprite.texture = Texture.EMPTY;\n        batchableSprite.bounds = { minX: 0, maxX: 1, minY: 0, maxY: 0 };\n        batchableSprite.roundPixels = (this._renderer._roundPixels | htmlText._roundPixels) as 0 | 1;\n\n        htmlText._resolution = htmlText._autoResolution ? this._renderer.resolution : htmlText.resolution;\n        this._gpuText[htmlText.uid] = gpuTextData;\n        // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n        htmlText.on('destroyed', this._destroyRenderableBound);\n\n        return gpuTextData;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuText)\n        {\n            this._destroyRenderableById(i as unknown as number);\n        }\n\n        this._gpuText = null;\n        this._renderer = null;\n    }\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 11772, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11778, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/text-html/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { HTMLTextPipe } from './HTMLTextPipe';\nimport { HTMLTextSystem } from './HTMLTextSystem';\n\nextensions.add(HTMLTextSystem);\nextensions.add(HTMLTextPipe);\n"],"names":[],"mappings":";;;;;;;;kKAIA,aAAA,CAAW,GAAA,kLAAI,iBAAc,CAAA,CAAA;kKAC7B,aAAA,CAAW,GAAA,gLAAI,eAAY,CAAA","ignoreList":[0]}},
    {"offset": {"line": 11788, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11794, "column": 0}, "map": {"version":3,"file":"MeshGeometry.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/mesh/shared/MeshGeometry.ts"],"sourcesContent":["import { Buffer } from '../../../rendering/renderers/shared/buffer/Buffer';\nimport { BufferUsage } from '../../../rendering/renderers/shared/buffer/const';\nimport { Geometry } from '../../../rendering/renderers/shared/geometry/Geometry';\nimport { deprecation, v8_0_0 } from '../../../utils/logging/deprecation';\n\nimport type { Topology } from '../../../rendering/renderers/shared/geometry/const';\nimport type { BatchMode } from '../../graphics/shared/GraphicsContext';\n\n/**\n * Options for the mesh geometry.\n * @memberof scene\n */\nexport interface MeshGeometryOptions\n{\n    /** The positions of the mesh. */\n    positions?: Float32Array;\n    /** The UVs of the mesh. */\n    uvs?: Float32Array;\n    /** The indices of the mesh. */\n    indices?: Uint32Array;\n    /** The topology of the mesh. */\n    topology?: Topology;\n    /** Whether to shrink the buffers to fit the data. */\n    shrinkBuffersToFit?: boolean;\n}\n\n/**\n * A geometry used to batch multiple meshes with the same texture.\n * @memberof scene\n */\nexport class MeshGeometry extends Geometry\n{\n    public static defaultOptions: MeshGeometryOptions = {\n        topology: 'triangle-list',\n        shrinkBuffersToFit: false,\n    };\n\n    public batchMode: BatchMode = 'auto';\n\n    /**\n     * @param {scene.MeshGeometryOptions} options - The options of the mesh geometry.\n     */\n    constructor(options: MeshGeometryOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(positions: Float32Array, uvs: Float32Array, indices: Uint32Array);\n    constructor(...args: [MeshGeometryOptions] | [Float32Array, Float32Array, Uint32Array])\n    {\n        let options = args[0] ?? {};\n\n        if (options instanceof Float32Array)\n        {\n            // #if _DEBUG\n            deprecation(v8_0_0, 'use new MeshGeometry({ positions, uvs, indices }) instead');\n            // #endif\n\n            options = {\n                positions: options,\n                uvs: args[1],\n                indices: args[2],\n            };\n        }\n\n        options = { ...MeshGeometry.defaultOptions, ...options };\n\n        const positions = options.positions || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);\n        const uvs = options.uvs || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]);\n        const indices = options.indices || new Uint32Array([0, 1, 2, 0, 2, 3]);\n\n        const shrinkToFit = options.shrinkBuffersToFit;\n\n        const positionBuffer = new Buffer({\n            data: positions,\n            label: 'attribute-mesh-positions',\n            shrinkToFit,\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n        });\n\n        const uvBuffer = new Buffer({\n            data: uvs,\n            label: 'attribute-mesh-uvs',\n            shrinkToFit,\n            usage: BufferUsage.VERTEX | BufferUsage.COPY_DST,\n        });\n\n        const indexBuffer = new Buffer({\n            data: indices,\n            label: 'index-mesh-buffer',\n            shrinkToFit,\n            usage: BufferUsage.INDEX | BufferUsage.COPY_DST,\n        });\n\n        super({\n            attributes: {\n                aPosition: {\n                    buffer: positionBuffer,\n                    format: 'float32x2',\n                    stride: 2 * 4,\n                    offset: 0,\n                },\n                aUV: {\n                    buffer: uvBuffer,\n                    format: 'float32x2',\n                    stride: 2 * 4,\n                    offset: 0,\n                },\n            },\n            indexBuffer,\n            topology: options.topology,\n        });\n    }\n\n    /** The positions of the mesh. */\n    get positions(): Float32Array\n    {\n        return this.attributes.aPosition.buffer.data as Float32Array;\n    }\n\n    set positions(value: Float32Array)\n    {\n        this.attributes.aPosition.buffer.data = value;\n    }\n\n    /** The UVs of the mesh. */\n    get uvs(): Float32Array\n    {\n        return this.attributes.aUV.buffer.data as Float32Array;\n    }\n\n    set uvs(value: Float32Array)\n    {\n        this.attributes.aUV.buffer.data = value;\n    }\n\n    /** The indices of the mesh. */\n    get indices(): Uint32Array\n    {\n        return this.indexBuffer.data as Uint32Array;\n    }\n\n    set indices(value: Uint32Array)\n    {\n        this.indexBuffer.data = value;\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AA8BO,MAAM,aAAA,GAAN,MAAM,aAAA,2MAAqB,WAClC,CAAA;IAcI,YAAA,GAAe,IACf,CAAA;QACI,IAAI,OAAU,GAAA,IAAA,CAAK,CAAC,CAAA,IAAK,CAAA,CAAC,CAAA;QAE1B,IAAI,mBAAmB,YACvB,EAAA;wLAEI,eAAA,2KAAY,SAAA,EAAQ,2DAA2D,CAAA,CAAA;YAGrE,OAAA,GAAA;gBACN,SAAW,EAAA,OAAA;gBACX,GAAA,EAAK,IAAA,CAAK,CAAC,CAAA;gBACX,OAAA,EAAS,IAAA,CAAK,CAAC,CAAA;YAAA,CACnB,CAAA;QAAA,CACJ;QAEA,OAAA,GAAU;YAAE,GAAG,aAAa,CAAA,cAAA;YAAgB,GAAG,OAAQ;QAAA,CAAA,CAAA;QAEvD,MAAM,SAAY,GAAA,OAAA,CAAQ,SAAa,IAAA,IAAI,aAAa;YAAC,CAAA;YAAG,CAAG;YAAA,CAAA;YAAG,CAAG;YAAA,CAAA;YAAG,CAAG;YAAA,CAAA;YAAG,CAAC;SAAC,CAAA,CAAA;QAChF,MAAM,GAAM,GAAA,OAAA,CAAQ,GAAO,IAAA,IAAI,aAAa;YAAC,CAAA;YAAG,CAAG;YAAA,CAAA;YAAG,CAAG;YAAA,CAAA;YAAG,CAAG;YAAA,CAAA;YAAG,CAAC;SAAC,CAAA,CAAA;QACpE,MAAM,OAAU,GAAA,OAAA,CAAQ,OAAW,IAAA,IAAI,WAAY,CAAA;YAAC,CAAG;YAAA,CAAA;YAAG,CAAG;YAAA,CAAA;YAAG,CAAG;YAAA,CAAC;SAAC,CAAA,CAAA;QAErE,MAAM,cAAc,OAAQ,CAAA,kBAAA,CAAA;QAEtB,MAAA,cAAA,GAAiB,kMAAI,SAAO,CAAA;YAC9B,IAAM,EAAA,SAAA;YACN,KAAO,EAAA,0BAAA;YACP,WAAA;YACA,KAAA,+LAAO,cAAY,CAAA,MAAA,gMAAS,cAAY,CAAA,QAAA;QAAA,CAC3C,CAAA,CAAA;QAEK,MAAA,QAAA,GAAW,kMAAI,SAAO,CAAA;YACxB,IAAM,EAAA,GAAA;YACN,KAAO,EAAA,oBAAA;YACP,WAAA;YACA,KAAA,+LAAO,cAAY,CAAA,MAAA,gMAAS,cAAY,CAAA,QAAA;QAAA,CAC3C,CAAA,CAAA;QAEK,MAAA,WAAA,GAAc,kMAAI,SAAO,CAAA;YAC3B,IAAM,EAAA,OAAA;YACN,KAAO,EAAA,mBAAA;YACP,WAAA;YACA,KAAA,+LAAO,cAAY,CAAA,KAAA,+LAAQ,eAAY,CAAA,QAAA;QAAA,CAC1C,CAAA,CAAA;QAEK,KAAA,CAAA;YACF,UAAY,EAAA;gBACR,SAAW,EAAA;oBACP,MAAQ,EAAA,cAAA;oBACR,MAAQ,EAAA,WAAA;oBACR,QAAQ,CAAI,GAAA,CAAA;oBACZ,MAAQ,EAAA,CAAA;gBAAA,CACZ;gBACA,GAAK,EAAA;oBACD,MAAQ,EAAA,QAAA;oBACR,MAAQ,EAAA,WAAA;oBACR,QAAQ,CAAI,GAAA,CAAA;oBACZ,MAAQ,EAAA,CAAA;gBAAA,CACZ;YAAA,CACJ;YACA,WAAA;YACA,UAAU,OAAQ,CAAA,QAAA;QAAA,CACrB,CAAA,CAAA;QAvEL,IAAA,CAAO,SAAuB,GAAA,MAAA,CAAA;IAAA,CAwE9B;IAAA,+BAAA,GAGA,IAAI,SACJ,GAAA;QACW,OAAA,IAAA,CAAK,UAAW,CAAA,SAAA,CAAU,MAAO,CAAA,IAAA,CAAA;IAAA,CAC5C;IAEA,IAAI,UAAU,KACd,EAAA;QACS,IAAA,CAAA,UAAA,CAAW,SAAU,CAAA,MAAA,CAAO,IAAO,GAAA,KAAA,CAAA;IAAA,CAC5C;IAAA,yBAAA,GAGA,IAAI,GACJ,GAAA;QACW,OAAA,IAAA,CAAK,UAAW,CAAA,GAAA,CAAI,MAAO,CAAA,IAAA,CAAA;IAAA,CACtC;IAEA,IAAI,IAAI,KACR,EAAA;QACS,IAAA,CAAA,UAAA,CAAW,GAAI,CAAA,MAAA,CAAO,IAAO,GAAA,KAAA,CAAA;IAAA,CACtC;IAAA,6BAAA,GAGA,IAAI,OACJ,GAAA;QACI,OAAO,IAAA,CAAK,WAAY,CAAA,IAAA,CAAA;IAAA,CAC5B;IAEA,IAAI,QAAQ,KACZ,EAAA;QACI,IAAA,CAAK,WAAA,CAAY,IAAO,GAAA,KAAA,CAAA;IAAA,CAC5B;AACJ,CAAA,CAAA;AAjHa,aAAA,CAEK,cAAsC,GAAA;IAChD,QAAU,EAAA,eAAA;IACV,kBAAoB,EAAA,KAAA;AACxB,CAAA,CAAA;AALG,IAAM,YAAN,GAAA","ignoreList":[0]}},
    {"offset": {"line": 11914, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11920, "column": 0}, "map": {"version":3,"file":"QuadGeometry.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/utils/QuadGeometry.ts"],"sourcesContent":["import { MeshGeometry } from '../../mesh/shared/MeshGeometry';\n\nexport class QuadGeometry extends MeshGeometry\n{\n    constructor()\n    {\n        super({\n            positions: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n            uvs: new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),\n            indices: new Uint32Array([0, 1, 2, 0, 2, 3]),\n        });\n    }\n}\n"],"names":[],"mappings":";;;;;;AAEO,MAAM,sMAAqB,eAClC,CAAA;IACI,WACA,EAAA;QACU,KAAA,CAAA;YACF,SAAW,EAAA,IAAI,YAAa,CAAA;gBAAC,CAAG;gBAAA,CAAA;gBAAG,CAAG;gBAAA,CAAA;gBAAG,CAAG;gBAAA,CAAA;gBAAG,CAAG;gBAAA,CAAC;aAAC,CAAA;YACpD,GAAK,EAAA,IAAI,YAAa,CAAA;gBAAC,CAAG;gBAAA,CAAA;gBAAG,CAAG;gBAAA,CAAA;gBAAG,CAAG;gBAAA,CAAA;gBAAG,CAAG;gBAAA,CAAC;aAAC,CAAA;YAC9C,OAAA,EAAS,IAAI,WAAA,CAAY;gBAAC,CAAA;gBAAG;gBAAG,CAAG;gBAAA,CAAA;gBAAG,CAAG;gBAAA,CAAC;aAAC,CAAA;QAAA,CAC9C,CAAA,CAAA;IAAA,CACL;AACJ","ignoreList":[0]}},
    {"offset": {"line": 11962, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11968, "column": 0}, "map": {"version":3,"file":"tilingBit.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/shader/tilingBit.ts"],"sourcesContent":["export const tilingBit = {\n    name: 'tiling-bit',\n    vertex: {\n        header: /* wgsl */`\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        `,\n        main: /* wgsl */`\n            uv = (tilingUniforms.uTextureTransform * vec3(uv, 1.0)).xy;\n\n            position = (position - tilingUniforms.uSizeAnchor.zw) * tilingUniforms.uSizeAnchor.xy;\n        `\n\n    },\n    fragment: {\n        header: /* wgsl */`\n            struct TilingUniforms {\n                uMapCoord:mat3x3<f32>,\n                uClampFrame:vec4<f32>,\n                uClampOffset:vec2<f32>,\n                uTextureTransform:mat3x3<f32>,\n                uSizeAnchor:vec4<f32>\n            };\n\n            @group(2) @binding(0) var<uniform> tilingUniforms: TilingUniforms;\n            @group(2) @binding(1) var uTexture: texture_2d<f32>;\n            @group(2) @binding(2) var uSampler: sampler;\n        `,\n        main: /* wgsl */`\n\n            var coord = vUV + ceil(tilingUniforms.uClampOffset - vUV);\n            coord = (tilingUniforms.uMapCoord * vec3(coord, 1.0)).xy;\n            var unclamped = coord;\n            coord = clamp(coord, tilingUniforms.uClampFrame.xy, tilingUniforms.uClampFrame.zw);\n\n            var bias = 0.;\n\n            if(unclamped.x == coord.x && unclamped.y == coord.y)\n            {\n                bias = -32.;\n            } \n\n            outColor = textureSampleBias(uTexture, uSampler, coord, bias);\n        `\n    }\n\n};\n\nexport const tilingBitGl = {\n    name: 'tiling-bit',\n    vertex: {\n        header: /* glsl */`\n            uniform mat3 uTextureTransform;\n            uniform vec4 uSizeAnchor;\n        \n        `,\n        main: /* glsl */`\n            uv = (uTextureTransform * vec3(aUV, 1.0)).xy;\n\n            position = (position - uSizeAnchor.zw) * uSizeAnchor.xy;\n        `\n\n    },\n    fragment: {\n        header: /* glsl */`\n            uniform sampler2D uTexture;\n            uniform mat3 uMapCoord;\n            uniform vec4 uClampFrame;\n            uniform vec2 uClampOffset;\n        `,\n        main: /* glsl */`\n\n        vec2 coord = vUV + ceil(uClampOffset - vUV);\n        coord = (uMapCoord * vec3(coord, 1.0)).xy;\n        vec2 unclamped = coord;\n        coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n        \n        outColor = texture(uTexture, coord, unclamped == coord ? 0.0 : -32.0);// lod-bias very negative to force lod 0\n    \n        `\n    }\n\n};\n"],"names":[],"mappings":";;;;;AAAO,MAAM,SAAY,GAAA;IACrB,IAAM,EAAA,YAAA;IACN,MAAQ,EAAA;QACJ,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;;;;;;;;;QAAA,CAAA;QAalB,IAAA,EAAA,QAAA,GAAgB,CAAA;;;;QAAA,CAAA;IAAA,CAMpB;IACA,QAAU,EAAA;QACN,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;;;;;;;;;QAAA,CAAA;QAalB,IAAA,EAAA,QAAA,GAAgB,CAAA;;;;;;;;;;;;;;;QAAA,CAAA;IAAA,CAgBpB;AAEJ,EAAA;AAEO,MAAM,WAAc,GAAA;IACvB,IAAM,EAAA,YAAA;IACN,MAAQ,EAAA;QACJ,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;QAAA,CAAA;QAKlB,IAAA,EAAA,QAAA,GAAgB,CAAA;;;;QAAA,CAAA;IAAA,CAMpB;IACA,QAAU,EAAA;QACN,MAAA,EAAA,QAAA,GAAkB,CAAA;;;;;QAAA,CAAA;QAMlB,IAAA,EAAA,QAAA,GAAgB,CAAA;;;;;;;;;QAAA,CAAA;IAAA,CAUpB;AAEJ","ignoreList":[0]}},
    {"offset": {"line": 12062, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12068, "column": 0}, "map": {"version":3,"file":"TilingSpriteShader.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/shader/TilingSpriteShader.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport {\n    compileHighShaderGlProgram,\n    compileHighShaderGpuProgram\n} from '../../../rendering/high-shader/compileHighShaderToProgram';\nimport { localUniformBit, localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit';\nimport { roundPixelsBit, roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture';\nimport { tilingBit, tilingBitGl } from './tilingBit';\n\nimport type { GlProgram } from '../../../rendering/renderers/gl/shader/GlProgram';\nimport type { GpuProgram } from '../../../rendering/renderers/gpu/shader/GpuProgram';\n\nlet gpuProgram: GpuProgram;\nlet glProgram: GlProgram;\n\nexport class TilingSpriteShader extends Shader\n{\n    constructor()\n    {\n        gpuProgram ??= compileHighShaderGpuProgram({\n            name: 'tiling-sprite-shader',\n            bits: [\n                localUniformBit,\n                tilingBit,\n                roundPixelsBit,\n            ],\n        });\n\n        glProgram ??= compileHighShaderGlProgram({\n            name: 'tiling-sprite-shader',\n            bits: [\n                localUniformBitGl,\n                tilingBitGl,\n                roundPixelsBitGl,\n            ]\n        });\n\n        const tilingUniforms = new UniformGroup({\n            uMapCoord: { value: new Matrix(), type: 'mat3x3<f32>' },\n            uClampFrame: { value: new Float32Array([0, 0, 1, 1]), type: 'vec4<f32>' },\n            uClampOffset: { value: new Float32Array([0, 0]), type: 'vec2<f32>' },\n            uTextureTransform: { value: new Matrix(), type: 'mat3x3<f32>' },\n            uSizeAnchor: { value: new Float32Array([100, 100, 0.5, 0.5]), type: 'vec4<f32>' },\n        });\n\n        super({\n            glProgram,\n            gpuProgram,\n            resources: {\n                localUniforms: new UniformGroup({\n                    uTransformMatrix: { value: new Matrix(), type: 'mat3x3<f32>' },\n                    uColor: { value: new Float32Array([1, 1, 1, 1]), type: 'vec4<f32>' },\n                    uRound: { value: 0, type: 'f32' },\n                }),\n                tilingUniforms,\n                uTexture: Texture.EMPTY.source,\n                uSampler: Texture.EMPTY.source.style,\n            }\n        });\n    }\n\n    public updateUniforms(\n        width: number, height: number,\n        matrix: Matrix,\n        anchorX: number, anchorY: number,\n        texture: Texture\n    ): void\n    {\n        const tilingUniforms = this.resources.tilingUniforms;\n\n        const textureWidth = texture.width;\n        const textureHeight = texture.height;\n        const textureMatrix = texture.textureMatrix;\n\n        const uTextureTransform = tilingUniforms.uniforms.uTextureTransform;\n\n        uTextureTransform.set(\n            matrix.a * textureWidth / width,\n            matrix.b * textureWidth / height,\n            matrix.c * textureHeight / width,\n            matrix.d * textureHeight / height,\n            matrix.tx / width,\n            matrix.ty / height);\n\n        uTextureTransform.invert();\n\n        tilingUniforms.uniforms.uMapCoord = textureMatrix.mapCoord;\n        tilingUniforms.uniforms.uClampFrame = textureMatrix.uClampFrame;\n        tilingUniforms.uniforms.uClampOffset = textureMatrix.uClampOffset;\n        tilingUniforms.uniforms.uTextureTransform = uTextureTransform;\n        tilingUniforms.uniforms.uSizeAnchor[0] = width;\n        tilingUniforms.uniforms.uSizeAnchor[1] = height;\n        tilingUniforms.uniforms.uSizeAnchor[2] = anchorX;\n        tilingUniforms.uniforms.uSizeAnchor[3] = anchorY;\n\n        if (texture)\n        {\n            this.resources.uTexture = texture.source;\n            this.resources.uSampler = texture.source.style;\n        }\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 12196, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12202, "column": 0}, "map": {"version":3,"file":"applyMatrix.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/utils/applyMatrix.ts"],"sourcesContent":["import type { Matrix } from '../../../maths/matrix/Matrix';\nimport type { TypedArray } from '../../../rendering/renderers/shared/buffer/Buffer';\n\nexport function applyMatrix(array: TypedArray, stride: number, offset: number, matrix: Matrix)\n{\n    let index = 0;\n    const size = array.length / (stride || 2);\n\n    const a = matrix.a;\n    const b = matrix.b;\n    const c = matrix.c;\n    const d = matrix.d;\n    const tx = matrix.tx;\n    const ty = matrix.ty;\n\n    offset *= stride;\n\n    while (index < size)\n    {\n        const x = array[offset];\n        const y = array[offset + 1];\n\n        array[offset] = (a * x) + (c * y) + tx;\n        array[offset + 1] = (b * x) + (d * y) + ty;\n\n        offset += stride;\n\n        index++;\n    }\n}\n"],"names":[],"mappings":";;;;AAGO,SAAS,WAAY,CAAA,KAAA,EAAmB,MAAgB,EAAA,MAAA,EAAgB,MAC/E,EAAA;IACI,IAAI,KAAQ,GAAA,CAAA,CAAA;IACN,MAAA,IAAA,GAAO,KAAM,CAAA,MAAA,GAAA,CAAU,MAAU,IAAA,CAAA,CAAA,CAAA;IAEvC,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;IACjB,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;IACjB,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;IACjB,MAAM,IAAI,MAAO,CAAA,CAAA,CAAA;IACjB,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;IAClB,MAAM,KAAK,MAAO,CAAA,EAAA,CAAA;IAER,MAAA,IAAA,MAAA,CAAA;IAEV,MAAO,QAAQ,IACf,CAAA;QACU,MAAA,CAAA,GAAI,KAAA,CAAM,MAAM,CAAA,CAAA;QAChB,MAAA,CAAA,GAAI,KAAM,CAAA,MAAA,GAAS,CAAC,CAAA,CAAA;QAE1B,KAAA,CAAM,MAAM,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;QACpC,KAAA,CAAM,SAAS,CAAC,CAAA,GAAK,CAAI,GAAA,CAAA,GAAM,IAAI,CAAK,GAAA,EAAA,CAAA;QAE9B,MAAA,IAAA,MAAA,CAAA;QAEV,KAAA,EAAA,CAAA;IAAA,CACJ;AACJ","ignoreList":[0]}},
    {"offset": {"line": 12227, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12233, "column": 0}, "map": {"version":3,"file":"setUvs.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/utils/setUvs.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { applyMatrix } from './applyMatrix';\n\nimport type { TilingSprite } from '../TilingSprite';\n\nexport function setUvs(tilingSprite: TilingSprite, uvs: Float32Array)\n{\n    const texture = tilingSprite.texture;\n\n    const width = texture.frame.width;\n    const height = texture.frame.height;\n\n    let anchorX = 0;\n    let anchorY = 0;\n\n    if (tilingSprite.applyAnchorToTexture)\n    {\n        anchorX = tilingSprite.anchor.x;\n        anchorY = tilingSprite.anchor.y;\n    }\n\n    uvs[0] = uvs[6] = -anchorX;\n    uvs[2] = uvs[4] = 1 - anchorX;\n    uvs[1] = uvs[3] = -anchorY;\n    uvs[5] = uvs[7] = 1 - anchorY;\n\n    const textureMatrix = Matrix.shared;\n\n    textureMatrix.copyFrom(tilingSprite._tileTransform.matrix);\n\n    textureMatrix.tx /= tilingSprite.width;\n    textureMatrix.ty /= tilingSprite.height;\n\n    textureMatrix.invert();\n\n    textureMatrix.scale(tilingSprite.width / width, tilingSprite.height / height);\n\n    applyMatrix(uvs, 2, 0, textureMatrix);\n}\n"],"names":[],"mappings":";;;;;;;;AAKgB,SAAA,MAAA,CAAO,YAAA,EAA4B,GACnD,EAAA;IACI,MAAM,UAAU,YAAa,CAAA,OAAA,CAAA;IAEvB,MAAA,KAAA,GAAQ,QAAQ,KAAM,CAAA,KAAA,CAAA;IACtB,MAAA,MAAA,GAAS,QAAQ,KAAM,CAAA,MAAA,CAAA;IAE7B,IAAI,OAAU,GAAA,CAAA,CAAA;IACd,IAAI,OAAU,GAAA,CAAA,CAAA;IAEd,IAAI,aAAa,oBACjB,EAAA;QACI,OAAA,GAAU,aAAa,MAAO,CAAA,CAAA,CAAA;QAC9B,OAAA,GAAU,aAAa,MAAO,CAAA,CAAA,CAAA;IAAA,CAClC;IAEA,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,CAAA,GAAI,CAAC,OAAA,CAAA;IACnB,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,CAAA,GAAI,CAAI,GAAA,OAAA,CAAA;IACtB,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,CAAA,GAAI,CAAC,OAAA,CAAA;IACnB,GAAA,CAAI,CAAC,CAAA,GAAI,GAAI,CAAA,CAAC,CAAA,GAAI,CAAI,GAAA,OAAA,CAAA;IAEtB,MAAM,mLAAgB,SAAO,CAAA,MAAA,CAAA;IAEf,aAAA,CAAA,QAAA,CAAS,YAAa,CAAA,cAAA,CAAe,MAAM,CAAA,CAAA;IAEzD,aAAA,CAAc,EAAA,IAAM,YAAa,CAAA,KAAA,CAAA;IACjC,aAAA,CAAc,EAAA,IAAM,YAAa,CAAA,MAAA,CAAA;IAEjC,aAAA,CAAc,MAAO,EAAA,CAAA;IAErB,aAAA,CAAc,KAAA,CAAM,YAAa,CAAA,KAAA,GAAQ,KAAO,EAAA,YAAA,CAAa,MAAA,GAAS,MAAM,CAAA,CAAA;mMAEhE,cAAA,EAAA,GAAA,EAAK,CAAG,EAAA,CAAA,EAAG,aAAa,CAAA,CAAA;AACxC","ignoreList":[0]}},
    {"offset": {"line": 12265, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12271, "column": 0}, "map": {"version":3,"file":"setPositions.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/utils/setPositions.ts"],"sourcesContent":["import type { TilingSprite } from '../TilingSprite';\n\nexport function setPositions(tilingSprite: TilingSprite, positions: Float32Array)\n{\n    const anchorX = tilingSprite.anchor.x;\n    const anchorY = tilingSprite.anchor.y;\n\n    positions[0] = -anchorX * tilingSprite.width;\n    positions[1] = -anchorY * tilingSprite.height;\n    positions[2] = (1 - anchorX) * tilingSprite.width;\n    positions[3] = -anchorY * tilingSprite.height;\n    positions[4] = (1 - anchorX) * tilingSprite.width;\n    positions[5] = (1 - anchorY) * tilingSprite.height;\n    positions[6] = -anchorX * tilingSprite.width;\n    positions[7] = (1 - anchorY) * tilingSprite.height;\n}\n"],"names":[],"mappings":";;;;AAEgB,SAAA,YAAA,CAAa,YAAA,EAA4B,SACzD,EAAA;IACU,MAAA,OAAA,GAAU,aAAa,MAAO,CAAA,CAAA,CAAA;IAC9B,MAAA,OAAA,GAAU,aAAa,MAAO,CAAA,CAAA,CAAA;IAEpC,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,YAAa,CAAA,KAAA,CAAA;IACvC,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,YAAa,CAAA,MAAA,CAAA;IACvC,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,YAAa,CAAA,KAAA,CAAA;IAC5C,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,YAAa,CAAA,MAAA,CAAA;IACvC,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,YAAa,CAAA,KAAA,CAAA;IAC5C,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,YAAa,CAAA,MAAA,CAAA;IAC5C,SAAA,CAAU,CAAC,CAAA,GAAI,CAAC,OAAA,GAAU,YAAa,CAAA,KAAA,CAAA;IACvC,SAAA,CAAU,CAAC,CAAA,GAAA,CAAK,CAAI,GAAA,OAAA,IAAW,YAAa,CAAA,MAAA,CAAA;AAChD","ignoreList":[0]}},
    {"offset": {"line": 12289, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12295, "column": 0}, "map": {"version":3,"file":"TilingSpritePipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/TilingSpritePipe.ts"],"sourcesContent":["import { ExtensionType } from '../../extensions/Extensions';\nimport { getAdjustedBlendModeBlend } from '../../rendering/renderers/shared/state/getAdjustedBlendModeBlend';\nimport { State } from '../../rendering/renderers/shared/state/State';\nimport { type Renderer, RendererType } from '../../rendering/renderers/types';\nimport { color32BitToUniform } from '../graphics/gpu/colorToUniform';\nimport { BatchableMesh } from '../mesh/shared/BatchableMesh';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry';\nimport { TilingSpriteShader } from './shader/TilingSpriteShader';\nimport { QuadGeometry } from './utils/QuadGeometry';\nimport { setPositions } from './utils/setPositions';\nimport { setUvs } from './utils/setUvs';\n\nimport type { WebGLRenderer } from '../../rendering/renderers/gl/WebGLRenderer';\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Container } from '../container/Container';\nimport type { TilingSprite } from './TilingSprite';\n\ninterface RenderableData\n{\n    canBatch: boolean;\n    renderable: TilingSprite\n    batchableMesh?: BatchableMesh;\n    geometry?: MeshGeometry;\n    shader?: TilingSpriteShader;\n}\n\nconst sharedQuad = new QuadGeometry();\n\nexport class TilingSpritePipe implements RenderPipe<TilingSprite>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'tilingSprite',\n    } as const;\n\n    private _renderer: Renderer;\n    private readonly _state: State = State.default2d;\n    private readonly _tilingSpriteDataHash: Record<number, RenderableData> = Object.create(null);\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        this._renderer.renderableGC.addManagedHash(this, '_tilingSpriteDataHash');\n    }\n\n    public validateRenderable(renderable: TilingSprite): boolean\n    {\n        const tilingSpriteData = this._getTilingSpriteData(renderable);\n\n        const couldBatch = tilingSpriteData.canBatch;\n\n        this._updateCanBatch(renderable);\n\n        const canBatch = tilingSpriteData.canBatch;\n\n        if (canBatch && canBatch === couldBatch)\n        {\n            const { batchableMesh } = tilingSpriteData;\n\n            return !batchableMesh._batcher.checkAndUpdateTexture(\n                batchableMesh,\n                renderable.texture\n            );\n        }\n\n        return (couldBatch !== canBatch);\n\n        // // TODO - only update if required?\n        // // only texture\n        // // only uvs\n        // // only positions?\n    }\n\n    public addRenderable(tilingSprite: TilingSprite, instructionSet: InstructionSet)\n    {\n        const batcher = this._renderer.renderPipes.batch;\n\n        // init\n        this._updateCanBatch(tilingSprite);\n\n        const tilingSpriteData = this._getTilingSpriteData(tilingSprite);\n\n        const { geometry, canBatch } = tilingSpriteData;\n\n        if (canBatch)\n        {\n            tilingSpriteData.batchableMesh ||= new BatchableMesh();\n\n            const batchableMesh = tilingSpriteData.batchableMesh;\n\n            if (tilingSprite.didViewUpdate)\n            {\n                this._updateBatchableMesh(tilingSprite);\n\n                batchableMesh.geometry = geometry;\n                batchableMesh.renderable = tilingSprite;\n                batchableMesh.transform = tilingSprite.groupTransform;\n                batchableMesh.texture = tilingSprite._texture;\n            }\n\n            batchableMesh.roundPixels = (this._renderer._roundPixels | tilingSprite._roundPixels) as 0 | 1;\n\n            batcher.addToBatch(batchableMesh, instructionSet);\n        }\n        else\n        {\n            batcher.break(instructionSet);\n\n            tilingSpriteData.shader ||= new TilingSpriteShader();\n\n            this.updateRenderable(tilingSprite);\n\n            instructionSet.add(tilingSprite);\n        }\n    }\n\n    public execute(tilingSprite: TilingSprite)\n    {\n        const { shader } = this._tilingSpriteDataHash[tilingSprite.uid];\n\n        shader.groups[0] = this._renderer.globalUniforms.bindGroup;\n\n        // deal with local uniforms...\n        const localUniforms = shader.resources.localUniforms.uniforms;\n\n        localUniforms.uTransformMatrix = tilingSprite.groupTransform;\n        localUniforms.uRound = this._renderer._roundPixels | tilingSprite._roundPixels;\n\n        color32BitToUniform(\n            tilingSprite.groupColorAlpha,\n            localUniforms.uColor,\n            0\n        );\n\n        this._state.blendMode = getAdjustedBlendModeBlend(tilingSprite.groupBlendMode, tilingSprite.texture._source);\n\n        this._renderer.encoder.draw({\n            geometry: sharedQuad,\n            shader,\n            state: this._state,\n        });\n    }\n\n    public updateRenderable(tilingSprite: TilingSprite)\n    {\n        const tilingSpriteData = this._getTilingSpriteData(tilingSprite);\n\n        const { canBatch } = tilingSpriteData;\n\n        if (canBatch)\n        {\n            const { batchableMesh } = tilingSpriteData;\n\n            if (tilingSprite.didViewUpdate) this._updateBatchableMesh(tilingSprite);\n\n            batchableMesh._batcher.updateElement(batchableMesh);\n        }\n        else if (tilingSprite.didViewUpdate)\n        {\n            const { shader } = tilingSpriteData;\n            // now update uniforms...\n\n            shader.updateUniforms(\n                tilingSprite.width,\n                tilingSprite.height,\n                tilingSprite._tileTransform.matrix,\n                tilingSprite.anchor.x,\n                tilingSprite.anchor.y,\n                tilingSprite.texture,\n            );\n        }\n    }\n\n    public destroyRenderable(tilingSprite: TilingSprite)\n    {\n        const tilingSpriteData = this._getTilingSpriteData(tilingSprite);\n\n        tilingSpriteData.batchableMesh = null;\n\n        tilingSpriteData.shader?.destroy();\n\n        this._tilingSpriteDataHash[tilingSprite.uid] = null;\n\n        tilingSprite.off('destroyed', this._destroyRenderableBound);\n    }\n\n    private _getTilingSpriteData(renderable: TilingSprite): RenderableData\n    {\n        return this._tilingSpriteDataHash[renderable.uid] || this._initTilingSpriteData(renderable);\n    }\n\n    private _initTilingSpriteData(tilingSprite: TilingSprite): RenderableData\n    {\n        const geometry = new MeshGeometry({\n            indices: sharedQuad.indices,\n            positions: sharedQuad.positions.slice(),\n            uvs: sharedQuad.uvs.slice(),\n        });\n\n        this._tilingSpriteDataHash[tilingSprite.uid] = {\n            canBatch: true,\n            renderable: tilingSprite,\n            geometry,\n        };\n\n        tilingSprite.on('destroyed', this._destroyRenderableBound);\n\n        return this._tilingSpriteDataHash[tilingSprite.uid];\n    }\n\n    private _updateBatchableMesh(tilingSprite: TilingSprite)\n    {\n        const renderableData = this._getTilingSpriteData(tilingSprite);\n\n        const { geometry } = renderableData;\n\n        const style = tilingSprite.texture.source.style;\n\n        if (style.addressMode !== 'repeat')\n        {\n            style.addressMode = 'repeat';\n            style.update();\n        }\n\n        setUvs(tilingSprite, geometry.uvs);\n        setPositions(tilingSprite, geometry.positions);\n    }\n\n    public destroy()\n    {\n        for (const i in this._tilingSpriteDataHash)\n        {\n            this.destroyRenderable(this._tilingSpriteDataHash[i].renderable);\n        }\n\n        (this._tilingSpriteDataHash as null) = null;\n        this._renderer = null;\n    }\n\n    private _updateCanBatch(tilingSprite: TilingSprite)\n    {\n        const renderableData = this._getTilingSpriteData(tilingSprite);\n        const texture = tilingSprite.texture;\n\n        let _nonPowOf2wrapping = true;\n\n        if (this._renderer.type === RendererType.WEBGL)\n        {\n            _nonPowOf2wrapping = (this._renderer as WebGLRenderer).context.supports.nonPowOf2wrapping;\n        }\n\n        renderableData.canBatch = texture.textureMatrix.isSimple && (_nonPowOf2wrapping || texture.source.isPowerOfTwo);\n\n        return renderableData.canBatch;\n    }\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 12454, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12460, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-tiling/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { TilingSpritePipe } from './TilingSpritePipe';\n\nextensions.add(TilingSpritePipe);\n"],"names":[],"mappings":";;;;;;kKAGA,aAAA,CAAW,GAAA,wLAAI,mBAAgB,CAAA","ignoreList":[0]}},
    {"offset": {"line": 12467, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12473, "column": 0}, "map": {"version":3,"file":"PlaneGeometry.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/mesh-plane/PlaneGeometry.ts"],"sourcesContent":["import { deprecation, v8_0_0 } from '../../utils/logging/deprecation';\nimport { MeshGeometry } from '../mesh/shared/MeshGeometry';\n\nimport type { MeshGeometryOptions } from '../mesh/shared/MeshGeometry';\n\n/**\n * Constructor options used for `PlaneGeometry` instances.\n * ```js\n * const planeGeometry = new PlaneGeometry({\n *    width: 100,\n *    height: 100,\n *    verticesX: 10,\n *    verticesY: 10,\n * });\n * ```\n * @see {@link scene.PlaneGeometry}\n * @memberof scene\n */\nexport interface PlaneGeometryOptions\n{\n    /** Width of plane */\n    width?: number;\n    /** Height of plane */\n    height?: number;\n    /** Number of vertices on x-axis */\n    verticesX?: number;\n    /** Number of vertices on y-axis */\n    verticesY?: number;\n}\n\n/**\n * The PlaneGeometry allows you to draw a 2d plane\n * @memberof scene\n */\nexport class PlaneGeometry extends MeshGeometry\n{\n    public static defaultOptions: PlaneGeometryOptions & MeshGeometryOptions = {\n        width: 100,\n        height: 100,\n        verticesX: 10,\n        verticesY: 10,\n    };\n\n    /** The number of vertices on x-axis */\n    public verticesX: number;\n    /** The number of vertices on y-axis */\n    public verticesY: number;\n    /** The width of plane */\n    public width: number;\n    /** The height of plane */\n    public height: number;\n\n    /**\n     * @param {PlaneGeometryOptions} options - Options to be applied to plane geometry\n     */\n    constructor(options: PlaneGeometryOptions);\n    /** @deprecated since 8.0.0 */\n    constructor(width?: number, height?: number, verticesX?: number, verticesY?: number);\n    constructor(...args: [PlaneGeometryOptions?] | [number?, number?, number?, number?])\n    {\n        super({});\n\n        let options = args[0] ?? {};\n\n        if (typeof options === 'number')\n        {\n            // #if _DEBUG\n            // eslint-disable-next-line max-len\n            deprecation(v8_0_0, 'PlaneGeometry constructor changed please use { width, height, verticesX, verticesY } instead');\n            // #endif\n\n            options = {\n                width: options,\n                height: args[1],\n                verticesX: args[2],\n                verticesY: args[3],\n            };\n        }\n\n        this.build(options);\n    }\n\n    /**\n     * Refreshes plane coordinates\n     * @param options - Options to be applied to plane geometry\n     */\n    public build(options: PlaneGeometryOptions): void\n    {\n        options = { ...PlaneGeometry.defaultOptions, ...options };\n\n        this.verticesX = this.verticesX ?? options.verticesX;\n        this.verticesY = this.verticesY ?? options.verticesY;\n\n        this.width = this.width ?? options.width;\n        this.height = this.height ?? options.height;\n\n        const total = this.verticesX * this.verticesY;\n        const verts = [];\n        const uvs = [];\n        const indices = [];\n\n        const verticesX = this.verticesX - 1;\n        const verticesY = this.verticesY - 1;\n\n        const sizeX = (this.width) / verticesX;\n        const sizeY = (this.height) / verticesY;\n\n        for (let i = 0; i < total; i++)\n        {\n            const x = (i % this.verticesX);\n            const y = ((i / this.verticesX) | 0);\n\n            verts.push(x * sizeX, y * sizeY);\n            uvs.push(x / verticesX, y / verticesY);\n        }\n\n        const totalSub = verticesX * verticesY;\n\n        for (let i = 0; i < totalSub; i++)\n        {\n            const xpos = i % verticesX;\n            const ypos = (i / verticesX) | 0;\n\n            const value = (ypos * this.verticesX) + xpos;\n            const value2 = (ypos * this.verticesX) + xpos + 1;\n            const value3 = ((ypos + 1) * this.verticesX) + xpos;\n            const value4 = ((ypos + 1) * this.verticesX) + xpos + 1;\n\n            indices.push(value, value2, value3,\n                value2, value4, value3);\n        }\n\n        this.buffers[0].data = new Float32Array(verts);\n        this.buffers[1].data = new Float32Array(uvs);\n        this.indexBuffer.data = new Uint32Array(indices);\n\n        // ensure that the changes are uploaded\n        this.buffers[0].update();\n        this.buffers[1].update();\n        this.indexBuffer.update();\n    }\n}\n"],"names":[],"mappings":";;;;;;;;AAkCO,MAAM,cAAA,GAAN,MAAM,cAAA,0LAAsB,eACnC,CAAA;IAuBI,YAAA,GAAe,IACf,CAAA;QACI,KAAA,CAAM,CAAA,CAAE,CAAA,CAAA;QAER,IAAI,OAAU,GAAA,IAAA,CAAK,CAAC,CAAA,IAAK,CAAA,CAAC,CAAA;QAEtB,IAAA,OAAO,YAAY,QACvB,EAAA;aAGI,0LAAA,2KAAY,SAAA,EAAQ,8FAA8F,CAAA,CAAA;YAGxG,OAAA,GAAA;gBACN,KAAO,EAAA,OAAA;gBACP,MAAA,EAAQ,IAAA,CAAK,CAAC,CAAA;gBACd,SAAA,EAAW,IAAA,CAAK,CAAC,CAAA;gBACjB,SAAA,EAAW,IAAA,CAAK,CAAC,CAAA;YAAA,CACrB,CAAA;QAAA,CACJ;QAEA,IAAA,CAAK,KAAA,CAAM,OAAO,CAAA,CAAA;IAAA,CACtB;IAAA;;;GAAA,GAMO,MAAM,OACb,EAAA;QACI,OAAA,GAAU;YAAE,GAAG,cAAc,CAAA,cAAA;YAAgB,GAAG,OAAQ;QAAA,CAAA,CAAA;QAEnD,IAAA,CAAA,SAAA,GAAY,IAAK,CAAA,SAAA,IAAa,OAAQ,CAAA,SAAA,CAAA;QACtC,IAAA,CAAA,SAAA,GAAY,IAAK,CAAA,SAAA,IAAa,OAAQ,CAAA,SAAA,CAAA;QAEtC,IAAA,CAAA,KAAA,GAAQ,IAAK,CAAA,KAAA,IAAS,OAAQ,CAAA,KAAA,CAAA;QAC9B,IAAA,CAAA,MAAA,GAAS,IAAK,CAAA,MAAA,IAAU,OAAQ,CAAA,MAAA,CAAA;QAE/B,MAAA,KAAA,GAAQ,IAAK,CAAA,SAAA,GAAY,IAAK,CAAA,SAAA,CAAA;QACpC,MAAM,QAAQ,EAAC,CAAA;QACf,MAAM,MAAM,EAAC,CAAA;QACb,MAAM,UAAU,EAAC,CAAA;QAEX,MAAA,SAAA,GAAY,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;QAC7B,MAAA,SAAA,GAAY,IAAA,CAAK,SAAY,GAAA,CAAA,CAAA;QAE7B,MAAA,KAAA,GAAS,IAAA,CAAK,KAAS,GAAA,SAAA,CAAA;QACvB,MAAA,KAAA,GAAS,IAAA,CAAK,MAAU,GAAA,SAAA,CAAA;QAE9B,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,EAAO,CAC3B,EAAA,CAAA;YACU,MAAA,CAAA,GAAK,IAAI,IAAK,CAAA,SAAA,CAAA;YACd,MAAA,CAAA,GAAM,CAAI,GAAA,IAAA,CAAK,SAAa,GAAA,CAAA,CAAA;YAElC,KAAA,CAAM,IAAK,CAAA,CAAA,GAAI,KAAO,EAAA,CAAA,GAAI,KAAK,CAAA,CAAA;YAC/B,GAAA,CAAI,IAAK,CAAA,CAAA,GAAI,SAAW,EAAA,CAAA,GAAI,SAAS,CAAA,CAAA;QAAA,CACzC;QAEA,MAAM,WAAW,SAAY,GAAA,SAAA,CAAA;QAE7B,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,QAAA,EAAU,CAC9B,EAAA,CAAA;YACI,MAAM,OAAO,CAAI,GAAA,SAAA,CAAA;YACX,MAAA,IAAA,GAAQ,IAAI,SAAa,GAAA,CAAA,CAAA;YAEzB,MAAA,KAAA,GAAS,IAAO,GAAA,IAAA,CAAK,SAAa,GAAA,IAAA,CAAA;YACxC,MAAM,MAAU,GAAA,IAAA,GAAO,IAAK,CAAA,SAAA,GAAa,IAAO,GAAA,CAAA,CAAA;YAChD,MAAM,MAAW,GAAA,CAAA,IAAA,GAAO,CAAK,IAAA,IAAA,CAAK,SAAa,GAAA,IAAA,CAAA;YAC/C,MAAM,MAAW,GAAA,CAAA,IAAA,GAAO,CAAK,IAAA,IAAA,CAAK,SAAA,GAAa,IAAO,GAAA,CAAA,CAAA;YAE9C,OAAA,CAAA,IAAA,CAAK,KAAA,EAAO,MAAA,EAAQ,MAAA,EACxB,MAAA,EAAQ,MAAA,EAAQ,MAAA;QAAM,CAC9B;QAEA,IAAA,CAAK,OAAA,CAAQ,CAAC,CAAA,CAAE,IAAO,GAAA,IAAI,aAAa,KAAK,CAAA,CAAA;QAC7C,IAAA,CAAK,OAAA,CAAQ,CAAC,CAAA,CAAE,IAAO,GAAA,IAAI,aAAa,GAAG,CAAA,CAAA;QAC3C,IAAA,CAAK,WAAY,CAAA,IAAA,GAAO,IAAI,WAAA,CAAY,OAAO,CAAA,CAAA;QAG1C,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,MAAO,EAAA,CAAA;QAClB,IAAA,CAAA,OAAA,CAAQ,CAAC,CAAA,CAAE,MAAO,EAAA,CAAA;QACvB,IAAA,CAAK,WAAA,CAAY,MAAO,EAAA,CAAA;IAAA,CAC5B;AACJ,CAAA,CAAA;AA3Ga,cAAA,CAEK,cAA6D,GAAA;IACvE,KAAO,EAAA,GAAA;IACP,MAAQ,EAAA,GAAA;IACR,SAAW,EAAA,EAAA;IACX,SAAW,EAAA,EAAA;AACf,CAAA,CAAA;AAPG,IAAM,aAAN,GAAA","ignoreList":[0]}},
    {"offset": {"line": 12549, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12555, "column": 0}, "map": {"version":3,"file":"NineSliceGeometry.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-nine-slice/NineSliceGeometry.ts"],"sourcesContent":["import { PlaneGeometry } from '../mesh-plane/PlaneGeometry';\n\n/**\n * Options for the NineSliceGeometry.\n * @memberof scene\n */\nexport interface NineSliceGeometryOptions\n{\n\n    /** The width of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n    width?: number\n    /** The height of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n    height?: number\n    /** The original width of the texture */\n    originalWidth?: number\n    /** The original height of the texture */\n    originalHeight?: number\n    /** The width of the left column. */\n    leftWidth?: number\n    /** The height of the top row. */\n    topHeight?: number\n    /** The width of the right column. */\n    rightWidth?: number\n    /** The height of the bottom row. */\n    bottomHeight?: number\n}\n\n/**\n * The NineSliceGeometry class allows you to create a NineSlicePlane object.\n * @memberof scene\n */\nexport class NineSliceGeometry extends PlaneGeometry\n{\n    /** The default options for the NineSliceGeometry. */\n    public static defaultOptions: NineSliceGeometryOptions = {\n        /** The width of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n        width: 100,\n        /** The height of the NineSlicePlane, setting this will actually modify the vertices and UV's of this plane. */\n        height: 100,\n        /** The width of the left column. */\n        leftWidth: 10,\n        /** The height of the top row. */\n        topHeight: 10,\n        /** The width of the right column. */\n        rightWidth: 10,\n        /** The height of the bottom row. */\n        bottomHeight: 10,\n\n        /** The original width of the texture */\n        originalWidth: 100,\n        /** The original height of the texture */\n        originalHeight: 100,\n    };\n\n    public _leftWidth: number;\n    public _rightWidth: number;\n    public _topHeight: number;\n    public _bottomHeight: number;\n\n    private _originalWidth: number;\n    private _originalHeight: number;\n\n    constructor(options: NineSliceGeometryOptions = {})\n    {\n        options = { ...NineSliceGeometry.defaultOptions, ...options };\n\n        super({\n            width: options.width,\n            height: options.height,\n            verticesX: 4,\n            verticesY: 4,\n        });\n\n        this.update(options);\n    }\n\n    /**\n     * Updates the NineSliceGeometry with the options.\n     * @param options - The options of the NineSliceGeometry.\n     */\n    public update(options: NineSliceGeometryOptions)\n    {\n        this.width = options.width ?? this.width;\n        this.height = options.height ?? this.height;\n        this._originalWidth = options.originalWidth ?? this._originalWidth;\n        this._originalHeight = options.originalHeight ?? this._originalHeight;\n        this._leftWidth = options.leftWidth ?? this._leftWidth;\n        this._rightWidth = options.rightWidth ?? this._rightWidth;\n        this._topHeight = options.topHeight ?? this._topHeight;\n        this._bottomHeight = options.bottomHeight ?? this._bottomHeight;\n\n        this.updateUvs();\n        this.updatePositions();\n    }\n\n    /** Updates the positions of the vertices. */\n    public updatePositions()\n    {\n        const positions = this.positions;\n\n        const w = this._leftWidth + this._rightWidth;\n        const scaleW = this.width > w ? 1.0 : this.width / w;\n\n        const h = this._topHeight + this._bottomHeight;\n        const scaleH = this.height > h ? 1.0 : this.height / h;\n\n        const scale = Math.min(scaleW, scaleH);\n\n        positions[9] = positions[11] = positions[13] = positions[15] = this._topHeight * scale;\n        positions[17] = positions[19] = positions[21] = positions[23] = this.height - (this._bottomHeight * scale);\n        positions[25] = positions[27] = positions[29] = positions[31] = this.height;\n\n        positions[2] = positions[10] = positions[18] = positions[26] = this._leftWidth * scale;\n        positions[4] = positions[12] = positions[20] = positions[28] = this.width - (this._rightWidth * scale);\n        positions[6] = positions[14] = positions[22] = positions[30] = this.width;\n\n        this.getBuffer('aPosition').update();\n    }\n\n    /** Updates the UVs of the vertices. */\n    public updateUvs()\n    {\n        const uvs = this.uvs;\n\n        uvs[0] = uvs[8] = uvs[16] = uvs[24] = 0;\n        uvs[1] = uvs[3] = uvs[5] = uvs[7] = 0;\n\n        uvs[6] = uvs[14] = uvs[22] = uvs[30] = 1;\n        uvs[25] = uvs[27] = uvs[29] = uvs[31] = 1;\n\n        const _uvw = 1.0 / this._originalWidth;\n        const _uvh = 1.0 / this._originalHeight;\n\n        uvs[2] = uvs[10] = uvs[18] = uvs[26] = _uvw * this._leftWidth;\n        uvs[9] = uvs[11] = uvs[13] = uvs[15] = _uvh * this._topHeight;\n\n        uvs[4] = uvs[12] = uvs[20] = uvs[28] = 1 - (_uvw * this._rightWidth);\n        uvs[17] = uvs[19] = uvs[21] = uvs[23] = 1 - (_uvh * this._bottomHeight);\n\n        this.getBuffer('aUV').update();\n    }\n}\n\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 12633, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12639, "column": 0}, "map": {"version":3,"file":"NineSliceSpritePipe.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-nine-slice/NineSliceSpritePipe.ts"],"sourcesContent":["import { ExtensionType } from '../../extensions/Extensions';\nimport { BigPool } from '../../utils/pool/PoolGroup';\nimport { BatchableMesh } from '../mesh/shared/BatchableMesh';\nimport { NineSliceGeometry } from './NineSliceGeometry';\n\nimport type { InstructionSet } from '../../rendering/renderers/shared/instructions/InstructionSet';\nimport type { RenderPipe } from '../../rendering/renderers/shared/instructions/RenderPipe';\nimport type { Renderer } from '../../rendering/renderers/types';\nimport type { PoolItem } from '../../utils/pool/Pool';\nimport type { Container } from '../container/Container';\nimport type { NineSliceSprite } from './NineSliceSprite';\n\nexport class NineSliceSpritePipe implements RenderPipe<NineSliceSprite>\n{\n    /** @ignore */\n    public static extension = {\n        type: [\n            ExtensionType.WebGLPipes,\n            ExtensionType.WebGPUPipes,\n            ExtensionType.CanvasPipes,\n        ],\n        name: 'nineSliceSprite',\n    } as const;\n\n    private readonly _renderer: Renderer;\n    private readonly _gpuSpriteHash: Record<number, BatchableMesh> = Object.create(null);\n    private readonly _destroyRenderableBound = this.destroyRenderable.bind(this) as (renderable: Container) => void;\n\n    constructor(renderer: Renderer)\n    {\n        this._renderer = renderer;\n        this._renderer.renderableGC.addManagedHash(this, '_gpuSpriteHash');\n    }\n\n    public addRenderable(sprite: NineSliceSprite, instructionSet: InstructionSet)\n    {\n        const gpuSprite = this._getGpuSprite(sprite);\n\n        if (sprite.didViewUpdate) this._updateBatchableSprite(sprite, gpuSprite);\n\n        this._renderer.renderPipes.batch.addToBatch(gpuSprite, instructionSet);\n    }\n\n    public updateRenderable(sprite: NineSliceSprite)\n    {\n        const gpuSprite = this._gpuSpriteHash[sprite.uid];\n\n        if (sprite.didViewUpdate) this._updateBatchableSprite(sprite, gpuSprite);\n\n        gpuSprite._batcher.updateElement(gpuSprite);\n    }\n\n    public validateRenderable(sprite: NineSliceSprite): boolean\n    {\n        const gpuSprite = this._getGpuSprite(sprite);\n\n        return !gpuSprite._batcher.checkAndUpdateTexture(\n            gpuSprite,\n            sprite._texture\n        );\n    }\n\n    public destroyRenderable(sprite: NineSliceSprite)\n    {\n        const batchableMesh = this._gpuSpriteHash[sprite.uid];\n\n        // this will call reset!\n        BigPool.return(batchableMesh.geometry as PoolItem);\n        BigPool.return(batchableMesh as PoolItem);\n\n        this._gpuSpriteHash[sprite.uid] = null;\n\n        sprite.off('destroyed', this._destroyRenderableBound);\n    }\n\n    private _updateBatchableSprite(sprite: NineSliceSprite, batchableSprite: BatchableMesh)\n    {\n        (batchableSprite.geometry as NineSliceGeometry)\n            .update(sprite);\n\n        // = sprite.bounds;\n        batchableSprite.texture = sprite._texture;\n    }\n\n    private _getGpuSprite(sprite: NineSliceSprite): BatchableMesh\n    {\n        return this._gpuSpriteHash[sprite.uid] || this._initGPUSprite(sprite);\n    }\n\n    private _initGPUSprite(sprite: NineSliceSprite): BatchableMesh\n    {\n        const batchableMesh = BigPool.get(BatchableMesh);\n\n        batchableMesh.geometry = BigPool.get(NineSliceGeometry);\n        batchableMesh.renderable = sprite;\n        batchableMesh.transform = sprite.groupTransform;\n        batchableMesh.texture = sprite._texture;\n        batchableMesh.roundPixels = (this._renderer._roundPixels | sprite._roundPixels) as 0 | 1;\n\n        this._gpuSpriteHash[sprite.uid] = batchableMesh;\n\n        // if the sprite has not been updated by the view, we need to update the batchable mesh now.\n        if (!sprite.didViewUpdate)\n        {\n            this._updateBatchableSprite(sprite, batchableMesh);\n        }\n\n        // TODO perhaps manage this outside this pipe? (a bit like how we update / add)\n        sprite.on('destroyed', this._destroyRenderableBound);\n\n        return batchableMesh;\n    }\n\n    public destroy()\n    {\n        for (const i in this._gpuSpriteHash)\n        {\n            const batchableMesh = this._gpuSpriteHash[i];\n\n            batchableMesh.geometry.destroy();\n        }\n\n        (this._gpuSpriteHash as null) = null;\n        (this._renderer as null) = null;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 12719, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12725, "column": 0}, "map": {"version":3,"file":"init.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/sprite-nine-slice/init.ts"],"sourcesContent":["import { extensions } from '../../extensions/Extensions';\nimport { NineSliceSpritePipe } from './NineSliceSpritePipe';\n\nextensions.add(NineSliceSpritePipe);\n"],"names":[],"mappings":";;;;;;kKAGA,aAAA,CAAW,GAAA,kMAAI,sBAAmB,CAAA","ignoreList":[0]}},
    {"offset": {"line": 12732, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12738, "column": 0}, "map": {"version":3,"file":"getFastGlobalBounds.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/bounds/getFastGlobalBounds.ts"],"sourcesContent":["import { Matrix } from '../../../maths/matrix/Matrix';\nimport { boundsPool } from './utils/matrixAndBoundsPool';\n\nimport type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Container } from '../Container';\nimport type { Bounds } from './Bounds';\n\n// TODO could we cache local bounds on the render groups?\n\nconst tempMatrix = new Matrix();\n\n/**\n * Does exactly the same as getGlobalBounds, but does instead makes use of transforming AABBs\n * of the various children within the scene graph. This is much faster, but less accurate.\n *\n * the result will never be smaller - only ever slightly larger (in most cases, it will be the same).\n * @param target - The target container to get the bounds from\n * @param bounds - The output bounds object.\n * @returns The bounds.\n */\nexport function getFastGlobalBounds(target: Container, bounds: Bounds): Bounds\n{\n    bounds.clear();\n\n    _getGlobalBoundsRecursive(target, bounds);\n\n    if (!bounds.isValid)\n    {\n        bounds.set(0, 0, 0, 0);\n    }\n\n    const renderGroup = target.renderGroup || target.parentRenderGroup;\n\n    bounds.applyMatrix(renderGroup.worldTransform);\n\n    return bounds;\n}\n\nexport function _getGlobalBoundsRecursive(\n    target: Container,\n    bounds: Bounds,\n)\n{\n    if (target.localDisplayStatus !== 0b111 || !target.measurable)\n    {\n        return;\n    }\n\n    const manageEffects = !!target.effects.length;\n\n    let localBounds = bounds;\n\n    if (target.renderGroup || manageEffects)\n    {\n        localBounds = boundsPool.get().clear();\n    }\n\n    if (target.boundsArea)\n    {\n        bounds.addRect(target.boundsArea, target.worldTransform);\n    }\n    else\n    {\n        if (target.renderPipeId)\n        {\n            const viewBounds = (target as Renderable).bounds;\n\n            localBounds.addFrame(\n                viewBounds.minX,\n                viewBounds.minY,\n                viewBounds.maxX,\n                viewBounds.maxY,\n                target.groupTransform\n            );\n        }\n\n        const children = target.children;\n\n        for (let i = 0; i < children.length; i++)\n        {\n            _getGlobalBoundsRecursive(children[i], localBounds);\n        }\n    }\n\n    if (manageEffects)\n    {\n        let advanced = false;\n\n        const renderGroup = target.renderGroup || target.parentRenderGroup;\n\n        for (let i = 0; i < target.effects.length; i++)\n        {\n            if (target.effects[i].addBounds)\n            {\n                if (!advanced)\n                {\n                    advanced = true;\n                    localBounds.applyMatrix(renderGroup.worldTransform);\n                }\n\n                target.effects[i].addBounds(localBounds, true);\n            }\n        }\n\n        if (advanced)\n        {\n            localBounds.applyMatrix(renderGroup.worldTransform.copyTo(tempMatrix).invert());\n            bounds.addBounds(localBounds, target.relativeGroupTransform);\n        }\n\n        bounds.addBounds(localBounds);\n        boundsPool.return(localBounds);\n    }\n    else if (target.renderGroup)\n    {\n        bounds.addBounds(localBounds, target.relativeGroupTransform);\n        boundsPool.return(localBounds);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}},
    {"offset": {"line": 12804, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 12810, "column": 0}, "map": {"version":3,"file":"getRenderableBounds.mjs","sources":["file://D%3A/dev/slot-game/frontend/node_modules/pixi.js/src/scene/container/bounds/getRenderableBounds.ts"],"sourcesContent":["import type { Renderable } from '../../../rendering/renderers/shared/Renderable';\nimport type { Bounds } from './Bounds';\n\nexport function getGlobalRenderableBounds(renderables: Renderable[], bounds: Bounds): Bounds\n{\n    bounds.clear();\n\n    // instead of copying the matrix each time we are assigning it in bounds\n    // this is a performance hack :D\n    // so we need to restore the matrix after we are done\n\n    const tempMatrix = bounds.matrix;\n\n    for (let i = 0; i < renderables.length; i++)\n    {\n        const renderable = renderables[i];\n\n        if (renderable.globalDisplayStatus < 0b111)\n        {\n            continue;\n        }\n\n        bounds.matrix = renderable.worldTransform;\n        bounds.addBounds(renderable.bounds);\n    }\n\n    bounds.matrix = tempMatrix;\n\n    return bounds;\n}\n"],"names":[],"mappings":";;;;AAGgB,SAAA,yBAAA,CAA0B,WAAA,EAA2B,MACrE,EAAA;IACI,MAAA,CAAO,KAAM,EAAA,CAAA;IAMb,MAAM,aAAa,MAAO,CAAA,MAAA,CAAA;IAE1B,IAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,WAAA,CAAY,MAAA,EAAQ,CACxC,EAAA,CAAA;QACU,MAAA,UAAA,GAAa,WAAA,CAAY,CAAC,CAAA,CAAA;QAE5B,IAAA,UAAA,CAAW,mBAAA,GAAsB,CACrC,EAAA;YACI,SAAA;QAAA,CACJ;QAEA,MAAA,CAAO,MAAA,GAAS,UAAW,CAAA,cAAA,CAAA;QACpB,MAAA,CAAA,SAAA,CAAU,WAAW,MAAM,CAAA,CAAA;IAAA,CACtC;IAEA,MAAA,CAAO,MAAS,GAAA,UAAA,CAAA;IAET,OAAA,MAAA,CAAA;AACX","ignoreList":[0]}},
    {"offset": {"line": 12830, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}